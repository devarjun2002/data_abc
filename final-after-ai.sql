-- MySQL Script generated by MySQL Workbench
-- Sat Jun 14 16:27:39 2025
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
-- -----------------------------------------------------
-- Schema atlas
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema atlas
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `atlas` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci ;
USE `atlas` ;

-- -----------------------------------------------------
-- Table `atlas`.`accounts_vat_rate`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_vat_rate` (
  `vat_rate_id` TINYINT NOT NULL AUTO_INCREMENT,
  `vat_rate_amount` DECIMAL(4,2) NULL DEFAULT NULL,
  `vat_rate_name` VARCHAR(10) NULL DEFAULT NULL,
  `vat_rate_description` VARCHAR(20) NULL DEFAULT NULL,
  `vat_rate_multiplier` DECIMAL(4,2) NULL DEFAULT NULL,
  `vat_rate_external_id` VARCHAR(100) NULL DEFAULT NULL,
  PRIMARY KEY (`vat_rate_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`country`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`country` (
  `country_id` INT NOT NULL AUTO_INCREMENT,
  `country_name` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `country_code` VARCHAR(5) NULL DEFAULT NULL,
  PRIMARY KEY (`country_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`company`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`company` (
  `company_id` INT NOT NULL AUTO_INCREMENT,
  `company_token` VARCHAR(40) NULL DEFAULT NULL,
  `company_legal_name` VARCHAR(100) NULL DEFAULT NULL,
  `company_trading_name` VARCHAR(255) NULL DEFAULT NULL,
  `company_registration_number` VARCHAR(10) NULL DEFAULT NULL,
  `company_default_vat_rate` TINYINT NULL DEFAULT NULL,
  `company_vat_registration_number` VARCHAR(20) NULL DEFAULT NULL,
  `company_reg_office_property_number_name` VARCHAR(50) NULL DEFAULT NULL,
  `company_reg_office_address_line_1` VARCHAR(255) NULL DEFAULT NULL,
  `company_reg_office_address_line_2` VARCHAR(255) NULL DEFAULT NULL,
  `company_reg_office_suburb` VARCHAR(255) NULL DEFAULT NULL,
  `company_reg_office_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `company_reg_office_postcode` VARCHAR(8) NULL DEFAULT NULL,
  `company_reg_office_country` INT NULL DEFAULT NULL,
  `company_property_number_name` VARCHAR(50) NULL DEFAULT NULL,
  `company_address_line_1` VARCHAR(255) NULL DEFAULT NULL,
  `company_address_line_2` VARCHAR(255) NULL DEFAULT NULL,
  `company_suburb` VARCHAR(255) NULL DEFAULT NULL,
  `company_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `company_postcode` VARCHAR(8) NULL DEFAULT NULL,
  `company_country` INT NULL DEFAULT NULL,
  `company_phone_number` VARCHAR(20) NULL DEFAULT NULL,
  `company_fax_number` VARCHAR(20) NULL DEFAULT NULL,
  `company_email` VARCHAR(255) NULL DEFAULT NULL,
  `company_website` VARCHAR(255) NULL DEFAULT NULL,
  `company_website_display` VARCHAR(255) NULL DEFAULT NULL,
  `company_lock_date` DATE NULL DEFAULT NULL,
  PRIMARY KEY (`company_id`),
  INDEX `fk_company_company_default_vat_rate` (`company_default_vat_rate` ASC),
  INDEX `fk_company_company_reg_office_country_idx` (`company_reg_office_country` ASC),
  INDEX `fk_company_company_country_idx` (`company_country` ASC),
  CONSTRAINT `fk_company_company_default_vat_rate`
    FOREIGN KEY (`company_default_vat_rate`)
    REFERENCES `atlas`.`accounts_vat_rate` (`vat_rate_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_company_company_reg_office_country`
    FOREIGN KEY (`company_reg_office_country`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_company_company_country`
    FOREIGN KEY (`company_country`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`bank`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`bank` (
  `bank_id` TINYINT NOT NULL AUTO_INCREMENT,
  `bank_name` VARCHAR(100) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  PRIMARY KEY (`bank_id`),
  UNIQUE INDEX `bank_name` (`bank_name` ASC) VISIBLE,
  UNIQUE INDEX `bank_name_2` (`bank_name` ASC) VISIBLE,
  UNIQUE INDEX `bank_name_3` (`bank_name` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`branch`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`branch` (
  `branch_id` INT NOT NULL AUTO_INCREMENT,
  `branch_company_id` INT NULL DEFAULT NULL,
  `branch_company_name` VARCHAR(255) NULL DEFAULT NULL,
  `branch_name` VARCHAR(20) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `branch_sole_sale_fee` DECIMAL(7,2) NULL DEFAULT NULL,
  `branch_multi_sale_fee` DECIMAL(7,2) NULL DEFAULT NULL,
  `branch_sole_sale_fee_type` TINYINT NULL DEFAULT NULL,
  `branch_multi_sale_fee_type` TINYINT NULL DEFAULT NULL,
  `branch_sole_sale_fee_min_no_viewings` DECIMAL(7,2) NULL DEFAULT NULL,
  `branch_sole_sale_fee_min_with_viewings` DECIMAL(7,2) NULL DEFAULT NULL,
  `branch_multi_sale_fee_min_no_viewings` DECIMAL(7,2) NULL DEFAULT NULL,
  `branch_multi_sale_fee_min_with_viewings` DECIMAL(7,2) NULL DEFAULT NULL,
  `branch_tenant_find_fee` DECIMAL(7,2) NULL DEFAULT NULL,
  `branch_tenant_find_fee_min` DECIMAL(7,2) NULL DEFAULT NULL,
  `branch_tenant_find_with_management_fee` DECIMAL(7,2) NULL DEFAULT NULL,
  `branch_tenant_find_with_management_fee_min_commercial` DECIMAL(7,2) NULL DEFAULT NULL,
  `branch_management_fee` DECIMAL(7,2) NULL DEFAULT NULL,
  `branch_management_fee_commercial` DECIMAL(7,2) NULL DEFAULT NULL,
  `branch_tenant_find_fee_type` TINYINT NULL DEFAULT NULL,
  `branch_tenant_find_with_management_fee_type` TINYINT NULL DEFAULT NULL,
  `branch_management_fee_type` TINYINT NULL DEFAULT NULL,
  `branch_tenant_fees` TEXT CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `branch_tenant_fees_commercial` VARCHAR(150) NULL DEFAULT NULL,
  `branch_sale_phone` VARCHAR(20) NULL DEFAULT NULL,
  `branch_letting_phone` VARCHAR(20) NULL DEFAULT NULL,
  `branch_sale_fax` VARCHAR(20) NULL DEFAULT NULL,
  `branch_letting_fax` VARCHAR(20) NULL DEFAULT NULL,
  `branch_sale_email` VARCHAR(255) NULL DEFAULT NULL,
  `branch_sale_email_commercial` VARCHAR(255) NULL DEFAULT NULL,
  `branch_letting_email` VARCHAR(255) NULL DEFAULT NULL,
  `branch_letting_email_commercial` VARCHAR(255) NULL DEFAULT NULL,
  `branch_accounts_email` VARCHAR(255) NULL DEFAULT NULL,
  `branch_works_email` VARCHAR(255) NULL DEFAULT NULL,
  `branch_property_number_name` VARCHAR(50) NULL DEFAULT NULL,
  `branch_address_line_1` VARCHAR(255) NULL DEFAULT NULL,
  `branch_address_line_2` VARCHAR(255) NULL DEFAULT NULL,
  `branch_suburb` VARCHAR(255) NULL DEFAULT NULL,
  `branch_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `branch_postcode` VARCHAR(8) NULL DEFAULT NULL,
  `branch_country` INT NULL DEFAULT NULL,
  `branch_reminder_letter_fee` DECIMAL(7,2) NULL DEFAULT NULL,
  `branch_missed_payment_fee` DECIMAL(7,2) NULL DEFAULT NULL,
  `branch_bank_name_current` TINYINT NULL DEFAULT NULL,
  `branch_bank_sort_code_current` VARCHAR(8) NULL DEFAULT NULL,
  `branch_bank_account_number_current` VARCHAR(8) NULL DEFAULT NULL,
  `branch_bank_iban_current` VARCHAR(50) NULL DEFAULT NULL,
  `branch_bank_bic_swift_current` VARCHAR(11) NULL DEFAULT NULL,
  `branch_bank_account_name_current` VARCHAR(255) NULL DEFAULT NULL,
  `branch_bank_name_client` TINYINT NULL DEFAULT NULL,
  `branch_bank_sort_code_client` VARCHAR(8) NULL DEFAULT NULL,
  `branch_bank_account_number_client` VARCHAR(8) NULL DEFAULT NULL,
  `branch_bank_iban_client` VARCHAR(50) NULL DEFAULT NULL,
  `branch_bank_bic_swift_client` VARCHAR(11) NULL DEFAULT NULL,
  `branch_bank_account_name_client` VARCHAR(255) NULL DEFAULT NULL,
  `branch_bank_bacs_file_originator_name` VARCHAR(18) NULL DEFAULT NULL,
  `branch_cheque_payable_to` VARCHAR(100) NULL DEFAULT NULL,
  `branch_latitude` FLOAT(10,6) NULL DEFAULT NULL,
  `branch_longitude` FLOAT(10,6) NULL DEFAULT NULL,
  `branch_xmas_opening_description` TEXT NULL DEFAULT NULL,
  `branch_easter_opening_description` TEXT NULL DEFAULT NULL,
  `branch_zpg_ref` VARCHAR(10) NULL DEFAULT NULL,
  `branch_inspection_frequency` TINYINT NOT NULL DEFAULT '1',
  `branch_mileage_payment` SMALLINT NULL DEFAULT NULL,
  `branch_accompanied_viewing_schedule` TEXT NULL DEFAULT NULL,
  `branch_redress_scheme` VARCHAR(255) NULL DEFAULT NULL,
  `branch_cmp_provider` VARCHAR(255) NULL DEFAULT NULL,
  `branch_cmp_provider_accounting_rules` TEXT NULL DEFAULT NULL,
  `branch_hmrc_nrl_ref` VARCHAR(20) NULL DEFAULT NULL,
  `branch_deposit_protection_service_id` VARCHAR(50) NULL DEFAULT NULL,
  `branch_deposit_protection_service_bank_account_name` VARCHAR(100) NULL DEFAULT NULL,
  `branch_deposit_protection_service_bank_account_number` VARCHAR(8) NULL DEFAULT NULL,
  `branch_deposit_protection_service_bank_sort_code` VARCHAR(8) NULL DEFAULT NULL,
  `branch_mydeposits_id` VARCHAR(50) NULL DEFAULT NULL,
  `branch_ip_address` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`branch_id`),
  INDEX `branch_company_id` (`branch_company_id` ASC) VISIBLE,
  INDEX `fk_branch_branch_country` (`branch_country` ASC) VISIBLE,
  INDEX `fk_branch_branch_bank_name_current_idx` (`branch_bank_name_current` ASC) VISIBLE,
  INDEX `fk_branch_branch_bank_name_client_idx` (`branch_bank_name_client` ASC) VISIBLE,
  CONSTRAINT `fk_branch_branch_company_id`
    FOREIGN KEY (`branch_company_id`)
    REFERENCES `atlas`.`company` (`company_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_branch_branch_country`
    FOREIGN KEY (`branch_country`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_branch_branch_bank_name_current`
    FOREIGN KEY (`branch_bank_name_current`)
    REFERENCES `atlas`.`bank` (`bank_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_branch_branch_bank_name_client`
    FOREIGN KEY (`branch_bank_name_client`)
    REFERENCES `atlas`.`bank` (`bank_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`vehicle`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`vehicle` (
  `vehicle_id` INT NOT NULL AUTO_INCREMENT,
  `vehicle_registration` VARCHAR(10) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `vehicle_make_model` VARCHAR(30) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `vehicle_archived` TINYINT NOT NULL DEFAULT '2',
  PRIMARY KEY (`vehicle_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`title`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`title` (
  `title_id` TINYINT NOT NULL AUTO_INCREMENT,
  `title_name` VARCHAR(10) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`title_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`annual_leave_accrual_method`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`annual_leave_accrual_method` (
  `annual_leave_accrual_method_id` TINYINT NOT NULL AUTO_INCREMENT,
  `annual_leave_accrual_method_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`annual_leave_accrual_method_id`),
  UNIQUE INDEX `annual_leave_years_year` (`annual_leave_accrual_method_id` ASC) VISIBLE,
  INDEX `annual_leave_years_year_2` (`annual_leave_accrual_method_id` ASC) VISIBLE,
  INDEX `annual_leave_years_statutory_entitlement_days` (`annual_leave_accrual_method_name` ASC) VISIBLE,
  INDEX `annual_leave_accrual_method_id` (`annual_leave_accrual_method_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`employee`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`employee` (
  `company_id` INT NULL DEFAULT NULL,
  `employee_id` INT NOT NULL AUTO_INCREMENT,
  `employee_token` VARCHAR(40) NULL DEFAULT NULL,
  `employee_title` TINYINT NULL DEFAULT NULL,
  `employee_first_name` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `employee_surname` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `employee_mobile_number` VARCHAR(255) NULL DEFAULT NULL,
  `employee_mobile_number_work` VARCHAR(255) NULL DEFAULT NULL,
  `employee_direct_line` VARCHAR(255) NULL DEFAULT NULL,
  `employee_internal_extension` VARCHAR(20) NULL DEFAULT NULL,
  `employee_email_address` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `employee_email_address_personal` VARCHAR(255) NULL DEFAULT NULL,
  `employee_job_title` VARCHAR(100) NULL DEFAULT NULL,
  `employee_branch_id` INT NULL DEFAULT NULL,
  `employee_default_vehicle_id` INT NULL DEFAULT NULL,
  `employee_username` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `employee_password` VARCHAR(255) NULL DEFAULT NULL,
  `employee_status` TINYINT NULL DEFAULT NULL,
  `employee_payroll_status` TINYINT(1) NOT NULL DEFAULT '1',
  `employee_login_status` TINYINT(1) NOT NULL DEFAULT '1',
  `employee_dob` DATE NULL DEFAULT NULL,
  `employee_first_login_log` TINYINT NULL DEFAULT NULL,
  `employee_line_manager` INT NULL DEFAULT NULL,
  `employee_line_manager_annual_leave` INT NULL DEFAULT NULL,
  `employee_line_manager_first_login` INT NULL DEFAULT NULL,
  `employee_email_password` VARCHAR(255) NULL DEFAULT NULL,
  `employee_holiday_allowance` DECIMAL(5,2) NULL DEFAULT NULL,
  `employee_negotiator_percentage_split` TINYINT NULL DEFAULT NULL,
  `employee_lunch_break` VARCHAR(150) NULL DEFAULT NULL,
  `employee_lunch_break_minutes` TINYINT NULL DEFAULT NULL,
  `employee_annual_leave_cover` INT NULL DEFAULT NULL,
  `employee_working_hours` TEXT NULL DEFAULT NULL,
  `employee_start_date` DATE NULL DEFAULT NULL,
  `employee_average_hours_worked_per_week` DECIMAL(4,2) NULL DEFAULT NULL,
  `employee_average_days_worked_per_week` DECIMAL(2,1) NULL DEFAULT NULL,
  `employee_annual_leave_active` TINYINT NOT NULL DEFAULT '1',
  `employee_annual_leave_accrual_method` TINYINT(1) NOT NULL DEFAULT '1',
  `employee_hostname` VARCHAR(50) NULL DEFAULT NULL,
  `employee_image_filename` VARCHAR(255) NULL DEFAULT NULL,
  `employee_email_default_new_valuation_arranged` TINYINT(1) NOT NULL DEFAULT '1',
  PRIMARY KEY (`employee_id`),
  INDEX `employee_id` (`employee_id` ASC) VISIBLE,
  INDEX `company_id` (`company_id` ASC) VISIBLE,
  INDEX `employee_status` (`employee_status` ASC) VISIBLE,
  INDEX `employee_branch_id` (`employee_branch_id` ASC) VISIBLE,
  INDEX `employee_default_vehicle_id` (`employee_default_vehicle_id` ASC) VISIBLE,
  INDEX `employee_title` (`employee_title` ASC) VISIBLE,
  INDEX `employee_internal_extension` (`employee_internal_extension` ASC) VISIBLE,
  INDEX `fk_employee_managers_idx` (`employee_line_manager` ASC, `employee_line_manager_annual_leave` ASC, `employee_line_manager_first_login` ASC, `employee_annual_leave_cover` ASC) VISIBLE,
  INDEX `fk_employee_employee_annual_leave_accrual_method_idx` (`employee_annual_leave_accrual_method` ASC) VISIBLE,
  CONSTRAINT `fk_employee_employee_branch_id`
    FOREIGN KEY (`employee_branch_id`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_employee_employee_default_vehicle_id`
    FOREIGN KEY (`employee_default_vehicle_id`)
    REFERENCES `atlas`.`vehicle` (`vehicle_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_employee_employee_title`
    FOREIGN KEY (`employee_title`)
    REFERENCES `atlas`.`title` (`title_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_employee_company_id`
    FOREIGN KEY (`company_id`)
    REFERENCES `atlas`.`company` (`company_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_employee_line_manager`
  FOREIGN KEY (`employee_line_manager`)
  REFERENCES `atlas`.`employee` (`employee_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,

CONSTRAINT `fk_employee_line_manager_annual_leave`
  FOREIGN KEY (`employee_line_manager_annual_leave`)
  REFERENCES `atlas`.`employee` (`employee_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,

CONSTRAINT `fk_employee_line_manager_first_login`
  FOREIGN KEY (`employee_line_manager_first_login`)
  REFERENCES `atlas`.`employee` (`employee_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,

CONSTRAINT `fk_employee_annual_leave_cover`
  FOREIGN KEY (`employee_annual_leave_cover`)
  REFERENCES `atlas`.`employee` (`employee_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,
  CONSTRAINT `fk_employee_employee_annual_leave_accrual_method`
    FOREIGN KEY (`employee_annual_leave_accrual_method`)
    REFERENCES `atlas`.`annual_leave_accrual_method` (`annual_leave_accrual_method_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_nominal_code_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_nominal_code_type` (
  `nominal_code_type_id` TINYINT NOT NULL,
  `nominal_code_type_name` VARCHAR(30) NULL DEFAULT NULL,
  PRIMARY KEY (`nominal_code_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_nominal_code`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_nominal_code` (
  `nominal_code_id` SMALLINT NOT NULL DEFAULT '0',
  `nominal_code_name` VARCHAR(40) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `nominal_code_type` TINYINT NULL DEFAULT NULL,
  `nominal_code_external_id` SMALLINT NULL DEFAULT NULL,
  `nominal_code_default_vat_rate` TINYINT NULL DEFAULT NULL,
  `nominal_code_archive` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`nominal_code_id`),
  UNIQUE INDEX `nominal_code_id` (`nominal_code_id` ASC) VISIBLE,
  UNIQUE INDEX `nominal_code_external_id` (`nominal_code_external_id` ASC) VISIBLE,
  INDEX `fk_accounts_nominal_code_nominal_code_default_vat_rate` (`nominal_code_default_vat_rate` ASC) VISIBLE,
  INDEX `fk_accounts_nominal_code_nominal_code_type_idx` (`nominal_code_type` ASC) VISIBLE,
  CONSTRAINT `fk_accounts_nominal_code_nominal_code_default_vat_rate`
    FOREIGN KEY (`nominal_code_default_vat_rate`)
    REFERENCES `atlas`.`accounts_vat_rate` (`vat_rate_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_nominal_code_nominal_code_type`
    FOREIGN KEY (`nominal_code_type`)
    REFERENCES `atlas`.`accounts_nominal_code_type` (`nominal_code_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`directory_category`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`directory_category` (
  `directory_category_id` INT NOT NULL AUTO_INCREMENT,
  `directory_category_name` VARCHAR(50) NULL DEFAULT NULL,
  `directory_category_contractor` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`directory_category_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_payment_term`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_payment_term` (
  `accounts_payment_term_id` TINYINT NOT NULL AUTO_INCREMENT,
  `accounts_payment_term_description` TEXT NULL DEFAULT NULL,
  `accounts_payment_term_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`accounts_payment_term_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`body_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`body_type` (
  `body_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `body_type_name` VARCHAR(10) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`body_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`landlord_nrl_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`landlord_nrl_status` (
  `landlord_nrl_status_id` INT NOT NULL AUTO_INCREMENT,
  `landlord_nrl_status_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`landlord_nrl_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`landlord_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`landlord_status` (
  `landlord_status_id` INT NOT NULL AUTO_INCREMENT,
  `landlord_status_name` VARCHAR(15) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`landlord_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`capacity`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`capacity` (
  `capacity_id` TINYINT NOT NULL AUTO_INCREMENT,
  `capacity_name` VARCHAR(100) NULL DEFAULT NULL,
  `capacity_name_short` VARCHAR(100) NULL DEFAULT NULL,
  PRIMARY KEY (`capacity_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`discount_group`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`discount_group` (
  `discount_group_id` TINYINT NOT NULL AUTO_INCREMENT,
  `discount_group_name` VARCHAR(50) NULL DEFAULT NULL,
  `discount_group_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`discount_group_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`landlord`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`landlord` (
  `landlord_id` INT NOT NULL AUTO_INCREMENT,
  `landlord_token` VARCHAR(40) NULL DEFAULT NULL,
  `landlord_type` TINYINT NULL DEFAULT NULL,
  `landlord_title` TINYINT NULL DEFAULT NULL,
  `landlord_first_name` VARCHAR(30) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `landlord_surname` VARCHAR(30) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `landlord_trading_name` VARCHAR(255) NULL DEFAULT NULL,
  `landlord_company_name` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `landlord_company_trading_name` VARCHAR(255) NULL DEFAULT NULL,
  `landlord_company_contact_name` VARCHAR(255) NULL DEFAULT NULL,
  `landlord_company_registration_number` VARCHAR(10) NULL DEFAULT NULL,
  `landlord_company_vat_registration_number` VARCHAR(20) NULL DEFAULT NULL,
  `landlord_company_reg_office_property_number_name` VARCHAR(50) NULL DEFAULT NULL,
  `landlord_company_reg_office_address_line_1` VARCHAR(255) NULL DEFAULT NULL,
  `landlord_company_reg_office_address_line_2` VARCHAR(255) NULL DEFAULT NULL,
  `landlord_company_reg_office_suburb` VARCHAR(255) NULL DEFAULT NULL,
  `landlord_company_reg_office_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `landlord_company_reg_office_postcode` VARCHAR(8) NULL DEFAULT NULL,
  `landlord_company_reg_office_country` INT NULL DEFAULT NULL,
  `landlord_phone_home` VARCHAR(255) NULL DEFAULT NULL,
  `landlord_phone_work` VARCHAR(255) NULL DEFAULT NULL,
  `landlord_phone_mobile` VARCHAR(255) NULL DEFAULT NULL,
  `landlord_fax` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `landlord_email` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `landlord_email_accounts` VARCHAR(255) NULL DEFAULT NULL,
  `landlord_email_works` VARCHAR(255) NULL DEFAULT NULL,
  `landlord_property_number_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `landlord_apartment_number_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `landlord_address_line_1` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `landlord_address_line_2` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `landlord_suburb` VARCHAR(255) NULL DEFAULT NULL,
  `landlord_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `landlord_postcode` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `landlord_country` INT NULL DEFAULT NULL,
  `landlord_bank_name` TINYINT NULL DEFAULT NULL,
  `landlord_bank_sort_code` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `landlord_bank_account_number` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `landlord_bank_account_name` VARCHAR(100) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `landlord_bank_iban` VARCHAR(50) NULL DEFAULT NULL,
  `landlord_bank_bic_swift` VARCHAR(11) NULL DEFAULT NULL,
  `landlord_nrl_status` INT NULL DEFAULT NULL,
  `landlord_nrl_tax_rate` DECIMAL(4,2) NULL DEFAULT NULL,
  `landlord_nrl_reference` VARCHAR(15) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `landlord_nrl_date` DATE NULL DEFAULT NULL,
  `landlord_status` INT NULL DEFAULT NULL,
  `landlord_lead_source` INT NULL DEFAULT NULL,
  `landlord_notes` TEXT CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `landlord_online_account` TINYINT NULL DEFAULT NULL,
  `landlord_online_login_username` VARCHAR(255) NULL DEFAULT NULL,
  `landlord_online_login_password` VARCHAR(255) NULL DEFAULT NULL,
  `landlord_online_account_password_reset_token` VARCHAR(40) NULL DEFAULT NULL,
  `landlord_lha` TINYINT NULL DEFAULT NULL,
  `landlord_pets` TINYINT NULL DEFAULT NULL,
  `landlord_smoking` TINYINT NULL DEFAULT NULL,
  `landlord_sharers` TINYINT NULL DEFAULT NULL,
  `landlord_contractors_use` INT NULL DEFAULT NULL,
  `landlord_tenant_find_fee` DECIMAL(7,2) NULL DEFAULT NULL,
  `landlord_tenant_find_fee_type` TINYINT NULL DEFAULT NULL,
  `landlord_tenant_find_with_management_fee` DECIMAL(7,2) NULL DEFAULT NULL,
  `landlord_tenant_find_with_management_fee_type` TINYINT NULL DEFAULT NULL,
  `landlord_management_fee` DECIMAL(7,2) NULL DEFAULT NULL,
  `landlord_management_fee_type` TINYINT NULL DEFAULT NULL,
  `landlord_dob` DATE NULL DEFAULT NULL,
  `landlord_passport_number` VARCHAR(10) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `landlord_driving_licence_number` VARCHAR(20) NULL DEFAULT NULL,
  `landlord_nino` VARCHAR(13) NULL DEFAULT NULL,
  `landlord_branch` INT NULL DEFAULT NULL,
  `landlord_solicitor_company` INT NULL DEFAULT NULL,
  `landlord_mailing_list` TINYINT NULL DEFAULT NULL,
  `landlord_solicitor_company_individual` INT NULL DEFAULT NULL,
  `landlord_works_notes` TEXT NULL DEFAULT NULL,
  `landlord_fees_notes` TEXT NULL DEFAULT NULL,
  `landlord_emails_new_invoice_credit` TINYINT NOT NULL DEFAULT '1',
  `landlord_emails_new_property_inspection` TINYINT NOT NULL DEFAULT '1',
  `landlord_emails_new_invoice` TINYINT NOT NULL DEFAULT '1',
  `landlord_emails_new_landlord_payment` TINYINT NOT NULL DEFAULT '1',
  `landlord_emails_edit_works` TINYINT NOT NULL DEFAULT '1',
  `landlord_emails_tenant_charge_chase` TINYINT NOT NULL DEFAULT '1',
  `landlord_emails_new_application` TINYINT NOT NULL DEFAULT '1',
  `landlord_emails_edit_application` TINYINT NOT NULL DEFAULT '1',
  `landlord_emails_new_viewing` TINYINT NOT NULL DEFAULT '1',
  `landlord_emails_edit_viewing` TINYINT NOT NULL DEFAULT '1',
  `landlord_emails_new_certificate_renewal` TINYINT NOT NULL DEFAULT '1',
  `landlord_emails_certificate_take_on_chase` TINYINT NOT NULL DEFAULT '1',
  `landlord_emails_selective_licence_chase` TINYINT NOT NULL DEFAULT '1',
  `landlord_emails_outstanding_invoice_balance_exceed_income` TINYINT(1) NOT NULL DEFAULT '2',
  `landlord_bacs_file` TINYINT NOT NULL DEFAULT '1',
  `landlord_suspend_payments` TINYINT(1) NOT NULL DEFAULT '2',
  `landlord_capacity` TINYINT NULL DEFAULT NULL,
  `landlord_deceased` TINYINT NOT NULL DEFAULT '2',
  `landlord_discount_group` TINYINT NULL DEFAULT '1',
  `landlord_date_created` DATETIME NULL DEFAULT NULL,
  `landlord_date_updated` DATETIME NULL DEFAULT NULL,
  `landlord_created_by` INT NULL DEFAULT NULL,
  `landlord_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`landlord_id`),
  UNIQUE INDEX `landlord_online_login_username` (`landlord_online_login_username` ASC) VISIBLE,
  UNIQUE INDEX `landlord_online_login_username_2` (`landlord_online_login_username` ASC) VISIBLE,
  INDEX `landlord_mailing_list` (`landlord_mailing_list` ASC) VISIBLE,
  INDEX `landlord_capacity` (`landlord_capacity` ASC) VISIBLE,
  INDEX `landlord_id` (`landlord_id` ASC) VISIBLE,
  INDEX `landlord_emails_certificate_take_on_chase` (`landlord_emails_certificate_take_on_chase` ASC) VISIBLE,
  INDEX `landlord_emails_selective_licence_chase` (`landlord_emails_selective_licence_chase` ASC) VISIBLE,
  INDEX `landlord_email` (`landlord_email` ASC) VISIBLE,
  INDEX `landlord_email_accounts` (`landlord_email_accounts` ASC) VISIBLE,
  INDEX `landlord_email_works` (`landlord_email_works` ASC) VISIBLE,
  INDEX `fk_landlord_landlord_branch` (`landlord_branch` ASC) VISIBLE,
  INDEX `fk_landlord_landlord_created_by` (`landlord_created_by` ASC) VISIBLE,
  INDEX `fk_landlord_landlord_updated_by` (`landlord_updated_by` ASC) VISIBLE,
  INDEX `fk_landlord_landlord_title` (`landlord_title` ASC) VISIBLE,
  INDEX `fk_landlord_landlord_country` (`landlord_country` ASC) VISIBLE,
  INDEX `fk_landlord_landlord_company_reg_office_country` (`landlord_company_reg_office_country` ASC) VISIBLE,
  INDEX `fk_landlord_landlord_bank_name` (`landlord_bank_name` ASC) VISIBLE,
  INDEX `fk_landlord_landlord_type_idx` (`landlord_type` ASC) VISIBLE,
  INDEX `fk_landlord_landlord_nrl_status_idx` (`landlord_nrl_status` ASC) VISIBLE,
  INDEX `fk_landlord_landlord_status_idx` (`landlord_status` ASC) VISIBLE,
  CONSTRAINT `fk_landlord_landlord_bank_name`
    FOREIGN KEY (`landlord_bank_name`)
    REFERENCES `atlas`.`bank` (`bank_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_landlord_landlord_branch`
    FOREIGN KEY (`landlord_branch`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_landlord_landlord_cmp_reg_office_country`
    FOREIGN KEY (`landlord_company_reg_office_country`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_landlord_landlord_country`
    FOREIGN KEY (`landlord_country`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_landlord_landlord_created_by`
    FOREIGN KEY (`landlord_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_landlord_landlord_title`
    FOREIGN KEY (`landlord_title`)
    REFERENCES `atlas`.`title` (`title_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_landlord_landlord_updated_by`
    FOREIGN KEY (`landlord_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_landlord_landlord_type`
    FOREIGN KEY (`landlord_type`)
    REFERENCES `atlas`.`body_type` (`body_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_landlord_landlord_nrl_status`
    FOREIGN KEY (`landlord_nrl_status`)
    REFERENCES `atlas`.`landlord_nrl_status` (`landlord_nrl_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_landlord_landlord_status`
    FOREIGN KEY (`landlord_status`)
    REFERENCES `atlas`.`landlord_status` (`landlord_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_landlord_landlord_capacity`
    FOREIGN KEY (`landlord_capacity`)
    REFERENCES `atlas`.`capacity` (`capacity_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_landlord_landlord_discount_group`
    FOREIGN KEY (`landlord_discount_group`)
    REFERENCES `atlas`.`discount_group` (`discount_group_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`directory_commission_scheme`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`directory_commission_scheme` (
  `directory_commission_scheme_id` TINYINT NOT NULL AUTO_INCREMENT,
  `directory_commission_scheme_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`directory_commission_scheme_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`directory_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`directory_status` (
  `directory_status_id` INT NOT NULL AUTO_INCREMENT,
  `directory_status_name` VARCHAR(15) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`directory_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`directory`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`directory` (
  `directory_id` INT NOT NULL AUTO_INCREMENT,
  `directory_category` INT NULL DEFAULT NULL,
  `directory_company_name` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_branch_name` VARCHAR(100) NULL DEFAULT NULL,
  `directory_contact_name` VARCHAR(255) NULL DEFAULT NULL,
  `directory_phone_work` VARCHAR(255) NULL DEFAULT NULL,
  `directory_phone_mobile` VARCHAR(255) NULL DEFAULT NULL,
  `directory_fax` VARCHAR(20) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_email` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_website` VARCHAR(255) NULL DEFAULT NULL,
  `directory_dx` VARCHAR(50) NULL DEFAULT NULL,
  `directory_property_number_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_apartment_number_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_address_line_1` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_address_line_2` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_suburb` VARCHAR(255) NULL DEFAULT NULL,
  `directory_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `directory_postcode` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_country` INT NULL DEFAULT NULL,
  `directory_bank_name` TINYINT NULL DEFAULT NULL,
  `directory_bank_sort_code` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_bank_account_number` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_bank_account_name` VARCHAR(100) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_status` INT NULL DEFAULT NULL,
  `directory_notes` TEXT CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_date_created` DATETIME NULL DEFAULT NULL,
  `directory_date_updated` DATETIME NULL DEFAULT NULL,
  `directory_created_by` INT NULL DEFAULT NULL,
  `directory_updated_by` INT NULL DEFAULT NULL,
  `directory_commission_scheme` TINYINT NULL DEFAULT NULL,
  `directory_commission_percentage` DECIMAL(5,2) NULL DEFAULT NULL,
  `directory_payment_terms` TINYINT NULL DEFAULT NULL,
  `directory_landlord_contractor` INT NULL DEFAULT NULL,
  `directory_nominal_code` SMALLINT NULL DEFAULT NULL,
  `directory_vat_rate` TINYINT NULL DEFAULT NULL,
  `directory_accounts_purposes_only` TINYINT NOT NULL DEFAULT '2',
  PRIMARY KEY (`directory_id`),
  INDEX `directory_email` (`directory_email` ASC) VISIBLE,
  INDEX `fk_directory_directory_created_by` (`directory_created_by` ASC) VISIBLE,
  INDEX `fk_directory_directory_updated_by` (`directory_updated_by` ASC) VISIBLE,
  INDEX `fk_directory_directory_nominal_code` (`directory_nominal_code` ASC) VISIBLE,
  INDEX `fk_directory_directory_vat_rate` (`directory_vat_rate` ASC) VISIBLE,
  INDEX `fk_directory_directory_country` (`directory_country` ASC) VISIBLE,
  INDEX `fk_directory_directory_bank_name` (`directory_bank_name` ASC) VISIBLE,
  INDEX `fk_directory_directory_category_idx` (`directory_category` ASC) VISIBLE,
  INDEX `fk_directory_directory_payment_terms_idx` (`directory_payment_terms` ASC) VISIBLE,
  INDEX `fk_directory_directory_landlord_contractor_idx` (`directory_landlord_contractor` ASC) VISIBLE,
  INDEX `fk_directory_directory_commission_scheme_idx` (`directory_commission_scheme` ASC) VISIBLE,
  INDEX `fk_directory_directory_status_idx` (`directory_status` ASC) VISIBLE,
  CONSTRAINT `fk_directory_directory_bank_name`
    FOREIGN KEY (`directory_bank_name`)
    REFERENCES `atlas`.`bank` (`bank_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_directory_directory_country`
    FOREIGN KEY (`directory_country`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_directory_directory_created_by`
    FOREIGN KEY (`directory_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_directory_directory_nominal_code`
    FOREIGN KEY (`directory_nominal_code`)
    REFERENCES `atlas`.`accounts_nominal_code` (`nominal_code_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_directory_directory_updated_by`
    FOREIGN KEY (`directory_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_directory_directory_vat_rate`
    FOREIGN KEY (`directory_vat_rate`)
    REFERENCES `atlas`.`accounts_vat_rate` (`vat_rate_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_directory_directory_category`
    FOREIGN KEY (`directory_category`)
    REFERENCES `atlas`.`directory_category` (`directory_category_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_directory_directory_payment_terms`
    FOREIGN KEY (`directory_payment_terms`)
    REFERENCES `atlas`.`accounts_payment_term` (`accounts_payment_term_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_directory_directory_landlord_contractor`
    FOREIGN KEY (`directory_landlord_contractor`)
    REFERENCES `atlas`.`landlord` (`landlord_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_directory_directory_commission_scheme`
    FOREIGN KEY (`directory_commission_scheme`)
    REFERENCES `atlas`.`directory_commission_scheme` (`directory_commission_scheme_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_directory_directory_status`
    FOREIGN KEY (`directory_status`)
    REFERENCES `atlas`.`directory_status` (`directory_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`customer_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`customer_type` (
  `customer_type_id` INT NOT NULL AUTO_INCREMENT,
  `customer_type_name` VARCHAR(20) NULL DEFAULT NULL,
  `customer_type_description` VARCHAR(30) NULL DEFAULT NULL,
  `customer_type_description2` VARCHAR(30) NULL DEFAULT NULL,
  `customer_type_description3` VARCHAR(10) NULL DEFAULT NULL,
  `customer_type_filename` VARCHAR(100) NULL DEFAULT NULL,
  `customer_type_url_search_parameter` VARCHAR(30) NULL DEFAULT NULL,
  PRIMARY KEY (`customer_type_id`),
  INDEX `customer_type_id` (`customer_type_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`development_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`development_type` (
  `development_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `development_type_name` VARCHAR(30) NULL DEFAULT NULL,
  PRIMARY KEY (`development_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`development`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`development` (
  `development_id` INT NOT NULL AUTO_INCREMENT,
  `development_token` VARCHAR(6) NULL DEFAULT NULL,
  `development_branch` INT NULL DEFAULT NULL,
  `development_name` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `development_number_name` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `development_address_line_1` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `development_address_line_2` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `development_suburb` VARCHAR(255) NULL DEFAULT NULL,
  `development_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `development_postcode` VARCHAR(8) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `development_country` INT NULL DEFAULT NULL,
  `development_default_gsc_contractor` INT NULL DEFAULT NULL,
  `development_default_epc_contractor` INT NULL DEFAULT NULL,
  `development_default_electrical_contractor` INT NULL DEFAULT NULL,
  `development_default_pat_contractor` INT NULL DEFAULT NULL,
  `development_default_fire_alarm_contractor` INT NULL DEFAULT NULL,
  `development_default_emergency_lighting_contractor` INT NULL DEFAULT NULL,
  `development_type` TINYINT NULL DEFAULT NULL,
  `development_requires_gas_cert` TINYINT NULL DEFAULT NULL,
  `development_requires_electric_cert` TINYINT NULL DEFAULT NULL,
  `development_requires_fire_alarm_cert` TINYINT NULL DEFAULT NULL,
  `development_requires_emergency_lighting_cert` TINYINT NULL DEFAULT NULL,
  `development_requires_fire_risk_assessment` TINYINT NULL DEFAULT NULL,
  `development_works_notes` TEXT NULL DEFAULT NULL,
  `development_window_cleaning_public` TEXT NULL DEFAULT NULL,
  `development_window_cleaning_private` TEXT NULL DEFAULT NULL,
  `development_grounds_maintenance_public` TEXT NULL DEFAULT NULL,
  `development_grounds_maintenance_private` TEXT NULL DEFAULT NULL,
  `development_cleaning_public` TEXT NULL DEFAULT NULL,
  `development_cleaning_private` TEXT NULL DEFAULT NULL,
  `development_heating_public` TEXT NULL DEFAULT NULL,
  `development_heating_private` TEXT NULL DEFAULT NULL,
  `development_internet_public` TEXT NULL DEFAULT NULL,
  `development_internet_private` TEXT NULL DEFAULT NULL,
  `development_fire_alarm_public` TEXT NULL DEFAULT NULL,
  `development_fire_alarm_private` TEXT NULL DEFAULT NULL,
  `development_waste_public` TEXT NULL DEFAULT NULL,
  `development_waste_private` TEXT NULL DEFAULT NULL,
  `development_general_public` TEXT NULL DEFAULT NULL,
  `development_general_private` TEXT NULL DEFAULT NULL,
  `development_status` TINYINT(1) NULL DEFAULT NULL,
  PRIMARY KEY (`development_id`),
  INDEX `fk_development_development_branch` (`development_branch` ASC) VISIBLE,
  INDEX `fk_development_development_country` (`development_country` ASC) VISIBLE,
  INDEX `fk_development_development_default_gsc_contractor_idx` (`development_default_gsc_contractor` ASC) VISIBLE,
  INDEX `fk_development_development_default_epc_contractor_idx` (`development_default_epc_contractor` ASC) VISIBLE,
  INDEX `fk_development_development_default_electrical_contractor_idx` (`development_default_electrical_contractor` ASC) VISIBLE,
  INDEX `fk_development_development_default_pat_contractor_idx` (`development_default_pat_contractor` ASC) VISIBLE,
  INDEX `fk_development_development_default_fire_alarm_contractor_idx` (`development_default_fire_alarm_contractor` ASC) VISIBLE,
  INDEX `fk_development_development_default_emergency_lighting_contr_idx` (`development_default_emergency_lighting_contractor` ASC) VISIBLE,
  INDEX `fk_development_development_idx` (`development_type` ASC) VISIBLE,
  CONSTRAINT `fk_development_development_branch`
    FOREIGN KEY (`development_branch`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_development_development_country`
    FOREIGN KEY (`development_country`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_development_development_default_gsc_contractor`
    FOREIGN KEY (`development_default_gsc_contractor`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_development_development_default_epc_contractor`
    FOREIGN KEY (`development_default_epc_contractor`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_development_development_default_electrical_contractor`
    FOREIGN KEY (`development_default_electrical_contractor`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_development_development_default_pat_contractor`
    FOREIGN KEY (`development_default_pat_contractor`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_development_development_default_fire_alarm_contractor`
    FOREIGN KEY (`development_default_fire_alarm_contractor`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_development_development_default_emergency_lighting_contr`
    FOREIGN KEY (`development_default_emergency_lighting_contractor`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_development_development_type`
    FOREIGN KEY (`development_type`)
    REFERENCES `atlas`.`development_type` (`development_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_category`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_category` (
  `property_category_id` TINYINT NOT NULL AUTO_INCREMENT,
  `property_category_name` VARCHAR(20) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`property_category_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_type_group`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_type_group` (
  `property_type_group_id` INT NOT NULL AUTO_INCREMENT,
  `property_type_group_name` VARCHAR(20) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `property_type_group_active` TINYINT NOT NULL DEFAULT '1',
  `property_type_group_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`property_type_group_id`),
  INDEX `property_type_group_mainstream` (`property_type_group_active` ASC, `property_type_group_sort` ASC) VISIBLE,
  INDEX `property_type_group_id` (`property_type_group_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_type` (
  `property_type_id` INT NOT NULL DEFAULT '0',
  `property_type_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `property_type_group` INT NULL DEFAULT NULL,
  `property_type_active` TINYINT(1) NOT NULL DEFAULT '1',
  PRIMARY KEY (`property_type_id`),
  INDEX `property_type_id` (`property_type_id` ASC, `property_type_group` ASC) VISIBLE,
  INDEX `fk_property_type_property_type_group_idx` (`property_type_group` ASC) VISIBLE,
  CONSTRAINT `fk_property_type_property_type_group`
    FOREIGN KEY (`property_type_group`)
    REFERENCES `atlas`.`property_type_group` (`property_type_group_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`vendor_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`vendor_status` (
  `vendor_status_id` INT NOT NULL AUTO_INCREMENT,
  `vendor_status_name` VARCHAR(15) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`vendor_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`fee_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`fee_type` (
  `fee_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `fee_type_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`fee_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`directory_individual`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`directory_individual` (
  `directory_individual_id` INT NOT NULL AUTO_INCREMENT,
  `directory_individual_company` INT NULL DEFAULT NULL,
  `directory_individual_title` TINYINT NULL DEFAULT NULL,
  `directory_individual_first_name` VARCHAR(30) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_individual_surname` VARCHAR(30) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_individual_phone_home` VARCHAR(255) NULL DEFAULT NULL,
  `directory_individual_phone_work` VARCHAR(255) NULL DEFAULT NULL,
  `directory_individual_phone_mobile` VARCHAR(255) NULL DEFAULT NULL,
  `directory_individual_fax` VARCHAR(20) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_individual_email` VARCHAR(255) NULL DEFAULT NULL,
  `directory_individual_property_number_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_individual_apartment_number_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_individual_address_line_1` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_individual_address_line_2` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_individual_suburb` VARCHAR(255) NULL DEFAULT NULL,
  `directory_individual_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `directory_individual_postcode` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_individual_country` INT NULL DEFAULT NULL,
  `directory_individual_status` INT NULL DEFAULT NULL,
  `directory_individual_notes` TEXT CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_individual_bank_name` TINYINT NULL DEFAULT NULL,
  `directory_individual_bank_sort_code` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_individual_bank_account_number` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_individual_bank_account_name` VARCHAR(100) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `directory_individual_date_created` DATETIME NULL DEFAULT NULL,
  `directory_individual_date_updated` DATETIME NULL DEFAULT NULL,
  `directory_individual_created_by` INT NULL DEFAULT NULL,
  `directory_individual_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`directory_individual_id`),
  INDEX `fk_directory_individual_directory_individual_created_by` (`directory_individual_created_by` ASC) VISIBLE,
  INDEX `fk_directory_individual_directory_individual_updated_by` (`directory_individual_updated_by` ASC) VISIBLE,
  INDEX `fk_directory_individual_directory_individual_title` (`directory_individual_title` ASC) VISIBLE,
  INDEX `fk_directory_individual_directory_individual_bank_name` (`directory_individual_bank_name` ASC) VISIBLE,
  INDEX `fk_directory_individual_directory_individual_company_idx` (`directory_individual_company` ASC) VISIBLE,
  INDEX `fk_directory_individual_directory_individual_status_idx` (`directory_individual_status` ASC) VISIBLE,
  CONSTRAINT `fk_directory_individual_directory_individual_bank_name`
    FOREIGN KEY (`directory_individual_bank_name`)
    REFERENCES `atlas`.`bank` (`bank_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_directory_individual_directory_individual_created_by`
    FOREIGN KEY (`directory_individual_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_directory_individual_directory_individual_title`
    FOREIGN KEY (`directory_individual_title`)
    REFERENCES `atlas`.`title` (`title_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_directory_individual_directory_individual_updated_by`
    FOREIGN KEY (`directory_individual_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_directory_individual_directory_individual_company`
    FOREIGN KEY (`directory_individual_company`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_directory_individual_directory_individual_status`
    FOREIGN KEY (`directory_individual_status`)
    REFERENCES `atlas`.`directory_status` (`directory_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`vendor`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`vendor` (
  `vendor_id` INT NOT NULL AUTO_INCREMENT,
  `vendor_token` VARCHAR(40) NULL DEFAULT NULL,
  `vendor_type` TINYINT NULL DEFAULT NULL,
  `vendor_title` TINYINT NULL DEFAULT NULL,
  `vendor_first_name` VARCHAR(30) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `vendor_surname` VARCHAR(30) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `vendor_trading_name` VARCHAR(255) NULL DEFAULT NULL,
  `vendor_company_name` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `vendor_company_trading_name` VARCHAR(255) NULL DEFAULT NULL,
  `vendor_company_contact_name` VARCHAR(255) NULL DEFAULT NULL,
  `vendor_company_registration_number` VARCHAR(10) NULL DEFAULT NULL,
  `vendor_company_vat_registration_number` VARCHAR(20) NULL DEFAULT NULL,
  `vendor_company_reg_office_property_number_name` VARCHAR(50) NULL DEFAULT NULL,
  `vendor_company_reg_office_address_line_1` VARCHAR(255) NULL DEFAULT NULL,
  `vendor_company_reg_office_address_line_2` VARCHAR(255) NULL DEFAULT NULL,
  `vendor_company_reg_office_suburb` VARCHAR(255) NULL DEFAULT NULL,
  `vendor_company_reg_office_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `vendor_company_reg_office_postcode` VARCHAR(8) NULL DEFAULT NULL,
  `vendor_company_reg_office_country` INT NULL DEFAULT NULL,
  `vendor_phone_home` VARCHAR(255) NULL DEFAULT NULL,
  `vendor_phone_work` VARCHAR(255) NULL DEFAULT NULL,
  `vendor_phone_mobile` VARCHAR(255) NULL DEFAULT NULL,
  `vendor_fax` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `vendor_email` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `vendor_property_number_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `vendor_apartment_number_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `vendor_address_line_1` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `vendor_address_line_2` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `vendor_suburb` VARCHAR(255) NULL DEFAULT NULL,
  `vendor_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `vendor_postcode` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `vendor_country` INT NULL DEFAULT NULL,
  `vendor_bank_name` TINYINT NULL DEFAULT NULL,
  `vendor_bank_sort_code` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `vendor_bank_account_number` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `vendor_bank_account_name` VARCHAR(100) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `vendor_status` INT NULL DEFAULT NULL,
  `vendor_lead_source` INT NULL DEFAULT NULL,
  `vendor_notes` TEXT CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `vendor_online_account` TINYINT NULL DEFAULT NULL,
  `vendor_online_login_username` VARCHAR(255) NULL DEFAULT NULL,
  `vendor_online_login_password` VARCHAR(255) NULL DEFAULT NULL,
  `vendor_online_account_password_reset_token` VARCHAR(40) NULL DEFAULT NULL,
  `vendor_dob` DATE NULL DEFAULT NULL,
  `vendor_passport_number` VARCHAR(10) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `vendor_driving_licence_number` VARCHAR(20) NULL DEFAULT NULL,
  `vendor_nino` VARCHAR(10) NULL DEFAULT NULL,
  `vendor_sole_sale_fee` DECIMAL(7,2) NULL DEFAULT NULL,
  `vendor_sole_sale_fee_type` TINYINT NULL DEFAULT NULL,
  `vendor_multi_sale_fee` DECIMAL(7,2) NULL DEFAULT NULL,
  `vendor_multi_sale_fee_type` TINYINT NULL DEFAULT NULL,
  `vendor_date_created` DATETIME NULL DEFAULT NULL,
  `vendor_date_updated` DATETIME NULL DEFAULT NULL,
  `vendor_created_by` INT NULL DEFAULT NULL,
  `vendor_updated_by` INT NULL DEFAULT NULL,
  `vendor_solicitor_company` INT NULL DEFAULT NULL,
  `vendor_solicitor_company_individual` INT NULL DEFAULT NULL,
  `vendor_branch` INT NULL DEFAULT NULL,
  `vendor_mailing_list` TINYINT NULL DEFAULT NULL,
  `vendor_fees_notes` TEXT NULL DEFAULT NULL,
  `vendor_capacity` TINYINT NULL DEFAULT NULL,
  `vendor_deceased` TINYINT NOT NULL DEFAULT '2',
  `vendor_emails_new_viewing` TINYINT NOT NULL DEFAULT '1',
  `vendor_emails_edit_viewing` TINYINT NOT NULL DEFAULT '1',
  `vendor_emails_feedback` TINYINT NOT NULL DEFAULT '1',
  `vendor_emails_property_performance_review` TINYINT NOT NULL DEFAULT '1',
  `vendor_emails_new_offer` TINYINT NOT NULL DEFAULT '1',
  `vendor_emails_edit_offer` TINYINT NOT NULL DEFAULT '1',
  PRIMARY KEY (`vendor_id`),
  UNIQUE INDEX `landlord_online_login_username` (`vendor_online_login_username` ASC) VISIBLE,
  INDEX `vendor_mailing_list` (`vendor_mailing_list` ASC) VISIBLE,
  INDEX `vendor_email` (`vendor_email` ASC) VISIBLE,
  INDEX `fk_vendor_vendor_created_by` (`vendor_created_by` ASC) VISIBLE,
  INDEX `fk_vendor_vendor_updated_by` (`vendor_updated_by` ASC) VISIBLE,
  INDEX `fk_vendor_vendor_branch` (`vendor_branch` ASC) VISIBLE,
  INDEX `fk_vendor_vendor_title` (`vendor_title` ASC) VISIBLE,
  INDEX `fk_vendor_vendor_country` (`vendor_country` ASC) VISIBLE,
  INDEX `fk_vendor_vendor_company_reg_office_country` (`vendor_company_reg_office_country` ASC) VISIBLE,
  INDEX `fk_vendor_vendor_bank_name` (`vendor_bank_name` ASC) VISIBLE,
  INDEX `fk_vendor_vendor_type_idx` (`vendor_type` ASC) VISIBLE,
  INDEX `fk_vendor_vendor_status_idx` (`vendor_status` ASC) VISIBLE,
  INDEX `fk_vendor_fee_type_idx` (`vendor_sole_sale_fee_type` ASC, `vendor_multi_sale_fee_type` ASC) VISIBLE,
  INDEX `fk_vendor_directory_idx` (`vendor_solicitor_company` ASC) VISIBLE,
  INDEX `fk_vendor_vendor_solicitor_company_individual_idx` (`vendor_solicitor_company_individual` ASC) VISIBLE,
  INDEX `fk_vendor_vendor_capacity_idx` (`vendor_capacity` ASC) VISIBLE,
  CONSTRAINT `fk_vendor_vendor_bank_name`
    FOREIGN KEY (`vendor_bank_name`)
    REFERENCES `atlas`.`bank` (`bank_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_vendor_vendor_branch`
    FOREIGN KEY (`vendor_branch`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_vendor_vendor_company_reg_office_country`
    FOREIGN KEY (`vendor_company_reg_office_country`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_vendor_vendor_country`
    FOREIGN KEY (`vendor_country`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_vendor_vendor_created_by`
    FOREIGN KEY (`vendor_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_vendor_vendor_title`
    FOREIGN KEY (`vendor_title`)
    REFERENCES `atlas`.`title` (`title_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_vendor_vendor_updated_by`
    FOREIGN KEY (`vendor_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_vendor_vendor_type`
    FOREIGN KEY (`vendor_type`)
    REFERENCES `atlas`.`body_type` (`body_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_vendor_vendor_status`
    FOREIGN KEY (`vendor_status`)
    REFERENCES `atlas`.`vendor_status` (`vendor_status_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
CONSTRAINT `fk_vendor_sole_sale_fee_type`
  FOREIGN KEY (`vendor_sole_sale_fee_type`)
  REFERENCES `atlas`.`fee_type` (`fee_type_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,
CONSTRAINT `fk_vendor_multi_sale_fee_type`
  FOREIGN KEY (`vendor_multi_sale_fee_type`)
  REFERENCES `atlas`.`fee_type` (`fee_type_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,
  CONSTRAINT `fk_vendor_vendor_solicitor_company`
    FOREIGN KEY (`vendor_solicitor_company`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_vendor_vendor_solicitor_company_individual`
    FOREIGN KEY (`vendor_solicitor_company_individual`)
    REFERENCES `atlas`.`directory_individual` (`directory_individual_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_vendor_vendor_capacity`
    FOREIGN KEY (`vendor_capacity`)
    REFERENCES `atlas`.`capacity` (`capacity_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`valuation_availability`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`valuation_availability` (
  `valuation_availability_id` TINYINT NOT NULL AUTO_INCREMENT,
  `valuation_availability_name` VARCHAR(20) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `valuation_availability_archived` TINYINT(1) NOT NULL DEFAULT '2',
  PRIMARY KEY (`valuation_availability_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_price_qualifier`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_price_qualifier` (
  `price_qualifier_id` TINYINT NOT NULL DEFAULT '0',
  `price_qualifier_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `price_qualifier_name_short` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`price_qualifier_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`valuation_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`valuation_status` (
  `valuation_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `valuation_status_name` VARCHAR(50) NULL DEFAULT NULL,
  `valuation_status_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`valuation_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`valuation_lost_reason`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`valuation_lost_reason` (
  `valuation_lost_reason_id` TINYINT NOT NULL AUTO_INCREMENT,
  `valuation_lost_reason_name` VARCHAR(100) NULL DEFAULT NULL,
  PRIMARY KEY (`valuation_lost_reason_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`valuation_lead_source`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`valuation_lead_source` (
  `valuation_lead_source_id` TINYINT NOT NULL AUTO_INCREMENT,
  `valuation_lead_source_name` TEXT NULL DEFAULT NULL,
  PRIMARY KEY (`valuation_lead_source_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_possession_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_possession_status` (
  `property_possession_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `property_possession_status_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`property_possession_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`valuation_reason`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`valuation_reason` (
  `valuation_reason_id` TINYINT NOT NULL AUTO_INCREMENT,
  `valuation_reason_name` VARCHAR(100) NULL DEFAULT NULL,
  PRIMARY KEY (`valuation_reason_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_tenure_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_tenure_type` (
  `property_tenure_type_id` TINYINT NOT NULL DEFAULT '0',
  `property_tenure_type_name` VARCHAR(25) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`property_tenure_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`valuation_condition`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`valuation_condition` (
  `valuation_condition_id` TINYINT NOT NULL AUTO_INCREMENT,
  `valuation_condition_name` VARCHAR(30) NULL DEFAULT NULL,
  `valuation_condition_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`valuation_condition_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`contract_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`contract_type` (
  `contract_type_id` INT NOT NULL AUTO_INCREMENT,
  `contract_type_name` VARCHAR(30) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `contract_type_description` VARCHAR(200) NULL DEFAULT NULL,
  `contract_type_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`contract_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_access_arrangement`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_access_arrangement` (
  `property_access_arrangement_id` TINYINT NOT NULL AUTO_INCREMENT,
  `property_access_arrangement_name` VARCHAR(30) NULL DEFAULT NULL,
  `property_access_arrangement_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`property_access_arrangement_id`),
  UNIQUE INDEX `property_access_arrangement_sort` (`property_access_arrangement_sort` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`letting_service`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`letting_service` (
  `letting_service_id` TINYINT NOT NULL AUTO_INCREMENT,
  `letting_service_name` VARCHAR(100) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `letting_service_name_short` VARCHAR(10) NULL DEFAULT NULL,
  `letting_service_archived` TINYINT(1) NOT NULL DEFAULT '2',
  `letting_service_sort` TINYINT(1) NULL DEFAULT NULL,
  PRIMARY KEY (`letting_service_id`),
  INDEX `letting_service_id` (`letting_service_id` ASC, `letting_service_archived` ASC, `letting_service_sort` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_area_unit`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_area_unit` (
  `property_area_unit_id` TINYINT NOT NULL AUTO_INCREMENT,
  `property_area_unit_name` VARCHAR(15) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `property_area_unit_singular` VARCHAR(15) NULL DEFAULT NULL,
  `property_area_unit_name_short` VARCHAR(10) NULL DEFAULT NULL,
  PRIMARY KEY (`property_area_unit_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`valuation`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`valuation` (
  `valuation_id` INT NOT NULL AUTO_INCREMENT,
  `valuation_title` TINYINT NULL DEFAULT NULL,
  `valuation_first_name` VARCHAR(50) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_surname` VARCHAR(50) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_capacity` TINYINT NULL DEFAULT NULL,
  `valuation_email` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_phone_home` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_phone_work` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_phone_mobile` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_home_address_property_apartment_number_name` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_number_name` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_address_line_1` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_address_line_2` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_suburb` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_town_city` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_postcode` VARCHAR(8) NULL DEFAULT NULL,
  `valuation_home_address_property_country` INT NULL DEFAULT NULL,
  `valuation_property_apartment_number_name` VARCHAR(60) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_property_number_name` VARCHAR(60) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_property_address_line_1` VARCHAR(60) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_property_address_line_2` VARCHAR(60) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_property_suburb` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_property_town_city` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_property_postcode` VARCHAR(8) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_property_country` INT NULL DEFAULT NULL,
  `valuation_property_availability` TINYINT NULL DEFAULT NULL,
  `valuation_property_category` TINYINT NULL DEFAULT NULL,
  `valuation_property_type` INT NULL DEFAULT NULL,
  `valuation_property_no_bedrooms` TINYINT NULL DEFAULT NULL,
  `valuation_property_no_bathrooms` TINYINT NULL DEFAULT NULL,
  `valuation_property_no_receptions` TINYINT NULL DEFAULT NULL,
  `valuation_property_price_from` DECIMAL(11,2) NULL DEFAULT NULL,
  `valuation_property_price_to` DECIMAL(11,2) NULL DEFAULT NULL,
  `valuation_property_price_asking` DECIMAL(11,2) NULL DEFAULT NULL,
  `valuation_price_qualifier` TINYINT NULL DEFAULT NULL,
  `valuation_branch` INT NULL DEFAULT NULL,
  `valuation_employee` INT NULL DEFAULT NULL,
  `valuation_negotiator` INT NULL DEFAULT NULL,
  `valuation_status` TINYINT NULL DEFAULT NULL,
  `valuation_lost_reason` TINYINT NULL DEFAULT NULL,
  `valuation_notes` TEXT NULL DEFAULT NULL,
  `valuation_notes_private` TEXT CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_value_notes` TEXT CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_next_review_date` DATE NULL DEFAULT NULL,
  `valuation_next_review_date_negotiator` DATE NULL DEFAULT NULL,
  `valuation_next_review_date_lister` DATE NULL DEFAULT NULL,
  `valuation_next_review_date_lister_notes` TEXT NULL DEFAULT NULL,
  `valuation_lead_source` TINYINT NULL DEFAULT NULL,
  `valuation_lead_source_notes` TEXT NULL DEFAULT NULL,
  `valuation_occupancy` TINYINT NULL DEFAULT NULL,
  `valuation_reason` TINYINT NULL DEFAULT NULL,
  `valuation_lost_to` INT NULL DEFAULT NULL,
  `valuation_lost_sale_fee` DECIMAL(7,2) NULL DEFAULT NULL,
  `valuation_lost_sale_fee_type` TINYINT NULL DEFAULT NULL,
  `valuation_property_price_marketed` DECIMAL(11,2) NULL DEFAULT NULL,
  `valuation_price_qualifier_marketed` TINYINT NULL DEFAULT NULL,
  `valuation_tenure_type` TINYINT NULL DEFAULT NULL,
  `valuation_sale_fee` DECIMAL(7,2) NOT NULL DEFAULT '1.00',
  `valuation_sale_fee_type` TINYINT NOT NULL DEFAULT '7',
  `valuation_tenant_find_fee` DECIMAL(7,2) NOT NULL DEFAULT '62.50',
  `valuation_tenant_find_fee_type` TINYINT NOT NULL DEFAULT '3',
  `valuation_tenant_find_with_management_fee` DECIMAL(7,2) NOT NULL DEFAULT '332.50',
  `valuation_tenant_find_with_management_fee_type` TINYINT NOT NULL DEFAULT '1',
  `valuation_management_fee` DECIMAL(7,2) NOT NULL DEFAULT '10.00',
  `valuation_management_fee_type` TINYINT NOT NULL DEFAULT '2',
  `valuation_to_landlord` INT NULL DEFAULT NULL,
  `valuation_to_vendor` INT NULL DEFAULT NULL,
  `valuation_to_property` INT NULL DEFAULT NULL,
  `valuation_condition` TINYINT NULL DEFAULT NULL,
  `valuation_contract_type` INT NULL DEFAULT NULL,
  `valuation_multi_agent` INT NULL DEFAULT NULL,
  `valuation_multi_agent_notes` TEXT NULL DEFAULT NULL,
  `valuation_multi_agent_withdrawal_date` DATE NULL DEFAULT NULL,
  `valuation_instruct_epc` TINYINT NULL DEFAULT NULL,
  `valuation_photographer` INT NULL DEFAULT NULL,
  `valuation_photographer_access` TINYINT NULL DEFAULT NULL,
  `valuation_minimum_contract_period` VARCHAR(2) NOT NULL DEFAULT '0',
  `valuation_letting_service` TINYINT NULL DEFAULT NULL,
  `valuation_lister` INT NULL DEFAULT NULL,
  `valuation_instruction_override` TINYINT NOT NULL DEFAULT '2',
  `valuation_instruct_video` TINYINT NULL DEFAULT NULL,
  `valuation_recommendations` TEXT NULL DEFAULT NULL,
  `valuation_date_created` DATETIME NULL DEFAULT NULL,
  `valuation_date_updated` DATETIME NULL DEFAULT NULL,
  `valuation_created_by` INT NULL DEFAULT NULL,
  `valuation_updated_by` INT NULL DEFAULT NULL,
  `valuation_title_2` TINYINT NULL DEFAULT NULL,
  `valuation_first_name_2` VARCHAR(50) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_surname_2` VARCHAR(50) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_email_2` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_phone_home_2` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_phone_work_2` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_phone_mobile_2` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_home_address_property_apartment_number_name_2` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_number_name_2` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_address_line_1_2` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_address_line_2_2` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_suburb_2` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_town_city_2` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_postcode_2` VARCHAR(8) NULL DEFAULT NULL,
  `valuation_home_address_property_country_2` INT NULL DEFAULT NULL,
  `valuation_title_3` TINYINT NULL DEFAULT NULL,
  `valuation_first_name_3` VARCHAR(50) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_surname_3` VARCHAR(50) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_email_3` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_phone_home_3` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_phone_work_3` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_phone_mobile_3` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_home_address_property_apartment_number_name_3` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_number_name_3` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_address_line_1_3` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_address_line_2_3` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_suburb_3` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_town_city_3` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_postcode_3` VARCHAR(8) NULL DEFAULT NULL,
  `valuation_home_address_property_country_3` INT NULL DEFAULT NULL,
  `valuation_title_4` TINYINT NULL DEFAULT NULL,
  `valuation_first_name_4` VARCHAR(50) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_surname_4` VARCHAR(50) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_email_4` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_phone_home_4` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_phone_work_4` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_phone_mobile_4` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_home_address_property_apartment_number_name_4` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_number_name_4` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_address_line_1_4` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_address_line_2_4` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_suburb_4` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_town_city_4` VARCHAR(60) NULL DEFAULT NULL,
  `valuation_home_address_property_postcode_4` VARCHAR(8) NULL DEFAULT NULL,
  `valuation_home_address_property_country_4` INT NULL DEFAULT NULL,
  `valuation_capacity_2` TINYINT NULL DEFAULT NULL,
  `valuation_capacity_3` TINYINT NULL DEFAULT NULL,
  `valuation_capacity_4` TINYINT NULL DEFAULT NULL,
  `valuation_referral_solicitor_notes` TEXT NULL DEFAULT NULL,
  `valuation_referral_mortgage_notes` TEXT NULL DEFAULT NULL,
  `valuation_tenant_contact_details` TEXT NULL DEFAULT NULL,
  `valuation_premium_price_guide_link` TEXT NULL DEFAULT NULL,
  `valuation_status_reason` TEXT NULL DEFAULT NULL,
  `valuation_email_reminders` TINYINT NOT NULL DEFAULT '1',
  `valuation_total_amount_paid_employee` DECIMAL(10,2) NOT NULL DEFAULT '0.00',
  `valuation_property_living_space` DECIMAL(7,2) NULL DEFAULT NULL,
  `valuation_property_living_space_unit` TINYINT NULL DEFAULT NULL,
  `valuation_price_per_square_foot` SMALLINT NULL DEFAULT NULL,
  `valuation_valuer_inherited` TINYINT(1) NOT NULL DEFAULT '2',
  `valuation_ownership_period` TEXT NULL DEFAULT NULL,
  `valuation_extended_loft_conversion_info` TEXT NULL DEFAULT NULL,
  `valuation_major_improvements` TEXT NULL DEFAULT NULL,
  `valuation_timescale_selling` TEXT NULL DEFAULT NULL,
  `valuation_otm_details` TEXT NULL DEFAULT NULL,
  `valuation_other_vals` TEXT NULL DEFAULT NULL,
  `valuation_price_expectations` TEXT NULL DEFAULT NULL,
  `valuation_parking_arrangements` TEXT NULL DEFAULT NULL,
  `valuation_outdoor_space` TEXT NULL DEFAULT NULL,
  `valuation_instruct_video_reason` TEXT NULL DEFAULT NULL,
  `valuation_legal_owner_contact_details` TEXT NULL DEFAULT NULL,
  PRIMARY KEY (`valuation_id`),
  INDEX `valuation_branch` (`valuation_branch` ASC, `valuation_employee` ASC, `valuation_status` ASC, `valuation_created_by` ASC, `valuation_updated_by` ASC) VISIBLE,
  INDEX `valuation_title` (`valuation_title` ASC, `valuation_title_2` ASC, `valuation_title_3` ASC, `valuation_title_4` ASC) VISIBLE,
  INDEX `valuation_property_postcode` (`valuation_property_postcode` ASC) VISIBLE,
  INDEX `valuation_instruction_override` (`valuation_instruction_override` ASC) VISIBLE,
  INDEX `valuation_email` (`valuation_email` ASC) VISIBLE,
  INDEX `valuation_email_2` (`valuation_email_2` ASC) VISIBLE,
  INDEX `valuation_email_3` (`valuation_email_3` ASC) VISIBLE,
  INDEX `valuation_email_4` (`valuation_email_4` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_employee` (`valuation_employee` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_to_landlord` (`valuation_to_landlord` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_to_vendor` (`valuation_to_vendor` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_to_property` (`valuation_to_property` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_created_by` (`valuation_created_by` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_updated_by` (`valuation_updated_by` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_home_address_property_country` (`valuation_home_address_property_country` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_property_country` (`valuation_property_country` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_home_address_property_country_2` (`valuation_home_address_property_country_2` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_home_address_property_country_3` (`valuation_home_address_property_country_3` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_home_address_property_country_4` (`valuation_home_address_property_country_4` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_negotiator` (`valuation_negotiator` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_lister` (`valuation_lister` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_property_category` (`valuation_property_category` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_property_type` (`valuation_property_type` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_capacity_idx` (`valuation_capacity` ASC, `valuation_capacity_2` ASC, `valuation_capacity_3` ASC, `valuation_capacity_4` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_property_availability_idx` (`valuation_property_availability` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_price_qualifier_idx` (`valuation_price_qualifier` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_status_idx` (`valuation_status` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_lost_reason_idx` (`valuation_lost_reason` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_lead_source_idx` (`valuation_lead_source` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_occupancy_idx` (`valuation_occupancy` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_reason_idx` (`valuation_reason` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_lost_to_idx` (`valuation_lost_to` ASC, `valuation_multi_agent` ASC, `valuation_photographer` ASC) VISIBLE,
  INDEX `fk_valuation_fee_type_idx` (`valuation_lost_sale_fee_type` ASC, `valuation_sale_fee_type` ASC, `valuation_tenant_find_fee_type` ASC, `valuation_tenant_find_with_management_fee_type` ASC, `valuation_management_fee_type` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_tenure_type_idx` (`valuation_tenure_type` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_condition_valuation_contract_type_idx` (`valuation_contract_type` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_photographer_access_idx` (`valuation_photographer_access` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_letting_service_idx` (`valuation_letting_service` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_property_living_space_unit_idx` (`valuation_property_living_space_unit` ASC) VISIBLE,
  INDEX `fk_valuation_valuation_condition_idx` (`valuation_condition` ASC) VISIBLE,
  CONSTRAINT `fk_valuation_valuation_branch`
    FOREIGN KEY (`valuation_branch`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_created_by`
    FOREIGN KEY (`valuation_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_employee`
    FOREIGN KEY (`valuation_employee`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_home_address_property_country`
    FOREIGN KEY (`valuation_home_address_property_country`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_home_address_property_country_2`
    FOREIGN KEY (`valuation_home_address_property_country_2`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_home_address_property_country_3`
    FOREIGN KEY (`valuation_home_address_property_country_3`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_home_address_property_country_4`
    FOREIGN KEY (`valuation_home_address_property_country_4`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_lister`
    FOREIGN KEY (`valuation_lister`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_negotiator`
    FOREIGN KEY (`valuation_negotiator`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_property_category`
    FOREIGN KEY (`valuation_property_category`)
    REFERENCES `atlas`.`property_category` (`property_category_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_property_country`
    FOREIGN KEY (`valuation_property_country`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_property_type`
    FOREIGN KEY (`valuation_property_type`)
    REFERENCES `atlas`.`property_type` (`property_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
 CONSTRAINT `fk_valuation_title_1`
  FOREIGN KEY (`valuation_title`)
  REFERENCES `atlas`.`title` (`title_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,

CONSTRAINT `fk_valuation_title_2`
  FOREIGN KEY (`valuation_title_2`)
  REFERENCES `atlas`.`title` (`title_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,

CONSTRAINT `fk_valuation_title_3`
  FOREIGN KEY (`valuation_title_3`)
  REFERENCES `atlas`.`title` (`title_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,

CONSTRAINT `fk_valuation_title_4`
  FOREIGN KEY (`valuation_title_4`)
  REFERENCES `atlas`.`title` (`title_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_to_landlord`
    FOREIGN KEY (`valuation_to_landlord`)
    REFERENCES `atlas`.`landlord` (`landlord_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_to_property`
    FOREIGN KEY (`valuation_to_property`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_to_vendor`
    FOREIGN KEY (`valuation_to_vendor`)
    REFERENCES `atlas`.`vendor` (`vendor_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_updated_by`
    FOREIGN KEY (`valuation_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_valuer`
    FOREIGN KEY (`valuation_employee`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_capacity_1`
  FOREIGN KEY (`valuation_capacity`)
  REFERENCES `atlas`.`capacity` (`capacity_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,

CONSTRAINT `fk_valuation_capacity_2`
  FOREIGN KEY (`valuation_capacity_2`)
  REFERENCES `atlas`.`capacity` (`capacity_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,

CONSTRAINT `fk_valuation_capacity_3`
  FOREIGN KEY (`valuation_capacity_3`)
  REFERENCES `atlas`.`capacity` (`capacity_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,

CONSTRAINT `fk_valuation_capacity_4`
  FOREIGN KEY (`valuation_capacity_4`)
  REFERENCES `atlas`.`capacity` (`capacity_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_property_availability`
    FOREIGN KEY (`valuation_property_availability`)
    REFERENCES `atlas`.`valuation_availability` (`valuation_availability_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_price_qualifier`
    FOREIGN KEY (`valuation_price_qualifier`)
    REFERENCES `atlas`.`property_price_qualifier` (`price_qualifier_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_status`
    FOREIGN KEY (`valuation_status`)
    REFERENCES `atlas`.`valuation_status` (`valuation_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_lost_reason`
    FOREIGN KEY (`valuation_lost_reason`)
    REFERENCES `atlas`.`valuation_lost_reason` (`valuation_lost_reason_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_lead_source`
    FOREIGN KEY (`valuation_lead_source`)
    REFERENCES `atlas`.`valuation_lead_source` (`valuation_lead_source_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_occupancy`
    FOREIGN KEY (`valuation_occupancy`)
    REFERENCES `atlas`.`property_possession_status` (`property_possession_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_reason`
    FOREIGN KEY (`valuation_reason`)
    REFERENCES `atlas`.`valuation_reason` (`valuation_reason_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_lost_to`
  FOREIGN KEY (`valuation_lost_to`)
  REFERENCES `atlas`.`directory` (`directory_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,

CONSTRAINT `fk_valuation_multi_agent`
  FOREIGN KEY (`valuation_multi_agent`)
  REFERENCES `atlas`.`directory` (`directory_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,

CONSTRAINT `fk_valuation_photographer`
  FOREIGN KEY (`valuation_photographer`)
  REFERENCES `atlas`.`directory` (`directory_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_lost_sale_fee_type`
  FOREIGN KEY (`valuation_lost_sale_fee_type`)
  REFERENCES `atlas`.`fee_type` (`fee_type_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,

CONSTRAINT `fk_valuation_sale_fee_type`
  FOREIGN KEY (`valuation_sale_fee_type`)
  REFERENCES `atlas`.`fee_type` (`fee_type_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,

CONSTRAINT `fk_valuation_tenant_find_fee_type`
  FOREIGN KEY (`valuation_tenant_find_fee_type`)
  REFERENCES `atlas`.`fee_type` (`fee_type_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,

CONSTRAINT `fk_valuation_tenant_find_with_mgmt_fee_type`
  FOREIGN KEY (`valuation_tenant_find_with_management_fee_type`)
  REFERENCES `atlas`.`fee_type` (`fee_type_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,

CONSTRAINT `fk_valuation_management_fee_type`
  FOREIGN KEY (`valuation_management_fee_type`)
  REFERENCES `atlas`.`fee_type` (`fee_type_id`)
  ON DELETE RESTRICT
  ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_tenure_type`
    FOREIGN KEY (`valuation_tenure_type`)
    REFERENCES `atlas`.`property_tenure_type` (`property_tenure_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_condition`
    FOREIGN KEY (`valuation_condition`)
    REFERENCES `atlas`.`valuation_condition` (`valuation_condition_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_condition_valuation_contract_type`
    FOREIGN KEY (`valuation_contract_type`)
    REFERENCES `atlas`.`contract_type` (`contract_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_photographer_access`
    FOREIGN KEY (`valuation_photographer_access`)
    REFERENCES `atlas`.`property_access_arrangement` (`property_access_arrangement_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_letting_service`
    FOREIGN KEY (`valuation_letting_service`)
    REFERENCES `atlas`.`letting_service` (`letting_service_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_valuation_property_living_space_unit`
    FOREIGN KEY (`valuation_property_living_space_unit`)
    REFERENCES `atlas`.`property_area_unit` (`property_area_unit_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_availability`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_availability` (
  `property_availability_id` TINYINT NOT NULL AUTO_INCREMENT,
  `property_availability_name` VARCHAR(10) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `property_availability_display_name` VARCHAR(20) NULL DEFAULT NULL,
  `property_availability_display_name2` VARCHAR(100) NULL DEFAULT NULL,
  `property_availability_seo_name` VARCHAR(30) NULL DEFAULT NULL,
  `property_availability_xml_name` VARCHAR(10) NULL DEFAULT NULL,
  `property_availability_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`property_availability_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_furnished_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_furnished_status` (
  `property_furnished_status_id` TINYINT NOT NULL DEFAULT '0',
  `property_furnished_status_name` VARCHAR(40) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `property_furnished_status_rightmove` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`property_furnished_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`suburb`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`suburb` (
  `suburb_id` INT NOT NULL AUTO_INCREMENT,
  `suburb_name` VARCHAR(60) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `suburb_description` TEXT NULL DEFAULT NULL,
  `suburb_branch` INT NULL DEFAULT NULL,
  `suburb_active` TINYINT(1) NOT NULL DEFAULT '1',
  `suburb_property_requirements` TINYINT(1) NOT NULL DEFAULT '1',
  PRIMARY KEY (`suburb_id`),
  UNIQUE INDEX `Dups` (`suburb_id` ASC, `suburb_branch` ASC) VISIBLE,
  INDEX `fk_suburb_suburb_branch` (`suburb_branch` ASC) VISIBLE,
  CONSTRAINT `fk_suburb_suburb_branch`
    FOREIGN KEY (`suburb_branch`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_rent_frequency`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_rent_frequency` (
  `property_rent_frequency_id` INT NOT NULL DEFAULT '0',
  `property_rent_frequency_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `property_rent_frequency_sort` TINYINT NULL DEFAULT NULL,
  `property_rent_frequency_short` VARCHAR(10) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`property_rent_frequency_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_term_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_term_type` (
  `property_term_type_id` INT NOT NULL DEFAULT '0',
  `property_term_type_name` VARCHAR(15) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`property_term_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_status` (
  `property_status_id` INT NOT NULL,
  `property_status_name` VARCHAR(35) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `property_status_type` TINYINT NULL DEFAULT NULL,
  `property_status_name_short` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`property_status_id`),
  INDEX `property_status_id` (`property_status_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_condition`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_condition` (
  `property_condition_id` TINYINT NOT NULL AUTO_INCREMENT,
  `property_condition_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  UNIQUE INDEX `property_condition_id_2` (`property_condition_id` ASC) VISIBLE,
  INDEX `property_condition_id` (`property_condition_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`selective_licencing_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`selective_licencing_status` (
  `selective_licencing_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `selective_licencing_status_name` VARCHAR(50) NULL DEFAULT NULL,
  `selective_licencing_status_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`selective_licencing_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`local_authority`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`local_authority` (
  `local_authority_id` INT NOT NULL AUTO_INCREMENT,
  `local_authority_name` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `local_authority_housing_department_name` VARCHAR(100) NULL DEFAULT NULL,
  `local_authority_property_number_name` VARCHAR(50) NULL DEFAULT NULL,
  `local_authority_address_line_1` VARCHAR(255) NULL DEFAULT NULL,
  `local_authority_address_line_2` VARCHAR(255) NULL DEFAULT NULL,
  `local_authority_suburb` VARCHAR(255) NULL DEFAULT NULL,
  `local_authority_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `local_authority_postcode` VARCHAR(8) NULL DEFAULT NULL,
  `local_authority_country` INT NULL DEFAULT NULL,
  `local_authority_selective_licencing` TINYINT NULL DEFAULT NULL,
  `local_authority_selective_licencing_start_date` DATE NULL DEFAULT NULL,
  `local_authority_selective_licencing_end_date` DATE NULL DEFAULT NULL,
  `local_authority_selective_licencing_email_address` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  PRIMARY KEY (`local_authority_id`),
  INDEX `fk_local_authority_local_authority_country_idx` (`local_authority_country` ASC) VISIBLE,
  CONSTRAINT `fk_local_authority_local_authority_country`
    FOREIGN KEY (`local_authority_country`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`local_authority_ward`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`local_authority_ward` (
  `local_authority_ward_id` INT NOT NULL AUTO_INCREMENT,
  `local_authority_ward_name` VARCHAR(100) NULL DEFAULT NULL,
  `local_authority_ward_selective_licencing` TINYINT NULL DEFAULT NULL,
  `local_authority_ward_selective_licencing_start_date` DATE NULL DEFAULT NULL,
  `local_authority_ward_selective_licencing_end_date` DATE NULL DEFAULT NULL,
  `local_authority_id` INT NULL DEFAULT NULL,
  PRIMARY KEY (`local_authority_ward_id`),
  INDEX `fk_local_authority_ward_local_authority_id_idx` (`local_authority_id` ASC) VISIBLE,
  CONSTRAINT `fk_local_authority_ward_local_authority_id`
    FOREIGN KEY (`local_authority_id`)
    REFERENCES `atlas`.`local_authority` (`local_authority_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_viewing_arrangement`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_viewing_arrangement` (
  `property_viewing_arrangement_id` TINYINT NOT NULL AUTO_INCREMENT,
  `property_viewing_arrangement_name` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`property_viewing_arrangement_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`keys_location`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`keys_location` (
  `keys_location_id` INT NOT NULL AUTO_INCREMENT,
  `keys_location_name` SMALLINT NULL DEFAULT NULL,
  PRIMARY KEY (`keys_location_id`),
  UNIQUE INDEX `keys_location_name` (`keys_location_name` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`service_charge_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`service_charge_status` (
  `service_charge_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `service_charge_status_name` VARCHAR(75) NULL DEFAULT NULL,
  PRIMARY KEY (`service_charge_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`insurance_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`insurance_status` (
  `insurance_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `insurance_status_name` VARCHAR(75) NULL DEFAULT NULL,
  PRIMARY KEY (`insurance_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_rent_agreement`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_rent_agreement` (
  `tenancy_rent_agreement_id` TINYINT NOT NULL AUTO_INCREMENT,
  `tenancy_rent_agreement_name` VARCHAR(10) NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_rent_agreement_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_lost_management`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_lost_management` (
  `property_lost_management_id` TINYINT NOT NULL AUTO_INCREMENT,
  `property_lost_management_reason` TEXT NULL DEFAULT NULL,
  PRIMARY KEY (`property_lost_management_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`commission_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`commission_type` (
  `commission_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `commission_type_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`commission_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_lease_obligations`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_lease_obligations` (
  `property_lease_obligations_id` TINYINT NOT NULL AUTO_INCREMENT,
  `property_lease_obligations_name` VARCHAR(100) NULL DEFAULT NULL,
  PRIMARY KEY (`property_lease_obligations_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`premium_listing_sales`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`premium_listing_sales` (
  `premium_listing_id` TINYINT NOT NULL AUTO_INCREMENT,
  `premium_listing_name` VARCHAR(100) NULL DEFAULT NULL,
  `premium_listing_archive` TINYINT NOT NULL DEFAULT '2',
  PRIMARY KEY (`premium_listing_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_viewing_length`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_viewing_length` (
  `property_viewing_length_id` TINYINT NOT NULL AUTO_INCREMENT,
  `property_viewing_length_name` VARCHAR(20) NULL DEFAULT NULL,
  `property_viewing_length_minutes` TINYINT NULL DEFAULT NULL,
  `property_viewing_length_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`property_viewing_length_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_viewing_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_viewing_type` (
  `property_viewing_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `property_viewing_type_name` VARCHAR(20) NULL DEFAULT NULL,
  `property_viewing_type_description` VARCHAR(100) NULL DEFAULT NULL,
  PRIMARY KEY (`property_viewing_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`certificate_initial_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`certificate_initial_status` (
  `certificate_initial_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `certificate_initial_status_name` VARCHAR(50) NULL DEFAULT NULL,
  `certificate_initial_status_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`certificate_initial_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`probate_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`probate_status` (
  `probate_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `probate_status_name` VARCHAR(30) NULL DEFAULT NULL,
  `probate_status_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`probate_status_id`),
  UNIQUE INDEX `probate_status_sort` (`probate_status_sort` ASC) VISIBLE,
  INDEX `probate_status_id` (`probate_status_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`possession_status_completion`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`possession_status_completion` (
  `possession_status_completion_id` TINYINT NOT NULL AUTO_INCREMENT,
  `possession_status_completion_name` VARCHAR(30) NULL DEFAULT NULL,
  `possession_status_completion_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`possession_status_completion_id`),
  UNIQUE INDEX `possession_status_completion_sort` (`possession_status_completion_sort` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_rent_frequency`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_rent_frequency` (
  `tenancy_rent_frequency_id` TINYINT NOT NULL AUTO_INCREMENT,
  `tenancy_rent_frequency_name` VARCHAR(25) NULL DEFAULT NULL,
  `tenancy_rent_frequency_sort` TINYINT NULL DEFAULT NULL,
  `tenancy_rent_frequency_description` TEXT NULL DEFAULT NULL,
  `tenancy_rent_frequency_short` VARCHAR(10) NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_rent_frequency_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_withdrawal_reason`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_withdrawal_reason` (
  `property_withdrawal_reason_id` TINYINT NOT NULL AUTO_INCREMENT,
  `property_withdrawal_reason_name` TEXT NULL DEFAULT NULL,
  PRIMARY KEY (`property_withdrawal_reason_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;



-- -----------------------------------------------------
-- Full Table `atlas`.property with reduced indexes and simplified foreign keys
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property` (
  `property_id` INT NOT NULL AUTO_INCREMENT,
  `property_token` VARCHAR(40) NULL DEFAULT NULL,
  `property_availability` TINYINT NULL DEFAULT NULL,
  `property_letting_service` TINYINT NULL DEFAULT NULL,
  `property_letting_available_from` DATE NULL DEFAULT NULL,
  `property_letting_furnished_status` TINYINT NULL DEFAULT NULL,
  `property_letting_pets` TINYINT NULL DEFAULT NULL,
  `property_letting_smoking` TINYINT NULL DEFAULT NULL,
  `property_category` TINYINT NULL DEFAULT NULL,
  `property_type` INT NULL DEFAULT NULL,
  `property_address_line_1` VARCHAR(255) NULL DEFAULT NULL,
  `property_postcode` VARCHAR(8) NULL DEFAULT NULL,
  `property_country` INT NULL DEFAULT NULL,
  `property_status` INT NULL DEFAULT NULL,
  `property_created_by` INT NULL DEFAULT NULL,
  `property_updated_by` INT NULL DEFAULT NULL,
  `property_branch` INT NULL DEFAULT NULL,
  `property_price` DECIMAL(11,2) NULL DEFAULT NULL,
  `property_contract_type` INT NULL DEFAULT NULL,
  `property_latitude` DECIMAL(11,8) NULL DEFAULT NULL,
  `property_longitude` DECIMAL(11,8) NULL DEFAULT NULL,
  `property_summary` TEXT NULL DEFAULT NULL,
  `property_description` TEXT NULL DEFAULT NULL,
  PRIMARY KEY (`property_id`),
  INDEX `idx_property_status` (`property_status`),
  INDEX `idx_property_postcode` (`property_postcode`),
  INDEX `idx_property_token` (`property_token`),
  INDEX `idx_property_branch` (`property_branch`),
  INDEX `idx_property_created_by` (`property_created_by`),
  -- Simplified and essential foreign keys only
  CONSTRAINT `fk_property_created_by`
    FOREIGN KEY (`property_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_updated_by`
    FOREIGN KEY (`property_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_branch`
    FOREIGN KEY (`property_branch`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_status`
    FOREIGN KEY (`property_status`)
    REFERENCES `atlas`.`property_status` (`property_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_type`
    FOREIGN KEY (`property_type`)
    REFERENCES `atlas`.`property_type` (`property_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_country`
    FOREIGN KEY (`property_country`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_contract_type`
    FOREIGN KEY (`property_contract_type`)
    REFERENCES `atlas`.`contract_type` (`contract_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARACTER SET=utf8mb3;



-- -----------------------------------------------------
-- Table `atlas`.`property_room_letting_size`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_room_letting_size` (
  `property_room_letting_size_id` TINYINT NOT NULL AUTO_INCREMENT,
  `property_room_letting_size_name` VARCHAR(6) NULL DEFAULT NULL,
  PRIMARY KEY (`property_room_letting_size_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_floor`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_floor` (
  `property_floor_id` TINYINT NOT NULL AUTO_INCREMENT,
  `property_floor_name` VARCHAR(20) NULL DEFAULT NULL,
  `property_floor_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`property_floor_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`gender`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`gender` (
  `gender_id` TINYINT NOT NULL AUTO_INCREMENT,
  `gender_name` VARCHAR(6) NULL DEFAULT NULL,
  PRIMARY KEY (`gender_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_room_letting`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_room_letting` (
  `property_room_letting_id` INT NOT NULL AUTO_INCREMENT,
  `property_id` INT NULL DEFAULT NULL,
  `property_room_letting_sort` TINYINT NOT NULL,
  `property_room_letting_status` INT NULL DEFAULT NULL,
  `property_room_letting_rent` DECIMAL(6,2) NULL DEFAULT NULL,
  `property_room_letting_rent_frequency` INT NULL DEFAULT NULL,
  `property_room_letting_deposit` DECIMAL(6,2) NULL DEFAULT NULL,
  `property_room_letting_size` TINYINT NULL DEFAULT NULL,
  `property_room_letting_floor` TINYINT NULL DEFAULT NULL,
  `property_room_letting_en_suite` TINYINT NULL DEFAULT NULL,
  `property_room_letting_furnished` TINYINT NULL DEFAULT NULL,
  `property_room_letting_available_from` DATE NULL DEFAULT NULL,
  `property_room_letting_gender` TINYINT NULL DEFAULT NULL,
  `property_room_letting_dob` DATE NULL DEFAULT NULL,
  `property_room_letting_profession` VARCHAR(255) NULL DEFAULT NULL,
  PRIMARY KEY (`property_room_letting_id`),
  INDEX `property_room_letting_id` (`property_room_letting_id` ASC) VISIBLE,
  INDEX `property_id` (`property_id` ASC) VISIBLE,
  INDEX `fk_property_room_letting_property_room_letting_status_idx` (`property_room_letting_status` ASC) VISIBLE,
  INDEX `fk_property_room_letting_property_room_letting_rent_frequen_idx` (`property_room_letting_rent_frequency` ASC) VISIBLE,
  INDEX `fk_property_room_letting_property_room_letting_size_idx` (`property_room_letting_size` ASC) VISIBLE,
  INDEX `fk_property_room_letting_property_room_letting_floor_idx` (`property_room_letting_floor` ASC) VISIBLE,
  INDEX `fk_property_room_letting_property_room_letting_furnished_idx` (`property_room_letting_furnished` ASC) VISIBLE,
  INDEX `fk_property_room_letting_property_room_letting_gender_idx` (`property_room_letting_gender` ASC) VISIBLE,
  CONSTRAINT `fk_property_room_letting_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_room_letting_property_room_letting_status`
    FOREIGN KEY (`property_room_letting_status`)
    REFERENCES `atlas`.`property_status` (`property_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_room_letting_property_room_letting_rent_frequency`
    FOREIGN KEY (`property_room_letting_rent_frequency`)
    REFERENCES `atlas`.`property_rent_frequency` (`property_rent_frequency_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_room_letting_property_room_letting_size`
    FOREIGN KEY (`property_room_letting_size`)
    REFERENCES `atlas`.`property_room_letting_size` (`property_room_letting_size_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_room_letting_property_room_letting_floor`
    FOREIGN KEY (`property_room_letting_floor`)
    REFERENCES `atlas`.`property_floor` (`property_floor_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_room_letting_property_room_letting_furnished`
    FOREIGN KEY (`property_room_letting_furnished`)
    REFERENCES `atlas`.`property_furnished_status` (`property_furnished_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_room_letting_property_room_letting_gender`
    FOREIGN KEY (`property_room_letting_gender`)
    REFERENCES `atlas`.`gender` (`gender_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_fixed_term_unit`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_fixed_term_unit` (
  `tenancy_fixed_term_unit_id` TINYINT NOT NULL AUTO_INCREMENT,
  `tenancy_fixed_term_unit_name` VARCHAR(10) NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_fixed_term_unit_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_payment_method`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_payment_method` (
  `tenancy_payment_method_id` TINYINT NOT NULL AUTO_INCREMENT,
  `tenancy_payment_method_name` VARCHAR(30) NULL DEFAULT NULL,
  `tenancy_payment_method_description` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_payment_method_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_status` (
  `tenancy_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `tenancy_status_name` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_renewal_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_renewal_status` (
  `tenancy_renewal_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `tenancy_renewal_status_name` VARCHAR(50) NULL DEFAULT NULL,
  `tenancy_renewal_status_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_renewal_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_move_out_reason`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_move_out_reason` (
  `tenancy_move_out_reason_id` TINYINT NOT NULL AUTO_INCREMENT,
  `tenancy_move_out_reason_name` VARCHAR(255) NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_move_out_reason_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_inspection_frequency`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_inspection_frequency` (
  `tenancy_inspection_frequency_id` TINYINT NOT NULL AUTO_INCREMENT,
  `tenancy_inspection_frequency_name` VARCHAR(15) NULL DEFAULT NULL,
  `tenancy_inspection_frequency_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_inspection_frequency_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_property_part`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_property_part` (
  `tenancy_property_part_id` TINYINT NOT NULL AUTO_INCREMENT,
  `tenancy_property_part_name` VARCHAR(4) NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_property_part_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy` (
  `tenancy_id` INT NOT NULL AUTO_INCREMENT,
  `tenancy_token` VARCHAR(40) NULL DEFAULT NULL,
  `tenancy_type` TINYINT NULL DEFAULT NULL,
  `tenancy_property` INT NULL DEFAULT NULL,
  `tenancy_furnished` INT NULL DEFAULT NULL,
  `tenancy_children` TINYINT NULL DEFAULT NULL,
  `tenancy_pets` TINYINT NULL DEFAULT NULL,
  `tenancy_smoking` TINYINT NULL DEFAULT NULL,
  `tenancy_property_part` TINYINT NULL DEFAULT NULL,
  `tenancy_property_part_room` INT NULL DEFAULT NULL,
  `tenancy_property_part_description` TEXT NULL DEFAULT NULL,
  `tenancy_shared_facilities` TINYINT NULL DEFAULT NULL,
  `tenancy_shared_facilities_description` TEXT NULL DEFAULT NULL,
  `tenancy_agreement_date` DATE NULL DEFAULT NULL,
  `tenancy_start_date` DATE NULL DEFAULT NULL,
  `tenancy_fixed_term` SMALLINT NULL DEFAULT NULL,
  `tenancy_fixed_term_unit` TINYINT NULL DEFAULT NULL,
  `tenancy_fixed_term_end_date` DATE NULL DEFAULT NULL,
  `tenancy_rent_amount` DECIMAL(8,2) NULL DEFAULT NULL,
  `tenancy_rent_frequency` TINYINT NULL DEFAULT NULL,
  `tenancy_rent_payable` TINYINT NULL DEFAULT NULL,
  `tenancy_rent_agreement` TINYINT NULL DEFAULT NULL,
  `tenancy_rent_frequency_schedule` TEXT CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `tenancy_rent_payment_method` TINYINT NULL DEFAULT NULL,
  `tenancy_council_pay_rent` TINYINT NULL DEFAULT NULL,
  `tenancy_rent_vat_rate` TINYINT NULL DEFAULT NULL,
  `tenancy_service_charge_amount` DECIMAL(8,2) NULL DEFAULT NULL,
  `tenancy_service_charge_frequency` TINYINT NULL DEFAULT NULL,
  `tenancy_service_charge_payable` TINYINT NULL DEFAULT NULL,
  `tenancy_service_charge_agreement` TINYINT NULL DEFAULT NULL,
  `tenancy_service_charge_frequency_schedule` TEXT NULL DEFAULT NULL,
  `tenancy_service_charge_payment_method` TINYINT NULL DEFAULT NULL,
  `tenancy_service_charge_vat_rate` TINYINT NULL DEFAULT NULL,
  `tenancy_insurance_amount` DECIMAL(8,2) NULL DEFAULT NULL,
  `tenancy_insurance_frequency` TINYINT NULL DEFAULT NULL,
  `tenancy_insurance_payable` TINYINT NULL DEFAULT NULL,
  `tenancy_insurance_agreement` TINYINT NULL DEFAULT NULL,
  `tenancy_insurance_frequency_schedule` TEXT NULL DEFAULT NULL,
  `tenancy_insurance_payment_method` TINYINT NULL DEFAULT NULL,
  `tenancy_insurance_vat_rate` TINYINT NULL DEFAULT NULL,
  `tenancy_notes` TEXT NULL DEFAULT NULL,
  `tenancy_agent_branch` INT NULL DEFAULT NULL,
  `tenancy_agent_employee` INT NULL DEFAULT NULL,
  `tenancy_letting_service` TINYINT NULL DEFAULT NULL,
  `tenancy_tenant_find_fee` DECIMAL(10,2) NULL DEFAULT NULL,
  `tenancy_tenant_find_fee_type` TINYINT NULL DEFAULT NULL,
  `tenancy_management_fee` DECIMAL(10,2) NULL DEFAULT NULL,
  `tenancy_management_fee_type` TINYINT NULL DEFAULT NULL,
  `tenancy_gas` TINYINT NULL DEFAULT NULL,
  `tenancy_electricity` TINYINT NULL DEFAULT NULL,
  `tenancy_water` TINYINT NULL DEFAULT NULL,
  `tenancy_oil` TINYINT NULL DEFAULT NULL,
  `tenancy_telephone` TINYINT NULL DEFAULT NULL,
  `tenancy_broadband` TINYINT NULL DEFAULT NULL,
  `tenancy_tv_licence` TINYINT NULL DEFAULT NULL,
  `tenancy_sat_cable_tv` TINYINT NULL DEFAULT NULL,
  `tenancy_council_tax` TINYINT NULL DEFAULT NULL,
  `tenancy_deposit_required` TINYINT NULL DEFAULT NULL,
  `tenancy_deposit_amount` DECIMAL(8,2) NULL DEFAULT NULL,
  `tenancy_status` TINYINT NULL DEFAULT NULL,
  `tenancy_renewal_status` TINYINT NULL DEFAULT '4',
  `tenancy_renewal_notes` TEXT NULL DEFAULT NULL,
  `tenancy_renewal_employee` INT NULL DEFAULT NULL,
  `tenancy_is_renewal_id` INT NULL DEFAULT NULL,
  `tenancy_is_renewal` TINYINT NULL DEFAULT '2',
  `tenancy_tnts_vacation_date` DATE NULL DEFAULT NULL,
  `tenancy_official_end_date` DATE NULL DEFAULT NULL,
  `tenancy_move_out_reason` TINYINT NULL DEFAULT NULL,
  `tenancy_move_out_notes` TEXT NULL DEFAULT NULL,
  `tenancy_tenant_find_with_management_fee` DECIMAL(7,2) NULL DEFAULT NULL,
  `tenancy_tenant_find_with_management_fee_type` TINYINT NULL DEFAULT NULL,
  `tenancy_overdue_tc_reminders` TINYINT NOT NULL DEFAULT '1',
  `tenancy_student` TINYINT NULL DEFAULT NULL,
  `tenancy_inspection_frequency` TINYINT NULL DEFAULT NULL,
  `tenancy_last_inspection_date` DATE NULL DEFAULT NULL,
  `tenancy_last_inspection_date_backup` DATE NULL DEFAULT NULL,
  `tenancy_move_out_employee` INT NULL DEFAULT NULL,
  `tenancy_inventory_ingoing_link` TEXT NULL DEFAULT NULL,
  `tenancy_inventory_outgoing_link` TEXT NULL DEFAULT NULL,
  `tenancy_notice_expiry_date` DATE NULL DEFAULT NULL,
  `tenancy_accounts_next_review_date` DATE NULL DEFAULT NULL,
  `tenancy_viewings_permitted` TINYINT NULL DEFAULT NULL,
  `tenancy_date_created` DATETIME NULL DEFAULT NULL,
  `tenancy_date_updated` DATETIME NULL DEFAULT NULL,
  `tenancy_created_by` INT NULL DEFAULT NULL,
  `tenancy_updated_by` INT NULL DEFAULT NULL,
  `tenancy_management_takeover` TINYINT NULL DEFAULT NULL,
  `tenancy_management_takeover_date` DATE NULL DEFAULT NULL,
  `tenancy_management_takeover_notes` TEXT NULL DEFAULT NULL,
  `tenancy_periodic_rent_increase_negotiator` INT NULL DEFAULT NULL,
  `tenancy_rlei_opt_out_date` DATE NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_id`),
  UNIQUE INDEX `tenancy_token` (`tenancy_token` ASC) VISIBLE,
  INDEX `tenancy_id` (`tenancy_id` ASC) VISIBLE,
  INDEX `tenancy_property` (`tenancy_property` ASC) VISIBLE,
  INDEX `tenancy_status` (`tenancy_status` ASC) VISIBLE,
  INDEX `tenancy_letting_service` (`tenancy_letting_service` ASC) VISIBLE,
  INDEX `tenancy_type` (`tenancy_type` ASC, `tenancy_renewal_status` ASC) VISIBLE,
  INDEX `tenancy_inspection_frequency` (`tenancy_inspection_frequency` ASC) VISIBLE,
  INDEX `tenancy_accounts_next_review_date` (`tenancy_accounts_next_review_date` ASC) VISIBLE,
  INDEX `fk_tenancy_tenancy_rent_vat_rate` (`tenancy_rent_vat_rate` ASC) VISIBLE,
  INDEX `fk_tenancy_tenancy_service_charge_vat_rate` (`tenancy_service_charge_vat_rate` ASC) VISIBLE,
  INDEX `fk_tenancy_tenancy_insurance_vat_rate` (`tenancy_insurance_vat_rate` ASC) VISIBLE,
  INDEX `fk_tenancy_tenancy_agent_branch` (`tenancy_agent_branch` ASC) VISIBLE,
  INDEX `fk_tenancy_tenancy_agent_employee` (`tenancy_agent_employee` ASC, `tenancy_periodic_rent_increase_negotiator` ASC) VISIBLE,
  INDEX `fk_tenancy_tenancy_renewal_employee` (`tenancy_renewal_employee` ASC) VISIBLE,
  INDEX `fk_tenancy_tenancy_move_out_employee` (`tenancy_move_out_employee` ASC) VISIBLE,
  INDEX `fk_tenancy_tenancy_created_by` (`tenancy_created_by` ASC) VISIBLE,
  INDEX `fk_tenancy_tenancy_updated_by` (`tenancy_updated_by` ASC) VISIBLE,
  INDEX `fk_tenancy_tenancy_property_part_room_idx` (`tenancy_property_part_room` ASC) VISIBLE,
  INDEX `fk_tenancy_tenancy_fixed_term_unit_idx` (`tenancy_fixed_term_unit` ASC) VISIBLE,
  INDEX `fk_tenancy_tenancy_rent_frequency_idx` (`tenancy_rent_frequency` ASC, `tenancy_rent_payable` ASC, `tenancy_service_charge_frequency` ASC, `tenancy_insurance_frequency` ASC, `tenancy_service_charge_payable` ASC, `tenancy_insurance_payable` ASC) VISIBLE,
  INDEX `fk_tenancy_tenancy_rent_agreement_idx` (`tenancy_rent_agreement` ASC, `tenancy_service_charge_agreement` ASC, `tenancy_insurance_agreement` ASC) VISIBLE,
  INDEX `fk_tenancy_tenancy_rent_payment_method_idx` (`tenancy_rent_payment_method` ASC, `tenancy_service_charge_payment_method` ASC, `tenancy_insurance_payment_method` ASC) VISIBLE,
  INDEX `fk_tenancy_fee_type_idx` (`tenancy_tenant_find_fee_type` ASC, `tenancy_management_fee_type` ASC, `tenancy_tenant_find_with_management_fee_type` ASC) VISIBLE,
  INDEX `fk_tenancy_tenancy_renewal_status_idx` (`tenancy_renewal_status` ASC) VISIBLE,
  INDEX `fk_tenancy_tenancy_move_out_reason_idx` (`tenancy_move_out_reason` ASC) VISIBLE,
  INDEX `fk_tenancy_tenancy_property_part_idx` (`tenancy_property_part` ASC) VISIBLE,
  CONSTRAINT `fk_tenancy_tenancy_agent_branch`
    FOREIGN KEY (`tenancy_agent_branch`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_agent_employee`
    FOREIGN KEY (`tenancy_agent_employee`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_tenancy_rent_increase_negotiator`
    FOREIGN KEY (`tenancy_periodic_rent_increase_negotiator`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenancy_created_by`
    FOREIGN KEY (`tenancy_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenancy_insurance_vat_rate`
    FOREIGN KEY (`tenancy_insurance_vat_rate`)
    REFERENCES `atlas`.`accounts_vat_rate` (`vat_rate_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenancy_move_out_employee`
    FOREIGN KEY (`tenancy_move_out_employee`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenancy_property`
    FOREIGN KEY (`tenancy_property`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenancy_renewal_employee`
    FOREIGN KEY (`tenancy_renewal_employee`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenancy_rent_vat_rate`
    FOREIGN KEY (`tenancy_rent_vat_rate`)
    REFERENCES `atlas`.`accounts_vat_rate` (`vat_rate_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenancy_service_charge_vat_rate`
    FOREIGN KEY (`tenancy_service_charge_vat_rate`)
    REFERENCES `atlas`.`accounts_vat_rate` (`vat_rate_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenancy_updated_by`
    FOREIGN KEY (`tenancy_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenancy_type`
    FOREIGN KEY (`tenancy_type`)
    REFERENCES `atlas`.`property_category` (`property_category_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenancy_property_part_room`
    FOREIGN KEY (`tenancy_property_part_room`)
    REFERENCES `atlas`.`property_room_letting` (`property_room_letting_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenancy_fixed_term_unit`
    FOREIGN KEY (`tenancy_fixed_term_unit`)
    REFERENCES `atlas`.`tenancy_fixed_term_unit` (`tenancy_fixed_term_unit_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
CONSTRAINT `fk_tenancy_rent_frequency`
    FOREIGN KEY (`tenancy_rent_frequency`)
    REFERENCES `atlas`.`tenancy_rent_frequency` (`tenancy_rent_frequency_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_tenancy_rent_payable`
    FOREIGN KEY (`tenancy_rent_payable`)
    REFERENCES `atlas`.`tenancy_rent_frequency` (`tenancy_rent_frequency_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_tenancy_service_charge_frequency`
    FOREIGN KEY (`tenancy_service_charge_frequency`)
    REFERENCES `atlas`.`tenancy_rent_frequency` (`tenancy_rent_frequency_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_tenancy_insurance_frequency`
    FOREIGN KEY (`tenancy_insurance_frequency`)
    REFERENCES `atlas`.`tenancy_rent_frequency` (`tenancy_rent_frequency_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_tenancy_service_charge_payable`
    FOREIGN KEY (`tenancy_service_charge_payable`)
    REFERENCES `atlas`.`tenancy_rent_frequency` (`tenancy_rent_frequency_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_tenancy_insurance_payable`
    FOREIGN KEY (`tenancy_insurance_payable`)
    REFERENCES `atlas`.`tenancy_rent_frequency` (`tenancy_rent_frequency_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_rent_agreement`
    FOREIGN KEY (`tenancy_rent_agreement`)
    REFERENCES `atlas`.`tenancy_rent_agreement` (`tenancy_rent_agreement_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_tenancy_service_charge_agreement`
    FOREIGN KEY (`tenancy_service_charge_agreement`)
    REFERENCES `atlas`.`tenancy_rent_agreement` (`tenancy_rent_agreement_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_tenancy_insurance_agreement`
    FOREIGN KEY (`tenancy_insurance_agreement`)
    REFERENCES `atlas`.`tenancy_rent_agreement` (`tenancy_rent_agreement_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_rent_payment_method`
    FOREIGN KEY (`tenancy_rent_payment_method`)
    REFERENCES `atlas`.`tenancy_payment_method` (`tenancy_payment_method_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_tenancy_service_charge_payment_method`
    FOREIGN KEY (`tenancy_service_charge_payment_method`)
    REFERENCES `atlas`.`tenancy_payment_method` (`tenancy_payment_method_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_tenancy_insurance_payment_method`
    FOREIGN KEY (`tenancy_insurance_payment_method`)
    REFERENCES `atlas`.`tenancy_payment_method` (`tenancy_payment_method_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenancy_letting_service`
    FOREIGN KEY (`tenancy_letting_service`)
    REFERENCES `atlas`.`letting_service` (`letting_service_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenant_find_fee_type`
    FOREIGN KEY (`tenancy_tenant_find_fee_type`)
    REFERENCES `atlas`.`fee_type` (`fee_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_tenancy_management_fee_type`
    FOREIGN KEY (`tenancy_management_fee_type`)
    REFERENCES `atlas`.`fee_type` (`fee_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_tenancy_tenant_find_with_management_fee_type`
    FOREIGN KEY (`tenancy_tenant_find_with_management_fee_type`)
    REFERENCES `atlas`.`fee_type` (`fee_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenancy_status`
    FOREIGN KEY (`tenancy_status`)
    REFERENCES `atlas`.`tenancy_status` (`tenancy_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenancy_renewal_status`
    FOREIGN KEY (`tenancy_renewal_status`)
    REFERENCES `atlas`.`tenancy_renewal_status` (`tenancy_renewal_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenancy_is_renewal_id`
    FOREIGN KEY (`tenancy_id`)
    REFERENCES `atlas`.`tenancy` (`tenancy_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenancy_move_out_reason`
    FOREIGN KEY (`tenancy_move_out_reason`)
    REFERENCES `atlas`.`tenancy_move_out_reason` (`tenancy_move_out_reason_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenancy_inspection_frequency`
    FOREIGN KEY (`tenancy_inspection_frequency`)
    REFERENCES `atlas`.`tenancy_inspection_frequency` (`tenancy_inspection_frequency_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenancy_property_part`
    FOREIGN KEY (`tenancy_property_part`)
    REFERENCES `atlas`.`tenancy_property_part` (`tenancy_property_part_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_invoice`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_invoice` (
  `invoice_id` INT NOT NULL AUTO_INCREMENT,
  `invoice_token` VARCHAR(40) NULL DEFAULT NULL,
  `invoice_customer_type` INT NULL DEFAULT NULL,
  `invoice_customer` INT NULL DEFAULT NULL,
  `invoice_date` DATE NULL DEFAULT NULL,
  `invoice_due_date` DATE NULL DEFAULT NULL,
  `invoice_property_id` INT NULL DEFAULT NULL,
  `invoice_development_id` INT NULL DEFAULT NULL,
  `invoice_tenancy_id` INT NULL DEFAULT NULL,
  `invoice_branch` INT NULL DEFAULT NULL,
  `invoice_payment_terms` TINYINT NULL DEFAULT NULL,
  `invoice_notes` TEXT NULL DEFAULT NULL,
  `invoice_total_amount_exc_vat` DECIMAL(10,2) NULL DEFAULT NULL,
  `invoice_total_vat_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `invoice_total_amount_paid` DECIMAL(10,2) NULL DEFAULT '0.00',
  `invoice_posted` TINYINT NULL DEFAULT '0',
  `invoice_overdue_reminders` TINYINT NOT NULL DEFAULT '1',
  `invoice_date_created` DATETIME NULL DEFAULT NULL,
  `invoice_date_updated` DATETIME NULL DEFAULT NULL,
  `invoice_date_posted` DATETIME NULL DEFAULT NULL,
  `invoice_created_by` INT NULL DEFAULT NULL,
  `invoice_updated_by` INT NULL DEFAULT NULL,
  `invoice_posted_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`invoice_id`),
  INDEX `invoice_id` (`invoice_id` ASC) VISIBLE,
  INDEX `invoice_posted` (`invoice_posted` ASC) VISIBLE,
  INDEX `invoice_overdue_reminders` (`invoice_overdue_reminders` ASC) VISIBLE,
  INDEX `invoice_due_date` (`invoice_due_date` ASC) VISIBLE,
  INDEX `invoice_customer_type` (`invoice_customer_type` ASC) VISIBLE,
  INDEX `invoice_customer` (`invoice_customer` ASC) VISIBLE,
  INDEX `invoice_token` (`invoice_token` ASC) VISIBLE,
  INDEX `invoice_date` (`invoice_date` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_invoice_property_id` (`invoice_property_id` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_invoice_development_id` (`invoice_development_id` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_invoice_tenancy_id` (`invoice_tenancy_id` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_invoice_branch` (`invoice_branch` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_invoice_created_by` (`invoice_created_by` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_invoice_updated_by` (`invoice_updated_by` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_invoice_posted_by` (`invoice_posted_by` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_invoice_payment_terms_idx` (`invoice_payment_terms` ASC) VISIBLE,
  CONSTRAINT `fk_accounts_invoice_invoice_branch`
    FOREIGN KEY (`invoice_branch`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_invoice_created_by`
    FOREIGN KEY (`invoice_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_invoice_customer_type`
    FOREIGN KEY (`invoice_customer_type`)
    REFERENCES `atlas`.`customer_type` (`customer_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_invoice_development_id`
    FOREIGN KEY (`invoice_development_id`)
    REFERENCES `atlas`.`development` (`development_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_invoice_payment_terms`
    FOREIGN KEY (`invoice_payment_terms`)
    REFERENCES `atlas`.`accounts_payment_term` (`accounts_payment_term_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_invoice_posted_by`
    FOREIGN KEY (`invoice_posted_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_invoice_property_id`
    FOREIGN KEY (`invoice_property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_invoice_tenancy_id`
    FOREIGN KEY (`invoice_tenancy_id`)
    REFERENCES `atlas`.`tenancy` (`tenancy_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_invoice_updated_by`
    FOREIGN KEY (`invoice_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_payment_method`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_payment_method` (
  `payment_method_id` TINYINT NOT NULL AUTO_INCREMENT,
  `payment_method_name` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`payment_method_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_landlord_payment`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_landlord_payment` (
  `landlord_payment_id` INT NOT NULL AUTO_INCREMENT,
  `landlord_payment_date` DATE NULL DEFAULT NULL,
  `landlord_payment_tenancy_id` INT NULL DEFAULT NULL,
  `landlord_payment_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `landlord_payment_method` TINYINT NULL DEFAULT NULL,
  `landlord_payment_notes` TEXT NULL DEFAULT NULL,
  `landlord_payment_date_created` DATETIME NULL DEFAULT NULL,
  `landlord_payment_date_updated` DATETIME NULL DEFAULT NULL,
  `landlord_payment_created_by` INT NULL DEFAULT NULL,
  `landlord_payment_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`landlord_payment_id`),
  INDEX `fk_accounts_landlord_payment_landlord_payment_tenancy_i` (`landlord_payment_tenancy_id` ASC) VISIBLE,
  INDEX `fk_accounts_landlord_payment_landlord_payment_created_b` (`landlord_payment_created_by` ASC) VISIBLE,
  INDEX `fk_accounts_landlord_payment_landlord_payment_updated_b` (`landlord_payment_updated_by` ASC) VISIBLE,
  INDEX `fk_accounts_landlord_payment_landlord_payment_method_idx` (`landlord_payment_method` ASC) VISIBLE,
  CONSTRAINT `fk_accounts_landlord_payment_landlord_payment_created_b`
    FOREIGN KEY (`landlord_payment_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_landlord_payment_landlord_payment_method`
    FOREIGN KEY (`landlord_payment_method`)
    REFERENCES `atlas`.`accounts_payment_method` (`payment_method_id`),
  CONSTRAINT `fk_accounts_landlord_payment_landlord_payment_tenancy_i`
    FOREIGN KEY (`landlord_payment_tenancy_id`)
    REFERENCES `atlas`.`tenancy` (`tenancy_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_landlord_payment_landlord_payment_updated_b`
    FOREIGN KEY (`landlord_payment_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_bacs_file`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_bacs_file` (
  `bacs_file_id` INT NOT NULL AUTO_INCREMENT,
  `bacs_file_destination_sort_code` VARCHAR(6) NULL DEFAULT NULL,
  `bacs_file_destination_account_number` VARCHAR(8) NULL DEFAULT NULL,
  `bacs_file_destination_account_type` VARCHAR(1) NOT NULL DEFAULT ' ',
  `bacs_file_bacs_code` VARCHAR(2) NOT NULL DEFAULT '99',
  `bacs_file_debit_sort_code` VARCHAR(6) NULL DEFAULT NULL,
  `bacs_file_debit_account_number` VARCHAR(8) NULL DEFAULT NULL,
  `bacs_file_free_format_text` VARCHAR(4) NOT NULL DEFAULT '    ',
  `bacs_file_amount_pence` VARCHAR(11) NULL DEFAULT NULL,
  `bacs_file_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `bacs_file_originator_name` VARCHAR(18) NOT NULL,
  `bacs_file_reference` VARCHAR(18) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `bacs_file_invoice_payment_reference` INT NULL DEFAULT NULL,
  `bacs_file_landlord_payment_reference` INT NULL DEFAULT NULL,
  `bacs_file_destination_account_name` VARCHAR(18) NULL DEFAULT NULL,
  `bacs_file_processing_date` VARCHAR(6) NULL DEFAULT '      ',
  `bacs_file_directory_id` INT NULL DEFAULT NULL,
  `bacs_file_payment_date` DATE NULL DEFAULT NULL,
  `bacs_file_disbursement_DEL` TINYINT NULL DEFAULT NULL,
  `bacs_file_nominal_code` SMALLINT NULL DEFAULT NULL,
  `bacs_file_vat_rate` TINYINT NULL DEFAULT NULL,
  `bacs_file_vat_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `bacs_file_exported` TINYINT(1) NOT NULL DEFAULT '2',
  `bacs_file_date_created` DATETIME NULL DEFAULT NULL,
  `bacs_file_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`bacs_file_id`),
  INDEX `fk_accounts_bacs_file_bacs_file_directory_id` (`bacs_file_directory_id` ASC) VISIBLE,
  INDEX `fk_accounts_bacs_file_bacs_file_nominal_code` (`bacs_file_nominal_code` ASC) VISIBLE,
  INDEX `fk_accounts_bacs_file_bacs_file_vat_rate` (`bacs_file_vat_rate` ASC) VISIBLE,
  INDEX `fk_accounts_bacs_file_bacs_file_created_by` (`bacs_file_created_by` ASC) VISIBLE,
  INDEX `fk_accounts_bacs_file_bacs_file_invoice_payment_reference_idx` (`bacs_file_invoice_payment_reference` ASC) VISIBLE,
  INDEX `fk_accounts_bacs_file_bacs_file_landlord_payment_reference_idx` (`bacs_file_landlord_payment_reference` ASC) VISIBLE,
  CONSTRAINT `fk_accounts_bacs_file_bacs_file_created_by`
    FOREIGN KEY (`bacs_file_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_bacs_file_bacs_file_directory_id`
    FOREIGN KEY (`bacs_file_directory_id`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_bacs_file_bacs_file_invoice_payment_reference`
    FOREIGN KEY (`bacs_file_invoice_payment_reference`)
    REFERENCES `atlas`.`accounts_invoice` (`invoice_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_bacs_file_bacs_file_landlord_payment_reference`
    FOREIGN KEY (`bacs_file_landlord_payment_reference`)
    REFERENCES `atlas`.`accounts_landlord_payment` (`landlord_payment_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_bacs_file_bacs_file_nominal_code`
    FOREIGN KEY (`bacs_file_nominal_code`)
    REFERENCES `atlas`.`accounts_nominal_code` (`nominal_code_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_bacs_file_bacs_file_vat_rate`
    FOREIGN KEY (`bacs_file_vat_rate`)
    REFERENCES `atlas`.`accounts_vat_rate` (`vat_rate_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_deposit_action`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_deposit_action` (
  `deposit_action_id` INT NOT NULL AUTO_INCREMENT,
  `deposit_action_name` VARCHAR(150) NULL DEFAULT NULL,
  `deposit_action_sort` TINYINT NULL DEFAULT NULL,
  `deposit_action_archived` TINYINT(1) NOT NULL DEFAULT '2',
  PRIMARY KEY (`deposit_action_id`),
  INDEX `deposit_action_archived` (`deposit_action_archived` ASC) VISIBLE,
  INDEX `deposit_action_id` (`deposit_action_id` ASC, `deposit_action_sort` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_invoice_credit`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_invoice_credit` (
  `invoice_credit_id` INT NOT NULL AUTO_INCREMENT,
  `invoice_credit_token` VARCHAR(40) NULL DEFAULT NULL,
  `invoice_credit_customer_type` INT NULL DEFAULT NULL,
  `invoice_credit_customer` INT NULL DEFAULT NULL,
  `invoice_credit_date` DATE NULL DEFAULT NULL,
  `invoice_credit_property_id` INT NULL DEFAULT NULL,
  `invoice_credit_development_id` INT NULL DEFAULT NULL,
  `invoice_credit_tenancy_id` INT NULL DEFAULT NULL,
  `invoice_credit_branch` INT NULL DEFAULT NULL,
  `invoice_credit_notes` TEXT NULL DEFAULT NULL,
  `invoice_credit_total_amount_exc_vat` DECIMAL(10,2) NULL DEFAULT NULL,
  `invoice_credit_total_vat_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `invoice_credit_posted` TINYINT NULL DEFAULT '0',
  `invoice_credit_invoice_id` INT NULL DEFAULT NULL,
  `invoice_credit_date_created` DATETIME NULL DEFAULT NULL,
  `invoice_credit_date_updated` DATETIME NULL DEFAULT NULL,
  `invoice_credit_date_posted` DATETIME NULL DEFAULT NULL,
  `invoice_credit_created_by` INT NULL DEFAULT NULL,
  `invoice_credit_updated_by` INT NULL DEFAULT NULL,
  `invoice_credit_posted_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`invoice_credit_id`),
  INDEX `invoice_credit_id` (`invoice_credit_id` ASC) VISIBLE,
  INDEX `invoice_credit_customer_type` (`invoice_credit_customer_type` ASC) INVISIBLE,
  INDEX `invoice_credit_customer` (`invoice_credit_customer` ASC) VISIBLE,
  INDEX `invoice_credit_date` (`invoice_credit_date` ASC) VISIBLE,
  INDEX `invoice_credit_property_id` (`invoice_credit_property_id` ASC) VISIBLE,
  INDEX `invoice_credit_tenancy_id` (`invoice_credit_tenancy_id` ASC) VISIBLE,
  INDEX `invoice_credit_branch` (`invoice_credit_branch` ASC) VISIBLE,
  INDEX `invoice_credit_posted` (`invoice_credit_posted` ASC) VISIBLE,
  INDEX `invoice_credit_invoice_id` (`invoice_credit_invoice_id` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_credit_invoice_credit_development_i` (`invoice_credit_development_id` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_credit_invoice_credit_created_by` (`invoice_credit_created_by` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_credit_invoice_credit_updated_by` (`invoice_credit_updated_by` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_credit_invoice_credit_posted_by` (`invoice_credit_posted_by` ASC) VISIBLE,
  CONSTRAINT `fk_accounts_invoice_credit_invoice_credit_branch`
    FOREIGN KEY (`invoice_credit_branch`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_credit_invoice_credit_created_by`
    FOREIGN KEY (`invoice_credit_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_credit_invoice_credit_customer_type`
    FOREIGN KEY (`invoice_credit_customer_type`)
    REFERENCES `atlas`.`customer_type` (`customer_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_credit_invoice_credit_development_i`
    FOREIGN KEY (`invoice_credit_development_id`)
    REFERENCES `atlas`.`development` (`development_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_credit_invoice_credit_invoice_id`
    FOREIGN KEY (`invoice_credit_invoice_id`)
    REFERENCES `atlas`.`accounts_invoice` (`invoice_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_credit_invoice_credit_posted_by`
    FOREIGN KEY (`invoice_credit_posted_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_credit_invoice_credit_property_id`
    FOREIGN KEY (`invoice_credit_property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_credit_invoice_credit_tenancy_id`
    FOREIGN KEY (`invoice_credit_tenancy_id`)
    REFERENCES `atlas`.`tenancy` (`tenancy_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_credit_invoice_credit_updated_by`
    FOREIGN KEY (`invoice_credit_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_credit_invoice_id`
    FOREIGN KEY (`invoice_credit_invoice_id`)
    REFERENCES `atlas`.`accounts_invoice` (`invoice_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_invoice_credit_line`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_invoice_credit_line` (
  `invoice_credit_line_id` INT NOT NULL AUTO_INCREMENT,
  `invoice_credit_id` INT NULL DEFAULT NULL,
  `invoice_credit_line_description` TEXT NULL DEFAULT NULL,
  `invoice_credit_line_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `invoice_credit_line_vat_rate` TINYINT NULL DEFAULT NULL,
  `invoice_credit_line_vat_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `invoice_credit_line_nominal_code` SMALLINT NULL DEFAULT NULL,
  PRIMARY KEY (`invoice_credit_line_id`),
  INDEX `fk_accounts_invoice_credit_line_invoice_credit_id` (`invoice_credit_id` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_credit_line_invoice_credit_line_vat` (`invoice_credit_line_vat_rate` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_credit_line_invoice_credit_line_nom` (`invoice_credit_line_nominal_code` ASC) VISIBLE,
  CONSTRAINT `fk_accounts_invoice_credit_line_invoice_credit_id`
    FOREIGN KEY (`invoice_credit_id`)
    REFERENCES `atlas`.`accounts_invoice_credit` (`invoice_credit_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_credit_line_invoice_credit_line_nom`
    FOREIGN KEY (`invoice_credit_line_nominal_code`)
    REFERENCES `atlas`.`accounts_nominal_code` (`nominal_code_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_credit_line_invoice_credit_line_vat`
    FOREIGN KEY (`invoice_credit_line_vat_rate`)
    REFERENCES `atlas`.`accounts_vat_rate` (`vat_rate_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`works_category`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`works_category` (
  `works_category_id` TINYINT NOT NULL AUTO_INCREMENT,
  `works_category_name` VARCHAR(50) NULL DEFAULT NULL,
  `works_category_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`works_category_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`works_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`works_status` (
  `works_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `works_status_name` VARCHAR(40) NULL DEFAULT NULL,
  `works_status_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`works_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`works_room`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`works_room` (
  `works_room_id` TINYINT NOT NULL AUTO_INCREMENT,
  `works_room_name` VARCHAR(50) NULL DEFAULT NULL,
  `works_room_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`works_room_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`works`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`works` (
  `works_id` INT NOT NULL AUTO_INCREMENT,
  `works_property` INT NULL DEFAULT NULL,
  `works_development` INT NULL DEFAULT NULL,
  `works_category` TINYINT NULL DEFAULT NULL,
  `works_contractor` INT NULL DEFAULT NULL,
  `works_description` TEXT NULL DEFAULT NULL,
  `works_outcome` TEXT NULL DEFAULT NULL,
  `works_notes` TEXT NULL DEFAULT NULL,
  `works_private_notes` TEXT NULL DEFAULT NULL,
  `works_cancellation_reason` TEXT NULL DEFAULT NULL,
  `works_contractor_quote` TEXT NULL DEFAULT NULL,
  `works_contractor_cost` DECIMAL(10,2) NULL DEFAULT NULL,
  `works_agency_invoice_id` VARCHAR(50) NULL DEFAULT NULL,
  `works_status` TINYINT NULL DEFAULT NULL,
  `works_room` TINYINT NULL DEFAULT NULL,
  `works_reminders` TINYINT NOT NULL DEFAULT '1',
  `works_date_created` DATETIME NULL DEFAULT NULL,
  `works_date_updated` DATETIME NULL DEFAULT NULL,
  `works_date_last_instructed` DATETIME NULL DEFAULT NULL,
  `works_date_last_awaiting_landlord_approval` DATETIME NULL DEFAULT NULL,
  `works_date_last_awaiting_landlord_payment` DATETIME NULL DEFAULT NULL,
  `works_date_last_pending` DATETIME NULL DEFAULT NULL,
  `works_created_by` INT NULL DEFAULT NULL,
  `works_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`works_id`),
  INDEX `fk_works_works_property` (`works_property` ASC) VISIBLE,
  INDEX `fk_works_works_development` (`works_development` ASC) VISIBLE,
  INDEX `fk_works_works_created_by` (`works_created_by` ASC) VISIBLE,
  INDEX `fk_works_works_updated_by` (`works_updated_by` ASC) VISIBLE,
  INDEX `fk_works_works_category_idx` (`works_category` ASC) VISIBLE,
  INDEX `fk_works_works_contractor_idx` (`works_contractor` ASC) VISIBLE,
  INDEX `fk_works_works_status_idx` (`works_status` ASC) VISIBLE,
  INDEX `fk_works_works_room_idx` (`works_room` ASC) VISIBLE,
  CONSTRAINT `fk_works_works_created_by`
    FOREIGN KEY (`works_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_works_works_development`
    FOREIGN KEY (`works_development`)
    REFERENCES `atlas`.`development` (`development_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_works_works_property`
    FOREIGN KEY (`works_property`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_works_works_updated_by`
    FOREIGN KEY (`works_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_works_works_category`
    FOREIGN KEY (`works_category`)
    REFERENCES `atlas`.`works_category` (`works_category_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_works_works_contractor`
    FOREIGN KEY (`works_contractor`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_works_works_status`
    FOREIGN KEY (`works_status`)
    REFERENCES `atlas`.`works_status` (`works_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_works_works_room`
    FOREIGN KEY (`works_room`)
    REFERENCES `atlas`.`works_room` (`works_room_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_invoice_line`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_invoice_line` (
  `invoice_line_id` INT NOT NULL AUTO_INCREMENT,
  `invoice_id` INT NULL DEFAULT NULL,
  `invoice_line_description` TEXT CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `invoice_line_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `invoice_line_vat_rate` TINYINT NULL DEFAULT NULL,
  `invoice_line_vat_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `invoice_line_nominal_code` SMALLINT NULL DEFAULT NULL,
  `invoice_line_works_id` INT NULL DEFAULT NULL,
  PRIMARY KEY (`invoice_line_id`),
  INDEX `invoice_id` (`invoice_id` ASC, `invoice_line_vat_rate` ASC, `invoice_line_nominal_code` ASC, `invoice_line_works_id` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_line_invoice_line_vat_rate` (`invoice_line_vat_rate` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_line_invoice_line_nominal_code` (`invoice_line_nominal_code` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_line_invoice_line_works_id` (`invoice_line_works_id` ASC) VISIBLE,
  CONSTRAINT `fk_accounts_invoice_line_invoice_id`
    FOREIGN KEY (`invoice_id`)
    REFERENCES `atlas`.`accounts_invoice` (`invoice_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_line_invoice_line_nominal_code`
    FOREIGN KEY (`invoice_line_nominal_code`)
    REFERENCES `atlas`.`accounts_nominal_code` (`nominal_code_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_line_invoice_line_vat_rate`
    FOREIGN KEY (`invoice_line_vat_rate`)
    REFERENCES `atlas`.`accounts_vat_rate` (`vat_rate_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_line_invoice_line_works_id`
    FOREIGN KEY (`invoice_line_works_id`)
    REFERENCES `atlas`.`works` (`works_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_invoice_line_description_category`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_invoice_line_description_category` (
  `invoice_line_description_category_id` TINYINT NOT NULL AUTO_INCREMENT,
  `invoice_line_description_category_name` VARCHAR(30) NULL DEFAULT NULL,
  `invoice_line_description_category_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`invoice_line_description_category_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_invoice_line_description`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_invoice_line_description` (
  `invoice_line_description_id` TINYINT NOT NULL AUTO_INCREMENT,
  `invoice_line_description_name` VARCHAR(255) NULL DEFAULT NULL,
  `invoice_line_description_sort` TINYINT NULL DEFAULT NULL,
  `invoice_line_nominal_code` SMALLINT NULL DEFAULT NULL,
  `invoice_line_description_category` TINYINT NULL DEFAULT NULL,
  `invoice_line_description_amount` DECIMAL(10,2) NOT NULL DEFAULT '0.00',
  PRIMARY KEY (`invoice_line_description_id`),
  INDEX `fk_accounts_invoice_line_description_invoice_line_nomin` (`invoice_line_nominal_code` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_line_description_invoice_line_descripti_idx` (`invoice_line_description_category` ASC) VISIBLE,
  CONSTRAINT `fk_acc_inv_lin_des_inv_lin_des_cat`
    FOREIGN KEY (`invoice_line_description_category`)
    REFERENCES `atlas`.`accounts_invoice_line_description_category` (`invoice_line_description_category_id`),
  CONSTRAINT `fk_accounts_invoice_line_description_invoice_line_nomin`
    FOREIGN KEY (`invoice_line_nominal_code`)
    REFERENCES `atlas`.`accounts_nominal_code` (`nominal_code_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_invoice_payment_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_invoice_payment_type` (
  `accounts_invoice_payment_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `accounts_invoice_payment_type_name` VARCHAR(15) NULL DEFAULT NULL,
  PRIMARY KEY (`accounts_invoice_payment_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_invoice_payment`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_invoice_payment` (
  `invoice_payment_id` INT NOT NULL AUTO_INCREMENT,
  `invoice_payment_date` DATE NULL DEFAULT NULL,
  `invoice_payment_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `invoice_payment_method` TINYINT NULL DEFAULT NULL,
  `invoice_payment_invoice_id` INT NULL DEFAULT NULL,
  `invoice_payment_notes` TEXT NULL DEFAULT NULL,
  `invoice_payment_type` TINYINT NULL DEFAULT NULL,
  `invoice_payment_type_id` INT NULL DEFAULT NULL,
  `invoice_payment_use_balance` TINYINT NULL DEFAULT NULL,
  `invoice_payment_tenancy_id` INT NULL DEFAULT NULL,
  `invoice_payment_date_created` DATETIME NULL DEFAULT NULL,
  `invoice_payment_date_updated` DATETIME NULL DEFAULT NULL,
  `invoice_payment_created_by` INT NULL DEFAULT NULL,
  `invoice_payment_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`invoice_payment_id`),
  INDEX `invoice_payment_invoice_id` (`invoice_payment_invoice_id` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_payment_invoice_payment_tenancy_id` (`invoice_payment_tenancy_id` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_payment_invoice_payment_created_by` (`invoice_payment_created_by` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_payment_invoice_payment_updated_by` (`invoice_payment_updated_by` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_payment_invoice_payment_method_idx` (`invoice_payment_method` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_payment_invoice_payment_type_idx` (`invoice_payment_type` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_payment_invoice_payment_type_id_idx` (`invoice_payment_type_id` ASC) VISIBLE,
  CONSTRAINT `fk_accounts_invoice_payment_invoice_payment_created_by`
    FOREIGN KEY (`invoice_payment_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_payment_invoice_payment_invoice_id`
    FOREIGN KEY (`invoice_payment_invoice_id`)
    REFERENCES `atlas`.`accounts_invoice` (`invoice_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_payment_invoice_payment_method`
    FOREIGN KEY (`invoice_payment_method`)
    REFERENCES `atlas`.`accounts_payment_method` (`payment_method_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_payment_invoice_payment_tenancy_id`
    FOREIGN KEY (`invoice_payment_tenancy_id`)
    REFERENCES `atlas`.`tenancy` (`tenancy_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_payment_invoice_payment_type`
    FOREIGN KEY (`invoice_payment_type`)
    REFERENCES `atlas`.`accounts_invoice_payment_type` (`accounts_invoice_payment_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_payment_invoice_payment_type_id`
    FOREIGN KEY (`invoice_payment_type_id`)
    REFERENCES `atlas`.`accounts_invoice_credit` (`invoice_credit_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_payment_invoice_payment_updated_by`
    FOREIGN KEY (`invoice_payment_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_recurring_frequency_unit`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_recurring_frequency_unit` (
  `recurring_frequency_unit_id` TINYINT NOT NULL AUTO_INCREMENT,
  `recurring_frequency_unit_name` VARCHAR(20) NULL DEFAULT NULL,
  `recurring_frequency_unit_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`recurring_frequency_unit_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_invoice_recurring`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_invoice_recurring` (
  `invoice_recurring_id` INT NOT NULL AUTO_INCREMENT,
  `invoice_recurring_invoice_id` INT NULL DEFAULT NULL,
  `invoice_recurring_frequency` SMALLINT NULL DEFAULT NULL,
  `invoice_recurring_frequency_unit` TINYINT NULL DEFAULT NULL,
  `invoice_recurring_start_date` DATE NULL DEFAULT NULL,
  `invoice_recurring_next_processing_date` DATE NULL DEFAULT NULL,
  `invoice_recurring_suspended` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`invoice_recurring_id`),
  INDEX `fk_accounts_invoice_recurring_invoice_recurring_invoice` (`invoice_recurring_invoice_id` ASC) VISIBLE,
  INDEX `fk_accounts_invoice_recurring_invoice_recurring_frequency_u_idx` (`invoice_recurring_frequency_unit` ASC) VISIBLE,
  CONSTRAINT `fk_accounts_invoice_recurring_invoice_recurring_frequency_unit`
    FOREIGN KEY (`invoice_recurring_frequency_unit`)
    REFERENCES `atlas`.`accounts_recurring_frequency_unit` (`recurring_frequency_unit_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_invoice_recurring_invoice_recurring_invoice`
    FOREIGN KEY (`invoice_recurring_invoice_id`)
    REFERENCES `atlas`.`accounts_invoice` (`invoice_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_invoice_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_invoice_status` (
  `invoice_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `invoice_status_name` VARCHAR(55) NULL DEFAULT NULL,
  PRIMARY KEY (`invoice_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_temporary_income_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_temporary_income_type` (
  `temporary_income_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `temporary_income_type_name` VARCHAR(50) NULL DEFAULT NULL,
  `temporary_income_type_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`temporary_income_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_tenant_charge`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_tenant_charge` (
  `tenant_charge_id` INT NOT NULL AUTO_INCREMENT,
  `tenant_charge_token` VARCHAR(40) NULL DEFAULT NULL,
  `tenant_charge_date` DATE NULL DEFAULT NULL,
  `tenant_charge_payment_terms` TINYINT NULL DEFAULT NULL,
  `tenant_charge_due_date` DATE NULL DEFAULT NULL,
  `tenant_charge_tenancy_id` INT NULL DEFAULT NULL,
  `tenant_charge_notes` TEXT NULL DEFAULT NULL,
  `tenant_charge_total_amount_exc_vat` DECIMAL(10,2) NULL DEFAULT NULL,
  `tenant_charge_total_vat_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `tenant_charge_total_amount_paid` DECIMAL(10,2) NULL DEFAULT '0.00',
  `tenant_charge_branch` INT NULL DEFAULT NULL,
  `tenant_charge_date_created` DATETIME NULL DEFAULT NULL,
  `tenant_charge_date_updated` DATETIME NULL DEFAULT NULL,
  `tenant_charge_created_by` INT NULL DEFAULT NULL,
  `tenant_charge_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`tenant_charge_id`),
  UNIQUE INDEX `tenant_charge_token` (`tenant_charge_token` ASC) VISIBLE,
  INDEX `tenant_charge_id` (`tenant_charge_id` ASC) VISIBLE,
  INDEX `tenant_charge_date` (`tenant_charge_date` ASC) VISIBLE,
  INDEX `tenant_charge_due_date` (`tenant_charge_due_date` ASC) VISIBLE,
  INDEX `tenant_charge_tenancy_id` (`tenant_charge_tenancy_id` ASC) VISIBLE,
  INDEX `tenant_charge_total_amount_exc_vat` (`tenant_charge_total_amount_exc_vat` ASC) VISIBLE,
  INDEX `tenant_charge_total_vat_amount` (`tenant_charge_total_vat_amount` ASC) VISIBLE,
  INDEX `tenant_charge_date_created` (`tenant_charge_date_created` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_charge_tenant_charge_branch` (`tenant_charge_branch` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_charge_tenant_charge_created_by` (`tenant_charge_created_by` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_charge_tenant_charge_updated_by` (`tenant_charge_updated_by` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_charge_tenant_charge_payment_terms_idx` (`tenant_charge_payment_terms` ASC) VISIBLE,
  CONSTRAINT `fk_accounts_tenant_charge_tenant_charge_branch`
    FOREIGN KEY (`tenant_charge_branch`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_tenant_charge_tenant_charge_created_by`
    FOREIGN KEY (`tenant_charge_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_tenant_charge_tenant_charge_payment_terms`
    FOREIGN KEY (`tenant_charge_payment_terms`)
    REFERENCES `atlas`.`accounts_payment_term` (`accounts_payment_term_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_tenant_charge_tenant_charge_tenancy_id`
    FOREIGN KEY (`tenant_charge_tenancy_id`)
    REFERENCES `atlas`.`tenancy` (`tenancy_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_tenant_charge_tenant_charge_updated_by`
    FOREIGN KEY (`tenant_charge_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_tenant_charge_line_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_tenant_charge_line_type` (
  `tenant_charge_line_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `tenant_charge_line_type_name` VARCHAR(30) NULL DEFAULT NULL,
  PRIMARY KEY (`tenant_charge_line_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_tenant_charge_line`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_tenant_charge_line` (
  `tenant_charge_line_id` INT NOT NULL AUTO_INCREMENT,
  `tenant_charge_id` INT NULL DEFAULT NULL,
  `tenant_charge_line_type` TINYINT NULL DEFAULT NULL,
  `tenant_charge_line_description` TEXT NULL DEFAULT NULL,
  `tenant_charge_line_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `tenant_charge_line_vat_rate` TINYINT NULL DEFAULT NULL,
  `tenant_charge_line_vat_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  PRIMARY KEY (`tenant_charge_line_id`),
  INDEX `fk_accounts_tenant_charge_line_tenant_charge_line_vat_r` (`tenant_charge_line_vat_rate` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_charge_line_tenant_charge_id_idx` (`tenant_charge_id` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_charge_line_tenant_charge_line_type_idx` (`tenant_charge_line_type` ASC) VISIBLE,
  CONSTRAINT `fk_accounts_tenant_charge_line_tenant_charge_id`
    FOREIGN KEY (`tenant_charge_id`)
    REFERENCES `atlas`.`accounts_tenant_charge` (`tenant_charge_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_tenant_charge_line_tenant_charge_line_type`
    FOREIGN KEY (`tenant_charge_line_type`)
    REFERENCES `atlas`.`accounts_tenant_charge_line_type` (`tenant_charge_line_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_tenant_charge_line_tenant_charge_line_vat_r`
    FOREIGN KEY (`tenant_charge_line_vat_rate`)
    REFERENCES `atlas`.`accounts_vat_rate` (`vat_rate_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_tenant_charge_payment_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_tenant_charge_payment_type` (
  `accounts_tenant_charge_payment_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `accounts_tenant_charge_payment_type_name` VARCHAR(15) NULL DEFAULT NULL,
  PRIMARY KEY (`accounts_tenant_charge_payment_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_tenant_charge_payment`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_tenant_charge_payment` (
  `tenant_charge_payment_id` INT NOT NULL AUTO_INCREMENT,
  `tenant_charge_payment_date` DATE NULL DEFAULT NULL,
  `tenant_charge_payment_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `tenant_charge_payment_method` TINYINT NULL DEFAULT NULL,
  `tenant_charge_payment_tenant_charge_id` INT NULL DEFAULT NULL,
  `tenant_charge_payment_notes` TEXT NULL DEFAULT NULL,
  `accounts_tenant_charge_payment_type` TINYINT NULL DEFAULT NULL,
  `tenant_charge_housing_benefit` TINYINT NULL DEFAULT NULL,
  `tenant_charge_payment_date_created` DATETIME NULL DEFAULT NULL,
  `tenant_charge_payment_date_updated` DATETIME NULL DEFAULT NULL,
  `tenant_charge_payment_created_by` INT NULL DEFAULT NULL,
  `tenant_charge_payment_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`tenant_charge_payment_id`),
  INDEX `tenant_charge_payment_id` (`tenant_charge_payment_id` ASC) VISIBLE,
  INDEX `tenant_charge_payment_date` (`tenant_charge_payment_date` ASC) VISIBLE,
  INDEX `tenant_charge_payment_tenant_charge_id` (`tenant_charge_payment_tenant_charge_id` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_charge_payment_tenant_charge_payment` (`tenant_charge_payment_created_by` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_charge_payment_tenant_charge_payment_1` (`tenant_charge_payment_updated_by` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_charge_payment_accounts_tenant_charge_pa_idx` (`accounts_tenant_charge_payment_type` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_charge_payment_tenant_charge_payment_met_idx` (`tenant_charge_payment_method` ASC) VISIBLE,
  CONSTRAINT `fk_acc_ten_cha_pay_acc_ten_cha_pay_typ`
    FOREIGN KEY (`accounts_tenant_charge_payment_type`)
    REFERENCES `atlas`.`accounts_tenant_charge_payment_type` (`accounts_tenant_charge_payment_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_acc_ten_cha_pay_ten_cha_pay_ten_cha_id`
    FOREIGN KEY (`tenant_charge_payment_tenant_charge_id`)
    REFERENCES `atlas`.`accounts_tenant_charge` (`tenant_charge_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_tenant_charge_payment_tenant_charge_payment`
    FOREIGN KEY (`tenant_charge_payment_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_tenant_charge_payment_tenant_charge_payment_1`
    FOREIGN KEY (`tenant_charge_payment_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_tenant_charge_payment_tenant_charge_payment_method`
    FOREIGN KEY (`tenant_charge_payment_method`)
    REFERENCES `atlas`.`accounts_payment_method` (`payment_method_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_tenant_charge_recurring`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_tenant_charge_recurring` (
  `tenant_charge_recurring_id` INT NOT NULL AUTO_INCREMENT,
  `tenant_charge_recurring_tenant_charge_id` INT NULL DEFAULT NULL,
  `tenant_charge_recurring_tenancy_id` INT NULL DEFAULT NULL,
  `tenant_charge_recurring_frequency` SMALLINT NULL DEFAULT NULL,
  `tenant_charge_recurring_frequency_unit` TINYINT NULL DEFAULT NULL,
  `tenant_charge_recurring_start_date` DATE NULL DEFAULT NULL,
  `tenant_charge_recurring_end_date` DATE NULL DEFAULT NULL,
  `tenant_charge_recurring_next_processing_date` DATE NULL DEFAULT NULL,
  `tenant_charge_recurring_suspended` TINYINT NULL DEFAULT NULL,
  `tenant_charge_recurring_date_created` DATETIME NULL DEFAULT NULL,
  `tenant_charge_recurring_date_updated` DATETIME NULL DEFAULT NULL,
  `tenant_charge_recurring_created_by` INT NULL DEFAULT NULL,
  `tenant_charge_recurring_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`tenant_charge_recurring_id`),
  INDEX `fk_accounts_tenant_charge_recurring_tenant_charge_recur` (`tenant_charge_recurring_tenancy_id` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_charge_recurring_tenant_charge_recur_1` (`tenant_charge_recurring_created_by` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_charge_recurring_tenant_charge_recur_2` (`tenant_charge_recurring_updated_by` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_charge_recurring_tenant_charge_recurring_idx` (`tenant_charge_recurring_tenant_charge_id` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_charge_recurring_tenant_charge_recurring_idx1` (`tenant_charge_recurring_frequency_unit` ASC) VISIBLE,
  CONSTRAINT `fk_acc_ten_cha_rec_ten_cha_rec_fre_uni`
    FOREIGN KEY (`tenant_charge_recurring_frequency_unit`)
    REFERENCES `atlas`.`accounts_recurring_frequency_unit` (`recurring_frequency_unit_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_acc_ten_cha_rec_ten_cha_rec_ten_cha_id`
    FOREIGN KEY (`tenant_charge_recurring_tenant_charge_id`)
    REFERENCES `atlas`.`accounts_tenant_charge` (`tenant_charge_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_tenant_charge_recurring_tenant_charge_recur`
    FOREIGN KEY (`tenant_charge_recurring_tenancy_id`)
    REFERENCES `atlas`.`tenancy` (`tenancy_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_tenant_charge_recurring_tenant_charge_recur_1`
    FOREIGN KEY (`tenant_charge_recurring_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_tenant_charge_recurring_tenant_charge_recur_2`
    FOREIGN KEY (`tenant_charge_recurring_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_tenant_deposit_charge`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_tenant_deposit_charge` (
  `tenant_deposit_charge_id` INT NOT NULL AUTO_INCREMENT,
  `tenant_deposit_charge_token` VARCHAR(40) NULL DEFAULT NULL,
  `tenant_deposit_charge_date` DATE NULL DEFAULT NULL,
  `tenant_deposit_charge_payment_terms` TINYINT NULL DEFAULT NULL,
  `tenant_deposit_charge_due_date` DATE NULL DEFAULT NULL,
  `tenant_deposit_charge_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `tenant_deposit_charge_total_amount_paid` DECIMAL(10,2) NOT NULL DEFAULT '0.00',
  `tenant_deposit_charge_tenancy_id` INT NULL DEFAULT NULL,
  `tenant_deposit_charge_notes` TEXT NULL DEFAULT NULL,
  `tenant_deposit_charge_branch` INT NULL DEFAULT NULL,
  `tenant_deposit_charge_date_created` DATETIME NULL DEFAULT NULL,
  `tenant_deposit_charge_date_updated` DATETIME NULL DEFAULT NULL,
  `tenant_deposit_charge_created_by` INT NULL DEFAULT NULL,
  `tenant_deposit_charge_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`tenant_deposit_charge_id`),
  INDEX `fk_accounts_tenant_deposit_charge_tenant_deposit_charge` (`tenant_deposit_charge_tenancy_id` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_deposit_charge_tenant_deposit_charge_1` (`tenant_deposit_charge_branch` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_deposit_charge_tenant_deposit_charge_2` (`tenant_deposit_charge_created_by` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_deposit_charge_tenant_deposit_charge_3` (`tenant_deposit_charge_updated_by` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_deposit_charge_tenant_deposit_charge_pay_idx` (`tenant_deposit_charge_payment_terms` ASC) VISIBLE,
  CONSTRAINT `fk_acc_ten_dep_cha_ten_dep_cha_pay_ter`
    FOREIGN KEY (`tenant_deposit_charge_payment_terms`)
    REFERENCES `atlas`.`accounts_payment_term` (`accounts_payment_term_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_tenant_deposit_charge_tenant_deposit_charge`
    FOREIGN KEY (`tenant_deposit_charge_tenancy_id`)
    REFERENCES `atlas`.`tenancy` (`tenancy_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_tenant_deposit_charge_tenant_deposit_charge_1`
    FOREIGN KEY (`tenant_deposit_charge_branch`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_tenant_deposit_charge_tenant_deposit_charge_2`
    FOREIGN KEY (`tenant_deposit_charge_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_tenant_deposit_charge_tenant_deposit_charge_3`
    FOREIGN KEY (`tenant_deposit_charge_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_tenant_deposit_charge_payment`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_tenant_deposit_charge_payment` (
  `tenant_deposit_charge_payment_id` INT NOT NULL AUTO_INCREMENT,
  `tenant_deposit_charge_payment_date` DATE NULL DEFAULT NULL,
  `tenant_deposit_charge_payment_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `tenant_deposit_charge_payment_method` TINYINT NULL DEFAULT NULL,
  `tenant_deposit_charge_payment_tenant_deposit_charge_id` INT NULL DEFAULT NULL,
  `tenant_deposit_charge_payment_notes` TEXT NULL DEFAULT NULL,
  `tenant_deposit_charge_payment_date_created` DATETIME NULL DEFAULT NULL,
  `tenant_deposit_charge_payment_date_updated` DATETIME NULL DEFAULT NULL,
  `tenant_deposit_charge_payment_created_by` INT NULL DEFAULT NULL,
  `tenant_deposit_charge_payment_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`tenant_deposit_charge_payment_id`),
  INDEX `fk_accounts_tenant_deposit_charge_payment_tenant_deposi` (`tenant_deposit_charge_payment_created_by` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_deposit_charge_payment_tenant_deposi_1` (`tenant_deposit_charge_payment_updated_by` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_deposit_charge_payment_tenant_deposit_ch_idx` (`tenant_deposit_charge_payment_tenant_deposit_charge_id` ASC) VISIBLE,
  INDEX `fk_accounts_tenant_deposit_charge_payment_tenant_deposit_ch_idx1` (`tenant_deposit_charge_payment_method` ASC) VISIBLE,
  CONSTRAINT `fk_acc_ten_dep_cha_pay_ten_dep_cha_pay_met`
    FOREIGN KEY (`tenant_deposit_charge_payment_method`)
    REFERENCES `atlas`.`accounts_payment_method` (`payment_method_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_acc_ten_dep_cha_pay_ten_dep_cha_pay_ten_dep_cha_id`
    FOREIGN KEY (`tenant_deposit_charge_payment_tenant_deposit_charge_id`)
    REFERENCES `atlas`.`accounts_tenant_deposit_charge` (`tenant_deposit_charge_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_tenant_deposit_charge_payment_tenant_deposi`
    FOREIGN KEY (`tenant_deposit_charge_payment_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_tenant_deposit_charge_payment_tenant_deposi_1`
    FOREIGN KEY (`tenant_deposit_charge_payment_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_transaction_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_transaction_type` (
  `transaction_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `transaction_type_name` VARCHAR(150) NULL DEFAULT NULL,
  `transaction_type_statement_name` VARCHAR(150) NULL DEFAULT NULL,
  PRIMARY KEY (`transaction_type_id`),
  INDEX `transaction_type_id` (`transaction_type_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`accounts_transaction`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`accounts_transaction` (
  `transaction_id` INT NOT NULL AUTO_INCREMENT,
  `transaction_nominal_code` SMALLINT NULL DEFAULT NULL,
  `transaction_type` TINYINT NULL DEFAULT NULL,
  `transaction_customer_type` INT NULL DEFAULT NULL,
  `transaction_customer` INT NULL DEFAULT NULL,
  `transaction_date` DATE NULL DEFAULT NULL,
  `transaction_due_date` VARCHAR(10) NULL DEFAULT NULL,
  `transaction_reference` TEXT CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `transaction_details` TEXT CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `transaction_notes` TEXT CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `transaction_property` INT NULL DEFAULT NULL,
  `transaction_development` INT NULL DEFAULT NULL,
  `transaction_tenancy` INT NULL DEFAULT NULL,
  `transaction_branch` INT NULL DEFAULT NULL,
  `transaction_debit` DECIMAL(10,2) NULL DEFAULT NULL,
  `transaction_credit` DECIMAL(10,2) NULL DEFAULT NULL,
  `transaction_status` TINYINT NOT NULL DEFAULT '1',
  `transaction_date_created` DATETIME NULL DEFAULT NULL,
  `transaction_date_updated` DATETIME NULL DEFAULT NULL,
  `transaction_created_by` INT NULL DEFAULT NULL,
  `transaction_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`transaction_id`),
  INDEX `transaction_id` (`transaction_id` ASC) VISIBLE,
  INDEX `transaction_debit` (`transaction_debit` ASC) VISIBLE,
  INDEX `transaction_credit` (`transaction_credit` ASC) VISIBLE,
  INDEX `transaction_tenancy` (`transaction_tenancy` ASC) VISIBLE,
  INDEX `transaction_property` (`transaction_property` ASC) VISIBLE,
  INDEX `transaction_date` (`transaction_date` ASC) VISIBLE,
  INDEX `transaction_customer` (`transaction_customer` ASC) VISIBLE,
  INDEX `transaction_customer_type` (`transaction_customer_type` ASC) VISIBLE,
  INDEX `transaction_type` (`transaction_type` ASC) VISIBLE,
  INDEX `transaction_nominal_code` (`transaction_nominal_code` ASC) VISIBLE,
  INDEX `transaction_branch` (`transaction_branch` ASC) VISIBLE,
  INDEX `transaction_date_created` (`transaction_date_created` ASC) VISIBLE,
  INDEX `transaction_created_by` (`transaction_created_by` ASC) VISIBLE,
  INDEX `transaction_due_date` (`transaction_due_date` ASC) VISIBLE,
  INDEX `transaction_development` (`transaction_development` ASC) VISIBLE,
  INDEX `transaction_status` (`transaction_status` ASC) VISIBLE,
  INDEX `fk_accounts_transaction_transaction_updated_by` (`transaction_updated_by` ASC) VISIBLE,
  CONSTRAINT `fk_accounts_transaction_transaction_branch`
    FOREIGN KEY (`transaction_branch`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_transaction_transaction_created_by`
    FOREIGN KEY (`transaction_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_transaction_transaction_customer_type`
    FOREIGN KEY (`transaction_customer_type`)
    REFERENCES `atlas`.`customer_type` (`customer_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_transaction_transaction_development`
    FOREIGN KEY (`transaction_development`)
    REFERENCES `atlas`.`development` (`development_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_transaction_transaction_nominal_code`
    FOREIGN KEY (`transaction_nominal_code`)
    REFERENCES `atlas`.`accounts_nominal_code` (`nominal_code_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_transaction_transaction_property`
    FOREIGN KEY (`transaction_property`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_transaction_transaction_tenancy`
    FOREIGN KEY (`transaction_tenancy`)
    REFERENCES `atlas`.`tenancy` (`tenancy_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_transaction_transaction_type`
    FOREIGN KEY (`transaction_type`)
    REFERENCES `atlas`.`accounts_transaction_type` (`transaction_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_accounts_transaction_transaction_updated_by`
    FOREIGN KEY (`transaction_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`aea_postcodes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`aea_postcodes` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `post_code` VARCHAR(20) NOT NULL,
  `lat` VARCHAR(50) NOT NULL,
  `lng` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`alarm_code_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`alarm_code_type` (
  `alarm_code_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `alarm_code_type_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`alarm_code_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`alarm_code`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`alarm_code` (
  `alarm_code_id` INT NOT NULL AUTO_INCREMENT,
  `alarm_code_property` INT NULL DEFAULT NULL,
  `alarm_code_code` VARCHAR(10) NULL DEFAULT NULL,
  `alarm_code_type` TINYINT NULL DEFAULT NULL,
  `alarm_code_notes` TEXT NULL DEFAULT NULL,
  `alarm_code_date_added` DATE NULL DEFAULT NULL,
  `alarm_code_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`alarm_code_id`),
  INDEX `fk_alarm_code_alarm_code_property` (`alarm_code_property` ASC) VISIBLE,
  INDEX `fk_alarm_code_alarm_code_created_by` (`alarm_code_created_by` ASC) VISIBLE,
  INDEX `fk_alarm_code_alarm_code_type_idx` (`alarm_code_type` ASC) VISIBLE,
  CONSTRAINT `fk_alarm_code_alarm_code_created_by`
    FOREIGN KEY (`alarm_code_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_alarm_code_alarm_code_property`
    FOREIGN KEY (`alarm_code_property`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_alarm_code_alarm_code_type`
    FOREIGN KEY (`alarm_code_type`)
    REFERENCES `atlas`.`alarm_code_type` (`alarm_code_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`alarm_code_development`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`alarm_code_development` (
  `alarm_code_id` INT NOT NULL AUTO_INCREMENT,
  `alarm_code_development` INT NULL DEFAULT NULL,
  `alarm_code_code` VARCHAR(10) NULL DEFAULT NULL,
  `alarm_code_type` TINYINT NULL DEFAULT NULL,
  `alarm_code_notes` TEXT NULL DEFAULT NULL,
  `alarm_code_date_added` DATE NULL DEFAULT NULL,
  `alarm_code_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`alarm_code_id`),
  INDEX `fk_alarm_code_development_alarm_code_development` (`alarm_code_development` ASC) VISIBLE,
  INDEX `fk_alarm_code_development_alarm_code_created_by` (`alarm_code_created_by` ASC) VISIBLE,
  CONSTRAINT `fk_alarm_code_development_alarm_code_created_by`
    FOREIGN KEY (`alarm_code_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_alarm_code_development_alarm_code_development`
    FOREIGN KEY (`alarm_code_development`)
    REFERENCES `atlas`.`development` (`development_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`annual_leave_years`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`annual_leave_years` (
  `annual_leave_years_year` YEAR NOT NULL,
  `annual_leave_years_statutory_entitlement_days` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`annual_leave_years_year`),
  UNIQUE INDEX `annual_leave_years_year` (`annual_leave_years_year` ASC) VISIBLE,
  INDEX `annual_leave_years_year_2` (`annual_leave_years_year` ASC) VISIBLE,
  INDEX `annual_leave_years_statutory_entitlement_days` (`annual_leave_years_statutory_entitlement_days` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`sale_finance`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`sale_finance` (
  `sale_finance_id` TINYINT NOT NULL AUTO_INCREMENT,
  `sale_finance_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`sale_finance_id`),
  INDEX `sale_finance_id` (`sale_finance_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_offer_sale_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_offer_sale_type` (
  `property_offer_sale_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `property_offer_sale_type_name` VARCHAR(25) NULL DEFAULT NULL,
  `property_offer_sale_type_description` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`property_offer_sale_type_id`),
  INDEX `property_offer_sale_type_id` (`property_offer_sale_type_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`applicant_lead_source`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`applicant_lead_source` (
  `applicant_lead_source_id` TINYINT NOT NULL AUTO_INCREMENT,
  `applicant_lead_source_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`applicant_lead_source_id`),
  INDEX `applicant_lead_source_id` (`applicant_lead_source_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`applicant`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`applicant` (
  `applicant_id` INT NOT NULL AUTO_INCREMENT,
  `applicant_token` VARCHAR(40) NULL DEFAULT NULL,
  `applicant_type` TINYINT NULL DEFAULT '1',
  `applicant_sub_type` INT NULL DEFAULT NULL,
  `applicant_title` TINYINT NULL DEFAULT NULL,
  `applicant_first_name` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `applicant_surname` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `applicant_company_name` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `applicant_company_trading_name` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `applicant_email` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `applicant_phone_home` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `applicant_phone_work` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `applicant_phone_mobile` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `applicant_fax` VARCHAR(255) NULL DEFAULT NULL,
  `applicant_property_number_name` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `applicant_apartment_number_name` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `applicant_address_line_1` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `applicant_address_line_2` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `applicant_suburb` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `applicant_town_city` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `applicant_postcode` VARCHAR(8) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `applicant_country` INT NULL DEFAULT NULL,
  `applicant_branch` INT NULL DEFAULT NULL,
  `applicant_purchase_finance` TINYINT NULL DEFAULT NULL,
  `applicant_purchase_type` TINYINT NULL DEFAULT NULL,
  `applicant_purchase_chain` TINYINT NULL DEFAULT NULL,
  `applicant_purchase_chain_status` TINYINT NOT NULL DEFAULT '4',
  `applicant_purchase_chain_notes` TEXT NULL DEFAULT NULL,
  `applicant_ftb` TINYINT NULL DEFAULT NULL,
  `applicant_referral_solicitor` TINYINT NULL DEFAULT NULL,
  `applicant_referral_solicitor_notes` TEXT NULL DEFAULT NULL,
  `applicant_referral_mortgage` TINYINT NULL DEFAULT NULL,
  `applicant_referral_mortgage_notes` TEXT NULL DEFAULT NULL,
  `applicant_referral_valuation` INT NULL DEFAULT NULL,
  `applicant_referral_valuation_notes` TEXT NULL DEFAULT NULL,
  `applicant_cash_available` DECIMAL(11,2) NULL DEFAULT NULL,
  `applicant_mortgage_available` DECIMAL(11,2) NULL DEFAULT NULL,
  `applicant_pof_date_updated` DATE NULL DEFAULT NULL,
  `applicant_source` TINYINT NULL DEFAULT NULL,
  `applicant_lead_source` TINYINT NULL DEFAULT NULL,
  `applicant_lead_source_notes` TEXT NULL DEFAULT NULL,
  `applicant_referral_valuation_closed` TINYINT(1) NOT NULL DEFAULT '2',
  `applicant_referral_valuation_next_review_date` DATE NULL DEFAULT NULL,
  `applicant_referral_valuation_next_review_notes` TEXT NULL DEFAULT NULL,
  `applicant_referral_mortgage_closed` TINYINT NOT NULL DEFAULT '2',
  `applicant_referral_mortgage_next_review_date` DATE NULL DEFAULT NULL,
  `applicant_referral_mortgage_next_review_notes` TEXT NULL DEFAULT NULL,
  `applicant_rightmove_email_id` VARCHAR(15) NULL DEFAULT NULL,
  `applicant_negotiator` INT NULL DEFAULT NULL,
  `applicant_date_created` DATETIME NULL DEFAULT NULL,
  `applicant_date_updated` DATETIME NULL DEFAULT NULL,
  `applicant_created_by` INT NULL DEFAULT NULL,
  `applicant_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`applicant_id`),
  UNIQUE INDEX `applicant_token` (`applicant_token` ASC) VISIBLE,
  INDEX `applicant_first_name` (`applicant_first_name` ASC) VISIBLE,
  INDEX `applicant_surname` (`applicant_surname` ASC) VISIBLE,
  INDEX `applicant_company_name` (`applicant_company_name` ASC) VISIBLE,
  INDEX `applicant_company_trading_name` (`applicant_company_trading_name` ASC) VISIBLE,
  INDEX `applicant_email` (`applicant_email` ASC) VISIBLE,
  INDEX `applicant_type` (`applicant_type` ASC, `applicant_sub_type` ASC, `applicant_branch` ASC, `applicant_purchase_finance` ASC, `applicant_purchase_type` ASC, `applicant_purchase_chain` ASC, `applicant_ftb` ASC) VISIBLE,
  INDEX `applicant_title` (`applicant_title` ASC, `applicant_country` ASC, `applicant_purchase_chain_status` ASC, `applicant_source` ASC, `applicant_referral_valuation_closed` ASC) VISIBLE,
  INDEX `applicant_referral_mortgage_next_review_negotiator` (`applicant_referral_mortgage_closed` ASC) VISIBLE,
  INDEX `applicant_id` (`applicant_id` ASC) VISIBLE,
  INDEX `fk_applicant_applicant_branch` (`applicant_branch` ASC) VISIBLE,
  INDEX `fk_applicant_applicant_referral_valuation` (`applicant_referral_valuation` ASC) VISIBLE,
  INDEX `fk_applicant_applicant_created_by` (`applicant_created_by` ASC) VISIBLE,
  INDEX `fk_applicant_applicant_updated_by` (`applicant_updated_by` ASC) VISIBLE,
  INDEX `fk_applicant_applicant_sub_type_idx` (`applicant_sub_type` ASC) VISIBLE,
  INDEX `fk_applicant_applicant_purchase_finance_idx` (`applicant_purchase_finance` ASC) VISIBLE,
  INDEX `fk_applicant_applicant_purchase_type_idx` (`applicant_purchase_type` ASC) VISIBLE,
  INDEX `fk_applicant_applicant_lead_source_idx` (`applicant_lead_source` ASC) VISIBLE,
  INDEX `fk_applicant_applicant_negotiator_idx` (`applicant_negotiator` ASC) VISIBLE,
  CONSTRAINT `fk_applicant_applicant_branch`
    FOREIGN KEY (`applicant_branch`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_applicant_created_by`
    FOREIGN KEY (`applicant_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_applicant_referral_valuation`
    FOREIGN KEY (`applicant_referral_valuation`)
    REFERENCES `atlas`.`valuation` (`valuation_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_applicant_sub_type`
    FOREIGN KEY (`applicant_sub_type`)
    REFERENCES `atlas`.`customer_type` (`customer_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_applicant_title`
    FOREIGN KEY (`applicant_title`)
    REFERENCES `atlas`.`title` (`title_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_applicant_type`
    FOREIGN KEY (`applicant_type`)
    REFERENCES `atlas`.`body_type` (`body_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_applicant_updated_by`
    FOREIGN KEY (`applicant_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_applicant_purchase_finance`
    FOREIGN KEY (`applicant_purchase_finance`)
    REFERENCES `atlas`.`sale_finance` (`sale_finance_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_applicant_purchase_type`
    FOREIGN KEY (`applicant_purchase_type`)
    REFERENCES `atlas`.`property_offer_sale_type` (`property_offer_sale_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_applicant_lead_source`
    FOREIGN KEY (`applicant_lead_source`)
    REFERENCES `atlas`.`applicant_lead_source` (`applicant_lead_source_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_applicant_negotiator`
    FOREIGN KEY (`applicant_negotiator`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`applicant_chain_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`applicant_chain_status` (
  `applicant_chain_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `applicant_chain_status_name` VARCHAR(100) NULL DEFAULT NULL,
  `applicant_chain_status_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`applicant_chain_status_id`),
  INDEX `applicant_chain_status_id` (`applicant_chain_status_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`applicant_requirement_filter_shared`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`applicant_requirement_filter_shared` (
  `applicant_requirement_filter_id` TINYINT NOT NULL AUTO_INCREMENT,
  `applicant_requirement_filter_name` VARCHAR(15) NULL DEFAULT NULL,
  `applicant_requirement_filter_description` VARCHAR(100) NULL DEFAULT NULL,
  `applicant_requirement_filter_sort` TINYINT(1) NULL DEFAULT NULL,
  PRIMARY KEY (`applicant_requirement_filter_id`),
  INDEX `applicant_requirement_filter_id` (`applicant_requirement_filter_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`applicant_requirement_filter_student`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`applicant_requirement_filter_student` (
  `applicant_requirement_filter_id` TINYINT NOT NULL AUTO_INCREMENT,
  `applicant_requirement_filter_name` VARCHAR(15) NULL DEFAULT NULL,
  `applicant_requirement_filter_description` VARCHAR(100) NULL DEFAULT NULL,
  `applicant_requirement_filter_sort` TINYINT(1) NULL DEFAULT NULL,
  PRIMARY KEY (`applicant_requirement_filter_id`),
  INDEX `applicant_requirement_filter_id` (`applicant_requirement_filter_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`applicant_requirement`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`applicant_requirement` (
  `ar_id` INT NOT NULL AUTO_INCREMENT,
  `ar_token` VARCHAR(40) NULL DEFAULT NULL,
  `ar_active` TINYINT NULL DEFAULT NULL,
  `ar_applicant_id` INT NOT NULL DEFAULT '0',
  `ar_property_category` TINYINT NULL DEFAULT NULL,
  `ar_property_availability` TINYINT NULL DEFAULT NULL,
  `ar_property_type` INT NULL DEFAULT NULL,
  `ar_property_min_price` INT NULL DEFAULT NULL,
  `ar_property_max_price` INT NULL DEFAULT NULL,
  `ar_property_min_bedrooms` TINYINT NULL DEFAULT NULL,
  `ar_property_max_bedrooms` TINYINT NULL DEFAULT NULL,
  `ar_property_furnished` TINYINT NULL DEFAULT NULL,
  `ar_property_shared` TINYINT NULL DEFAULT NULL,
  `ar_property_student` TINYINT(1) NULL DEFAULT NULL,
  `ar_position` TEXT NULL DEFAULT NULL,
  `ar_notes` TEXT NULL DEFAULT NULL,
  `ar_branch` INT NULL DEFAULT NULL,
  `ar_date_created` DATETIME NULL DEFAULT NULL,
  `ar_date_updated` DATETIME NULL DEFAULT NULL,
  `ar_created_by` INT NULL DEFAULT NULL,
  `ar_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`ar_id`),
  INDEX `ar_token` (`ar_token` ASC, `ar_active` ASC, `ar_applicant_id` ASC, `ar_property_category` ASC, `ar_property_availability` ASC, `ar_property_type` ASC, `ar_property_min_price` ASC, `ar_property_max_price` ASC, `ar_property_min_bedrooms` ASC, `ar_property_max_bedrooms` ASC, `ar_branch` ASC, `ar_created_by` ASC, `ar_updated_by` ASC) VISIBLE,
  INDEX `fk_applicant_requirement_ar_applicant_id` (`ar_applicant_id` ASC) VISIBLE,
  INDEX `fk_applicant_requirement_ar_branch` (`ar_branch` ASC) VISIBLE,
  INDEX `fk_applicant_requirement_ar_created_by` (`ar_created_by` ASC) VISIBLE,
  INDEX `fk_applicant_requirement_ar_updated_by` (`ar_updated_by` ASC) VISIBLE,
  INDEX `fk_applicant_requirement_ar_property_category` (`ar_property_category` ASC) VISIBLE,
  INDEX `fk_applicant_requirement_ar_property_availability` (`ar_property_availability` ASC) VISIBLE,
  INDEX `fk_applicant_requirement_ar_property_type` (`ar_property_type` ASC) VISIBLE,
  INDEX `fk_applicant_requirement_ar_property_furnished_idx` (`ar_property_furnished` ASC) VISIBLE,
  INDEX `applicant_requirement_ar_property_shared_idx` (`ar_property_shared` ASC) VISIBLE,
  CONSTRAINT `fk_applicant_requirement_ar_applicant_id`
    FOREIGN KEY (`ar_applicant_id`)
    REFERENCES `atlas`.`applicant` (`applicant_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_requirement_ar_branch`
    FOREIGN KEY (`ar_branch`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_requirement_ar_created_by`
    FOREIGN KEY (`ar_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_requirement_ar_property_availability`
    FOREIGN KEY (`ar_property_availability`)
    REFERENCES `atlas`.`property_availability` (`property_availability_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_requirement_ar_property_category`
    FOREIGN KEY (`ar_property_category`)
    REFERENCES `atlas`.`property_category` (`property_category_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_requirement_ar_property_type`
    FOREIGN KEY (`ar_property_type`)
    REFERENCES `atlas`.`property_type` (`property_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_requirement_ar_updated_by`
    FOREIGN KEY (`ar_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_requirement_ar_property_furnished`
    FOREIGN KEY (`ar_property_furnished`)
    REFERENCES `atlas`.`property_furnished_status` (`property_furnished_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_requirement_ar_property_shared`
    FOREIGN KEY (`ar_property_shared`)
    REFERENCES `atlas`.`applicant_requirement_filter_shared` (`applicant_requirement_filter_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_requirement_ar_property_student`
    FOREIGN KEY (`ar_property_student`)
    REFERENCES `atlas`.`applicant_requirement_filter_student` (`applicant_requirement_filter_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`applicant_requirement_properties`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`applicant_requirement_properties` (
  `arp_id` INT NOT NULL AUTO_INCREMENT,
  `ar_id` INT NULL DEFAULT NULL,
  `applicant_id` INT NULL DEFAULT NULL,
  `property_id` INT NULL DEFAULT NULL,
  `arp_date_created` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`arp_id`),
  INDEX `arp_id` (`arp_id` ASC, `ar_id` ASC, `property_id` ASC, `arp_date_created` ASC) VISIBLE,
  INDEX `applicant_id` (`applicant_id` ASC) VISIBLE,
  INDEX `fk_applicant_requirement_properties_ar_id_idx` (`ar_id` ASC) VISIBLE,
  INDEX `fk_applicant_requirement_properties_property_id_idx` (`property_id` ASC) VISIBLE,
  CONSTRAINT `fk_applicant_requirement_properties_ar_id`
    FOREIGN KEY (`ar_id`)
    REFERENCES `atlas`.`applicant_requirement` (`ar_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_requirement_properties_applicant_id`
    FOREIGN KEY (`applicant_id`)
    REFERENCES `atlas`.`applicant` (`applicant_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_requirement_properties_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`applicant_requirement_feedback`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`applicant_requirement_feedback` (
  `applicant_requirement_feedback_id` INT NOT NULL AUTO_INCREMENT,
  `applicant_requirement_feedback_ar_id` INT NULL DEFAULT NULL,
  `applicant_requirement_feedback_arp_id` INT NULL DEFAULT NULL,
  `applicant_requirement_feedback_public_notes` TEXT NULL DEFAULT NULL,
  `applicant_requirement_feedback_ptp` INT NULL DEFAULT NULL,
  `applicant_requirement_feedback_private_notes` TEXT NULL DEFAULT NULL,
  `applicant_requirement_feedback_next_review_date` TEXT NULL DEFAULT NULL,
  `applicant_requirement_feedback_date_created` DATETIME NULL DEFAULT NULL,
  `applicant_requirement_feedback_date_updated` DATETIME NULL DEFAULT NULL,
  `applicant_requirement_feedback_created_by` INT NULL DEFAULT NULL,
  `applicant_requirement_feedback_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`applicant_requirement_feedback_id`),
  INDEX `calendar_event_viewing_calendar_event_id` (`applicant_requirement_feedback_arp_id` ASC) VISIBLE,
  INDEX `calendar_event_viewing_id` (`applicant_requirement_feedback_id` ASC, `applicant_requirement_feedback_arp_id` ASC) VISIBLE,
  INDEX `applicant_requirement_feedback_created_by` (`applicant_requirement_feedback_created_by` ASC, `applicant_requirement_feedback_updated_by` ASC) VISIBLE,
  INDEX `applicant_requirement_feedback_ar_id` (`applicant_requirement_feedback_ar_id` ASC) VISIBLE,
  INDEX `fk_applicant_requirement_feedback_applicant_requirement_1` (`applicant_requirement_feedback_updated_by` ASC) VISIBLE,
  CONSTRAINT `fk_applicant_requirement_feedback_applicant_requirement`
    FOREIGN KEY (`applicant_requirement_feedback_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_requirement_feedback_applicant_requirement_1`
    FOREIGN KEY (`applicant_requirement_feedback_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_requirement_feedback_applicant_requirement_feedb_1`
    FOREIGN KEY (`applicant_requirement_feedback_arp_id`)
    REFERENCES `atlas`.`applicant_requirement_properties` (`arp_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_requirement_feedback_applicant_requirement_feedbac`
    FOREIGN KEY (`applicant_requirement_feedback_ar_id`)
    REFERENCES `atlas`.`applicant_requirement` (`ar_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`applicant_requirement_property_subtype`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`applicant_requirement_property_subtype` (
  `arps_id` INT NOT NULL AUTO_INCREMENT,
  `ar_id` INT NULL DEFAULT NULL,
  `ar_property_type_id` INT NULL DEFAULT NULL,
  PRIMARY KEY (`arps_id`),
  INDEX `ars_id` (`arps_id` ASC, `ar_id` ASC, `ar_property_type_id` ASC) VISIBLE,
  INDEX `arps_id` (`arps_id` ASC) VISIBLE,
  INDEX `fk_applicant_requirement_property_subtype_idx` (`ar_property_type_id` ASC) VISIBLE,
  INDEX `fk_applicant_requirement_property_subtype__idx` (`ar_id` ASC) VISIBLE,
  CONSTRAINT `fk_applicant_requirement_property_subtype`
    FOREIGN KEY (`ar_property_type_id`)
    REFERENCES `atlas`.`property_type` (`property_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_requirement_property_subtype_`
    FOREIGN KEY (`ar_id`)
    REFERENCES `atlas`.`applicant_requirement` (`ar_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`applicant_requirement_suburb`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`applicant_requirement_suburb` (
  `ars_id` INT NOT NULL AUTO_INCREMENT,
  `ar_id` INT NULL DEFAULT NULL,
  `ar_suburb_id` INT NULL DEFAULT NULL,
  PRIMARY KEY (`ars_id`),
  INDEX `ars_id` (`ars_id` ASC, `ar_id` ASC, `ar_suburb_id` ASC) VISIBLE,
  INDEX `fk_applicant_requirement_suburb_ar_id_idx` (`ar_id` ASC) VISIBLE,
  INDEX `fk_applicant_requirement_suburb_ar_suburb_id_idx` (`ar_suburb_id` ASC) VISIBLE,
  CONSTRAINT `fk_applicant_requirement_suburb_ar_id`
    FOREIGN KEY (`ar_id`)
    REFERENCES `atlas`.`applicant_requirement` (`ar_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_applicant_requirement_suburb_ar_suburb_id`
    FOREIGN KEY (`ar_suburb_id`)
    REFERENCES `atlas`.`suburb` (`suburb_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`applicant_updates`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`applicant_updates` (
  `applicant_updates_id` INT NOT NULL AUTO_INCREMENT,
  `applicant_updates_applicant_id` INT NULL DEFAULT NULL,
  `applicant_updates_public_notes` TEXT NULL DEFAULT NULL,
  `applicant_updates_private_notes` TEXT NULL DEFAULT NULL,
  `applicant_updates_notify_applicant` TINYINT NULL DEFAULT NULL,
  `applicant_updates_date_created` DATETIME NULL DEFAULT NULL,
  `applicant_updates_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`applicant_updates_id`),
  INDEX `applicant_updates_id` (`applicant_updates_id` ASC, `applicant_updates_applicant_id` ASC, `applicant_updates_notify_applicant` ASC, `applicant_updates_created_by` ASC) VISIBLE,
  INDEX `fk_applicant_updates_applicant_updates_applicant_id` (`applicant_updates_applicant_id` ASC) VISIBLE,
  INDEX `fk_applicant_updates_applicant_updates_created_by` (`applicant_updates_created_by` ASC) VISIBLE,
  CONSTRAINT `fk_applicant_updates_applicant_updates_applicant_id`
    FOREIGN KEY (`applicant_updates_applicant_id`)
    REFERENCES `atlas`.`applicant` (`applicant_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_applicant_updates_applicant_updates_created_by`
    FOREIGN KEY (`applicant_updates_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`application_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`application_status` (
  `application_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `application_status_name` VARCHAR(50) NULL DEFAULT NULL,
  `application_status_sort` TINYINT NULL DEFAULT NULL,
  `application_status_archived` TINYINT NOT NULL DEFAULT '2',
  PRIMARY KEY (`application_status_id`),
  INDEX `application_status_id` (`application_status_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`application_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`application_type` (
  `application_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `application_type_name` VARCHAR(30) NULL DEFAULT NULL,
  PRIMARY KEY (`application_type_id`),
  INDEX `application_type_id` (`application_type_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`application`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`application` (
  `application_id` INT NOT NULL AUTO_INCREMENT,
  `application_token` VARCHAR(40) NULL DEFAULT NULL,
  `application_property` INT NULL DEFAULT NULL,
  `application_property_room` INT NULL DEFAULT NULL,
  `application_move_in_date` DATE NULL DEFAULT NULL,
  `application_length_of_stay` TINYINT NULL DEFAULT NULL,
  `application_tenancy_length` SMALLINT NULL DEFAULT NULL,
  `application_children` TEXT NULL DEFAULT NULL,
  `application_pets` TEXT NULL DEFAULT NULL,
  `application_moving_reason` TEXT NULL DEFAULT NULL,
  `application_notes` TEXT NULL DEFAULT NULL,
  `application_bank_name` TINYINT NULL DEFAULT NULL,
  `application_bank_account_name` VARCHAR(255) NULL DEFAULT NULL,
  `application_bank_sort_code` VARCHAR(8) NULL DEFAULT NULL,
  `application_bank_account_number` VARCHAR(8) NULL DEFAULT NULL,
  `application_status` TINYINT NOT NULL DEFAULT '1',
  `application_status_reason` TEXT NULL DEFAULT NULL,
  `application_employee` INT NULL DEFAULT NULL,
  `application_type` TINYINT NULL DEFAULT NULL,
  `application_company_years_trading` SMALLINT NULL DEFAULT NULL,
  `application_company_nature` VARCHAR(255) NULL DEFAULT NULL,
  `application_business_address_history` TEXT NULL DEFAULT NULL,
  `application_accountant_company_name` VARCHAR(255) NULL DEFAULT NULL,
  `application_accountant_title` TINYINT NULL DEFAULT NULL,
  `application_accountant_first_name` VARCHAR(255) NULL DEFAULT NULL,
  `application_accountant_surname` VARCHAR(255) NULL DEFAULT NULL,
  `application_accountant_telephone_numbers` VARCHAR(255) NULL DEFAULT NULL,
  `application_accountant_email_address` VARCHAR(255) NULL DEFAULT NULL,
  `application_accountant_address_line_1` VARCHAR(255) NULL DEFAULT NULL,
  `application_accountant_address_line_2` VARCHAR(255) NULL DEFAULT NULL,
  `application_accountant_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `application_accountant_post_code` VARCHAR(8) NULL DEFAULT NULL,
  `application_solicitor_company_name` VARCHAR(255) NULL DEFAULT NULL,
  `application_solicitor_title` TINYINT NULL DEFAULT NULL,
  `application_solicitor_first_name` VARCHAR(255) NULL DEFAULT NULL,
  `application_solicitor_surname` VARCHAR(255) NULL DEFAULT NULL,
  `application_solicitor_telephone_numbers` VARCHAR(255) NULL DEFAULT NULL,
  `application_solicitor_email_address` VARCHAR(255) NULL DEFAULT NULL,
  `application_solicitor_address_line_1` VARCHAR(255) NULL DEFAULT NULL,
  `application_solicitor_address_line_2` VARCHAR(255) NULL DEFAULT NULL,
  `application_solicitor_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `application_solicitor_post_code` VARCHAR(8) NULL DEFAULT NULL,
  `application_trade2_company_name` VARCHAR(255) NULL DEFAULT NULL,
  `application_trade2_title` TINYINT NULL DEFAULT NULL,
  `application_trade2_first_name` VARCHAR(255) NULL DEFAULT NULL,
  `application_trade2_surname` VARCHAR(255) NULL DEFAULT NULL,
  `application_trade2_telephone_numbers` VARCHAR(255) NULL DEFAULT NULL,
  `application_trade2_email_address` VARCHAR(255) NULL DEFAULT NULL,
  `application_trade2_address_line_1` VARCHAR(255) NULL DEFAULT NULL,
  `application_trade2_address_line_2` VARCHAR(255) NULL DEFAULT NULL,
  `application_trade2_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `application_trade2_post_code` VARCHAR(8) NULL DEFAULT NULL,
  `application_trade_company_name` VARCHAR(255) NULL DEFAULT NULL,
  `application_trade_title` TINYINT NULL DEFAULT NULL,
  `application_trade_first_name` VARCHAR(255) NULL DEFAULT NULL,
  `application_trade_surname` VARCHAR(255) NULL DEFAULT NULL,
  `application_trade_telephone_numbers` VARCHAR(255) NULL DEFAULT NULL,
  `application_trade_email_address` VARCHAR(255) NULL DEFAULT NULL,
  `application_trade_address_line_1` VARCHAR(255) NULL DEFAULT NULL,
  `application_trade_address_line_2` VARCHAR(255) NULL DEFAULT NULL,
  `application_trade_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `application_trade_post_code` VARCHAR(8) NULL DEFAULT NULL,
  `application_body_type` TINYINT NULL DEFAULT NULL,
  `application_landlord_solicitor_company` INT NULL DEFAULT NULL,
  `application_landlord_solicitor_company_individual` INT NULL DEFAULT NULL,
  `application_tenant_solicitor_company` INT NULL DEFAULT NULL,
  `application_tenant_solicitor_company_individual` INT NULL DEFAULT NULL,
  `application_date_created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `application_applicant_email_reminders` TINYINT NOT NULL DEFAULT '1',
  `application_holding_deposit_paid` TINYINT NOT NULL DEFAULT '2',
  `application_proceed` TINYINT(1) NULL DEFAULT '3',
  `application_can_physically_view` TINYINT NOT NULL DEFAULT '1',
  PRIMARY KEY (`application_id`),
  INDEX `application_status` (`application_status` ASC) VISIBLE,
  INDEX `application_property` (`application_property` ASC) VISIBLE,
  INDEX `application_employee` (`application_employee` ASC) VISIBLE,
  INDEX `application_type` (`application_type` ASC) VISIBLE,
  INDEX `application_property_room` (`application_property_room` ASC) VISIBLE,
  INDEX `application_id` (`application_id` ASC) VISIBLE,
  INDEX `application_property_2` (`application_property` ASC, `application_property_room` ASC) VISIBLE,
  INDEX `application_status_2` (`application_status` ASC, `application_employee` ASC, `application_type` ASC, `application_applicant_email_reminders` ASC, `application_holding_deposit_paid` ASC, `application_proceed` ASC, `application_can_physically_view` ASC) VISIBLE,
  INDEX `fk_application_application_accountant_title` (`application_accountant_title` ASC) VISIBLE,
  INDEX `fk_application_application_solicitor_title` (`application_solicitor_title` ASC) VISIBLE,
  INDEX `fk_application_application_trade2_title` (`application_trade2_title` ASC) VISIBLE,
  INDEX `fk_application_application_trade_title` (`application_trade_title` ASC) VISIBLE,
  INDEX `fk_application_application_bank_name` (`application_bank_name` ASC) VISIBLE,
  CONSTRAINT `fk_application_application_accountant_title`
    FOREIGN KEY (`application_accountant_title`)
    REFERENCES `atlas`.`title` (`title_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_application_bank_name`
    FOREIGN KEY (`application_bank_name`)
    REFERENCES `atlas`.`bank` (`bank_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_application_employee`
    FOREIGN KEY (`application_employee`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_application_property`
    FOREIGN KEY (`application_property`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_application_solicitor_title`
    FOREIGN KEY (`application_solicitor_title`)
    REFERENCES `atlas`.`title` (`title_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_application_trade2_title`
    FOREIGN KEY (`application_trade2_title`)
    REFERENCES `atlas`.`title` (`title_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_application_trade_title`
    FOREIGN KEY (`application_trade_title`)
    REFERENCES `atlas`.`title` (`title_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_application_property_room`
    FOREIGN KEY (`application_property_room`)
    REFERENCES `atlas`.`property_room_letting` (`property_room_letting_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_application_status`
    FOREIGN KEY (`application_status`)
    REFERENCES `atlas`.`application_status` (`application_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_application_type`
    FOREIGN KEY (`application_type`)
    REFERENCES `atlas`.`application_type` (`application_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`nationality`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`nationality` (
  `nationality_id` SMALLINT NOT NULL AUTO_INCREMENT,
  `nationality_name` VARCHAR(255) NULL DEFAULT NULL,
  PRIMARY KEY (`nationality_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`employment_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`employment_status` (
  `employment_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `employment_status_name` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`employment_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`application_applicant`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`application_applicant` (
  `application_applicant_id` INT NOT NULL AUTO_INCREMENT,
  `application_id` INT NULL DEFAULT NULL,
  `application_applicant_type` TINYINT NULL DEFAULT NULL,
  `application_homeowner` TINYINT(1) NULL DEFAULT NULL,
  `application_title` TINYINT NULL DEFAULT NULL,
  `application_first_name` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `application_surname` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `application_telephone_numbers` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `application_email_address` VARCHAR(255) NULL DEFAULT NULL,
  `application_dob` DATE NULL DEFAULT NULL,
  `application_nationality` SMALLINT NULL DEFAULT NULL,
  `application_nino` VARCHAR(13) NULL DEFAULT NULL,
  `application_address_line_1` VARCHAR(255) NULL DEFAULT NULL,
  `application_address_line_2` VARCHAR(255) NULL DEFAULT NULL,
  `application_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `application_post_code` VARCHAR(8) NULL DEFAULT NULL,
  `application_employment_status` TINYINT NULL DEFAULT NULL,
  `application_employment_nature` VARCHAR(255) NULL DEFAULT NULL,
  `application_income` DECIMAL(10,2) NULL DEFAULT NULL,
  `application_company_legal_name` VARCHAR(255) NULL DEFAULT NULL,
  `application_company_trading_name` VARCHAR(255) NULL DEFAULT NULL,
  `application_company_registration_number` VARCHAR(10) NULL DEFAULT NULL,
  `application_company_vat_registration_number` VARCHAR(20) NULL DEFAULT NULL,
  `application_company_title` TINYINT NULL DEFAULT NULL,
  `application_company_first_name` VARCHAR(255) NULL DEFAULT NULL,
  `application_company_surname` VARCHAR(255) NULL DEFAULT NULL,
  `application_company_telephone_numbers` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `application_company_email_address` VARCHAR(255) NULL DEFAULT NULL,
  `application_company_ro_address_line_1` VARCHAR(255) NULL DEFAULT NULL,
  `application_company_ro_address_line_2` VARCHAR(255) NULL DEFAULT NULL,
  `application_company_ro_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `application_company_ro_post_code` VARCHAR(8) NULL DEFAULT NULL,
  PRIMARY KEY (`application_applicant_id`),
  INDEX `application_id` (`application_id` ASC) VISIBLE,
  INDEX `fk_application_applicant_application_title` (`application_title` ASC) VISIBLE,
  INDEX `fk_application_applicant_application_company_title` (`application_company_title` ASC) VISIBLE,
  INDEX `fk_application_applicant_application_nationality_idx` (`application_nationality` ASC) VISIBLE,
  INDEX `fk_application_applicant_application_employment_status_idx` (`application_employment_status` ASC) VISIBLE,
  CONSTRAINT `fk_application_applicant_application_applicant_id`
    FOREIGN KEY (`application_id`)
    REFERENCES `atlas`.`applicant` (`applicant_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_applicant_application_company_title`
    FOREIGN KEY (`application_company_title`)
    REFERENCES `atlas`.`title` (`title_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_applicant_application_title`
    FOREIGN KEY (`application_title`)
    REFERENCES `atlas`.`title` (`title_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_applicant_application_nationality`
    FOREIGN KEY (`application_nationality`)
    REFERENCES `atlas`.`nationality` (`nationality_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_applicant_application_employment_status`
    FOREIGN KEY (`application_employment_status`)
    REFERENCES `atlas`.`employment_status` (`employment_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE
)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`application_decline_reason`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`application_decline_reason` (
  `application_decline_reason_id` TINYINT NOT NULL AUTO_INCREMENT,
  `application_decline_reason_name` VARCHAR(100) NULL DEFAULT NULL,
  PRIMARY KEY (`application_decline_reason_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`application_guarantor`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`application_guarantor` (
  `application_guarantor_id` INT NOT NULL AUTO_INCREMENT,
  `application_id` INT NULL DEFAULT NULL,
  `application_guarantor_title` TINYINT NULL DEFAULT NULL,
  `application_guarantor_first_name` VARCHAR(30) NULL DEFAULT NULL,
  `application_guarantor_surname` VARCHAR(255) NULL DEFAULT NULL,
  `application_guarantor_telephone_numbers` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `application_guarantor_email_address` VARCHAR(255) NULL DEFAULT NULL,
  `application_guarantor_address_line_1` VARCHAR(255) NULL DEFAULT NULL,
  `application_guarantor_address_line_2` VARCHAR(255) NULL DEFAULT NULL,
  `application_guarantor_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `application_guarantor_post_code` VARCHAR(8) NULL DEFAULT NULL,
  `application_guarantor_homeowner` TINYINT(1) NULL DEFAULT NULL,
  `application_guarantor_dob` DATE NULL DEFAULT NULL,
  `application_guarantor_nino` VARCHAR(13) NULL DEFAULT NULL,
  `application_guarantor_employment_status` TINYINT NULL DEFAULT NULL,
  `application_guarantor_employment_nature` VARCHAR(255) NULL DEFAULT NULL,
  `application_guarantor_income` DECIMAL(10,2) NULL DEFAULT NULL,
  `application_guarantor_nationality` SMALLINT NULL DEFAULT NULL,
  `application_guarantor_applicant_name` VARCHAR(255) NULL DEFAULT NULL,
  PRIMARY KEY (`application_guarantor_id`),
  INDEX `fk_application_guarantor_application_guarantor_title` (`application_guarantor_title` ASC) VISIBLE,
  INDEX `fk_application_guarantor_application_id_idx` (`application_id` ASC) VISIBLE,
  INDEX `fk_application_guarantor_application_guarantor_employment_s_idx` (`application_guarantor_employment_status` ASC) VISIBLE,
  CONSTRAINT `fk_application_guarantor_application_guarantor_title`
    FOREIGN KEY (`application_guarantor_title`)
    REFERENCES `atlas`.`title` (`title_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_guarantor_application_id`
    FOREIGN KEY (`application_id`)
    REFERENCES `atlas`.`application` (`application_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_guarantor_application_guarantor_employment_s`
    FOREIGN KEY (`application_guarantor_employment_status`)
    REFERENCES `atlas`.`employment_status` (`employment_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_guarantor_application_guarantor_nationality`
    FOREIGN KEY (`application_guarantor_nationality`)
    REFERENCES `atlas`.`nationality` (`nationality_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`application_log_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`application_log_status` (
  `application_log_status_id` INT NOT NULL AUTO_INCREMENT,
  `application_id` INT NULL DEFAULT NULL,
  `application_status_old` TINYINT NULL DEFAULT NULL,
  `application_status_new` TINYINT NULL DEFAULT NULL,
  `application_updated_by` INT NULL DEFAULT NULL,
  `application_date_updated` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`application_log_status_id`),
  INDEX `fk_application_log_status_application_updated_by` (`application_updated_by` ASC) VISIBLE,
  INDEX `fk_application_log_status_application_id_idx` (`application_id` ASC) VISIBLE,
  INDEX `fk_application_log_status_application_status_old_idx` (`application_status_old` ASC) VISIBLE,
  INDEX `fk_application_log_status_application_status_new_idx` (`application_status_new` ASC) VISIBLE,
  CONSTRAINT `fk_application_log_status_application_updated_by`
    FOREIGN KEY (`application_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_log_status_application_id`
    FOREIGN KEY (`application_id`)
    REFERENCES `atlas`.`applicant` (`applicant_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_log_status_application_status_old`
    FOREIGN KEY (`application_status_old`)
    REFERENCES `atlas`.`application_status` (`application_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_log_status_application_status_new`
    FOREIGN KEY (`application_status_new`)
    REFERENCES `atlas`.`application_status` (`application_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`application_task_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`application_task_type` (
  `application_task_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `application_task_type_name` VARCHAR(15) NULL DEFAULT NULL,
  PRIMARY KEY (`application_task_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`application_task_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`application_task_status` (
  `application_task_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `application_task_status_name` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`application_task_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`application_task`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`application_task` (
  `application_task_id` INT NOT NULL AUTO_INCREMENT,
  `application_id` INT NULL DEFAULT NULL,
  `application_task_type` TINYINT NULL DEFAULT NULL,
  `application_task_name` VARCHAR(255) NULL DEFAULT NULL,
  `application_task_status` TINYINT NULL DEFAULT NULL,
  `application_task_completed_date` DATE NULL DEFAULT NULL,
  `application_task_notes` TEXT NULL DEFAULT NULL,
  `application_task_notes_private` TEXT NULL DEFAULT NULL,
  `application_task_sort` TINYINT NULL DEFAULT NULL,
  `application_task_landlord_notified` TINYINT NULL DEFAULT NULL,
  `application_task_applicant_notified` TINYINT NULL DEFAULT NULL,
  `application_task_date_updated` DATETIME NULL DEFAULT NULL,
  `application_task_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`application_task_id`),
  INDEX `fk_application_task_application_task_updated_by` (`application_task_updated_by` ASC) VISIBLE,
  INDEX `fk_application_task_application_id_idx` (`application_id` ASC) VISIBLE,
  INDEX `fk_application_task_application_task_type_idx` (`application_task_type` ASC) VISIBLE,
  INDEX `fk_application_task_application_task_status_idx` (`application_task_status` ASC) VISIBLE,
  CONSTRAINT `fk_application_task_application_task_updated_by`
    FOREIGN KEY (`application_task_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_task_application_id`
    FOREIGN KEY (`application_id`)
    REFERENCES `atlas`.`application` (`application_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_task_application_task_type`
    FOREIGN KEY (`application_task_type`)
    REFERENCES `atlas`.`application_task_type` (`application_task_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_task_application_task_status`
    FOREIGN KEY (`application_task_status`)
    REFERENCES `atlas`.`application_task_status` (`application_task_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`application_task_defaults`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`application_task_defaults` (
  `application_task_defaults_id` SMALLINT NOT NULL AUTO_INCREMENT,
  `application_task_defaults_type` TINYINT NULL DEFAULT NULL,
  `application_task_defaults_name` VARCHAR(100) NULL DEFAULT NULL,
  `application_task_defaults_status` TINYINT NULL DEFAULT NULL,
  `application_task_defaults_notes` TEXT NULL DEFAULT NULL,
  `application_task_defaults_description` TEXT NULL DEFAULT NULL,
  `application_task_defaults_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`application_task_defaults_id`),
  UNIQUE INDEX `application_task_defaults_sort` (`application_task_defaults_sort` ASC) VISIBLE,
  INDEX `application_task_defaults_type` (`application_task_defaults_type` ASC, `application_task_defaults_status` ASC, `application_task_defaults_sort` ASC) VISIBLE,
  INDEX `fk_application_task_defaults_application_task_defaults_stat_idx` (`application_task_defaults_status` ASC) VISIBLE,
  CONSTRAINT `fk_application_task_defaults_application_task_defaults_type`
    FOREIGN KEY (`application_task_defaults_type`)
    REFERENCES `atlas`.`application_task_type` (`application_task_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_task_defaults_application_task_defaults_status`
    FOREIGN KEY (`application_task_defaults_status`)
    REFERENCES `atlas`.`application_task_status` (`application_task_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`application_tenancy_length`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`application_tenancy_length` (
  `application_tenancy_length_id` TINYINT NOT NULL AUTO_INCREMENT,
  `application_tenancy_length_name` VARCHAR(25) NULL DEFAULT NULL,
  PRIMARY KEY (`application_tenancy_length_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`application_updates`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`application_updates` (
  `application_updates_id` INT NOT NULL AUTO_INCREMENT,
  `application_updates_application_id` INT NULL DEFAULT NULL,
  `application_updates_public_notes` TEXT NULL DEFAULT NULL,
  `application_updates_private_notes` TEXT NULL DEFAULT NULL,
  `application_updates_notify_landlord` TINYINT NULL DEFAULT NULL,
  `application_updates_notify_applicant` TINYINT NULL DEFAULT NULL,
  `application_updates_date_created` DATETIME NULL DEFAULT NULL,
  `application_updates_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`application_updates_id`),
  INDEX `fk_application_updates_application_updates_created_by` (`application_updates_created_by` ASC) VISIBLE,
  INDEX `fk_application_updates_application_updates_application_id_idx` (`application_updates_application_id` ASC) VISIBLE,
  CONSTRAINT `fk_application_updates_application_updates_created_by`
    FOREIGN KEY (`application_updates_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_application_updates_application_updates_application_id`
    FOREIGN KEY (`application_updates_application_id`)
    REFERENCES `atlas`.`application` (`application_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`branch_opening_hours`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`branch_opening_hours` (
  `branch_opening_hours_id` INT NOT NULL AUTO_INCREMENT,
  `branch_id` INT NULL DEFAULT NULL,
  `branch_opening_hours_day` TINYINT NULL DEFAULT NULL,
  `branch_opening_hours_open_time` TIME NULL DEFAULT NULL,
  `branch_opening_hours_close_time` TIME NULL DEFAULT NULL,
  PRIMARY KEY (`branch_opening_hours_id`),
  INDEX `fk_branch_opening_hours_branch_id_idx` (`branch_id` ASC) VISIBLE,
  CONSTRAINT `fk_branch_opening_hours_branch_id`
    FOREIGN KEY (`branch_id`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`branch_opening_hours_day`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`branch_opening_hours_day` (
  `id` TINYINT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`bulk_email`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`bulk_email` (
  `bulk_email_id` INT NOT NULL AUTO_INCREMENT,
  `bulk_email_from_email` VARCHAR(320) NULL DEFAULT NULL,
  `bulk_email_from_name` VARCHAR(255) NULL DEFAULT NULL,
  `bulk_email_reply_to_email` VARCHAR(320) NULL DEFAULT NULL,
  `bulk_email_reply_to_name` VARCHAR(255) NULL DEFAULT NULL,
  `bulk_email_unsubscribe_email` VARCHAR(320) NULL DEFAULT NULL,
  `bulk_email_unsubscribe_link` TEXT NULL DEFAULT NULL,
  `bulk_email_unsubscribe_subject` TEXT NULL DEFAULT NULL,
  `bulk_email_email_body` TEXT NULL DEFAULT NULL,
  `bulk_email_email_subject` TEXT NULL DEFAULT NULL,
  `bulk_email_to_email` VARCHAR(320) NULL DEFAULT NULL,
  `bulk_email_cc_email` VARCHAR(320) NULL DEFAULT NULL,
  `bulk_email_bcc_email` VARCHAR(320) NULL DEFAULT NULL,
  `bulk_email_customer_type` INT NULL DEFAULT NULL,
  `bulk_email_property_id` INT NULL DEFAULT NULL,
  `bulk_email_app_req_id` INT NULL DEFAULT NULL,
  `bulk_email_sent` TINYINT(1) NOT NULL DEFAULT '2',
  `bulk_email_date_created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `bulk_email_date_sent` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`bulk_email_id`),
  INDEX `bulk_email_id` (`bulk_email_id` ASC, `bulk_email_property_id` ASC, `bulk_email_app_req_id` ASC, `bulk_email_sent` ASC) VISIBLE,
  INDEX `fk_bulk_email_bulk_email_property_id` (`bulk_email_property_id` ASC) VISIBLE,
  INDEX `fk_bulk_email_bulk_email_customer_type_idx` (`bulk_email_customer_type` ASC) VISIBLE,
  INDEX `fk_bulk_email_bulk_email_app_req_id_idx` (`bulk_email_app_req_id` ASC) VISIBLE,
  CONSTRAINT `fk_bulk_email_bulk_email_property_id`
    FOREIGN KEY (`bulk_email_property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_bulk_email_bulk_email_customer_type`
    FOREIGN KEY (`bulk_email_customer_type`)
    REFERENCES `atlas`.`customer_type` (`customer_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_bulk_email_bulk_email_app_req_id`
    FOREIGN KEY (`bulk_email_app_req_id`)
    REFERENCES `atlas`.`applicant_requirement` (`ar_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`bulk_email_recipient`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`bulk_email_recipient` (
  `bulk_email_recipient_id` TINYINT NOT NULL AUTO_INCREMENT,
  `bulk_email_recipient_name` VARCHAR(255) NULL DEFAULT NULL,
  `bulk_email_recipient_type` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`bulk_email_recipient_id`),
  INDEX `bulk_email_recipient_type` (`bulk_email_recipient_type` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`bulk_email_template`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`bulk_email_template` (
  `bulk_email_template_id` TINYINT NOT NULL AUTO_INCREMENT,
  `bulk_email_template_name` VARCHAR(255) NULL DEFAULT NULL,
  `bulk_email_template_subject` VARCHAR(255) NULL DEFAULT NULL,
  `bulk_email_template_category` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`bulk_email_template_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`bulk_email_template_all_employees`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`bulk_email_template_all_employees` (
  `bulk_email_template_all_employees_id` TINYINT NOT NULL AUTO_INCREMENT,
  `bulk_email_template_all_employees_name` VARCHAR(255) NULL DEFAULT NULL,
  `bulk_email_template_all_employees_subject` VARCHAR(255) NULL DEFAULT NULL,
  `bulk_email_template_all_employees_category` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`bulk_email_template_all_employees_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`bulk_email_template_development`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`bulk_email_template_development` (
  `bulk_email_template_development_id` TINYINT NOT NULL AUTO_INCREMENT,
  `bulk_email_template_development_name` VARCHAR(255) NULL DEFAULT NULL,
  `bulk_email_template_development_subject` VARCHAR(255) NULL DEFAULT NULL,
  PRIMARY KEY (`bulk_email_template_development_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`bulk_email_template_valuations`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`bulk_email_template_valuations` (
  `bulk_email_template_valuations_id` TINYINT NOT NULL AUTO_INCREMENT,
  `bulk_email_template_valuations_name` VARCHAR(255) NULL DEFAULT NULL,
  `bulk_email_template_valuations_subject` VARCHAR(255) NULL DEFAULT NULL,
  PRIMARY KEY (`bulk_email_template_valuations_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`buyer`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`buyer` (
  `buyer_id` INT NOT NULL AUTO_INCREMENT,
  `buyer_token` VARCHAR(40) NULL DEFAULT NULL,
  `buyer_type` TINYINT NULL DEFAULT NULL,
  `buyer_title` TINYINT NULL DEFAULT NULL,
  `buyer_first_name` VARCHAR(30) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `buyer_surname` VARCHAR(30) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `buyer_trading_name` VARCHAR(255) NULL DEFAULT NULL,
  `buyer_company_name` VARCHAR(255) NULL DEFAULT NULL,
  `buyer_company_trading_name` VARCHAR(255) NULL DEFAULT NULL,
  `buyer_company_contact_name` VARCHAR(255) NULL DEFAULT NULL,
  `buyer_company_registration_number` VARCHAR(10) NULL DEFAULT NULL,
  `buyer_company_vat_registration_number` VARCHAR(20) NULL DEFAULT NULL,
  `buyer_company_reg_office_property_number_name` VARCHAR(50) NULL DEFAULT NULL,
  `buyer_company_reg_office_address_line_1` VARCHAR(255) NULL DEFAULT NULL,
  `buyer_company_reg_office_address_line_2` VARCHAR(255) NULL DEFAULT NULL,
  `buyer_company_reg_office_suburb` VARCHAR(255) NULL DEFAULT NULL,
  `buyer_company_reg_office_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `buyer_company_reg_office_postcode` VARCHAR(8) NULL DEFAULT NULL,
  `buyer_company_reg_office_country` INT NULL DEFAULT NULL,
  `buyer_phone_home` VARCHAR(255) NULL DEFAULT NULL,
  `buyer_phone_work` VARCHAR(255) NULL DEFAULT NULL,
  `buyer_phone_mobile` VARCHAR(255) NULL DEFAULT NULL,
  `buyer_fax` VARCHAR(20) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `buyer_email` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `buyer_property_number_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `buyer_apartment_number_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `buyer_address_line_1` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `buyer_address_line_2` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `buyer_suburb` VARCHAR(255) NULL DEFAULT NULL,
  `buyer_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `buyer_postcode` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `buyer_country` INT NULL DEFAULT NULL,
  `buyer_notes` TEXT CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `buyer_bank_name` TINYINT NULL DEFAULT NULL,
  `buyer_bank_sort_code` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `buyer_bank_account_number` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `buyer_bank_account_name` VARCHAR(100) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `buyer_online_account` TINYINT NULL DEFAULT NULL,
  `buyer_online_login_username` VARCHAR(255) NULL DEFAULT NULL,
  `buyer_online_login_password` VARCHAR(255) NULL DEFAULT NULL,
  `buyer_online_account_password_reset_token` VARCHAR(40) NULL DEFAULT NULL,
  `buyer_dob` DATE NULL DEFAULT NULL,
  `buyer_passport_number` VARCHAR(10) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `buyer_driving_licence_number` VARCHAR(20) NULL DEFAULT NULL,
  `buyer_nino` VARCHAR(10) NULL DEFAULT NULL,
  `buyer_date_created` DATETIME NULL DEFAULT NULL,
  `buyer_date_updated` DATETIME NULL DEFAULT NULL,
  `buyer_created_by` INT NULL DEFAULT NULL,
  `buyer_updated_by` INT NULL DEFAULT NULL,
  `buyer_solicitor_company` INT NULL DEFAULT NULL,
  `buyer_solicitor_company_individual` INT NULL DEFAULT NULL,
  `buyer_estate_agent_company` INT NULL DEFAULT NULL,
  `buyer_estate_agent_company_individual` INT NULL DEFAULT NULL,
  `buyer_branch` INT NULL DEFAULT NULL,
  `buyer_source` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`buyer_id`),
  UNIQUE INDEX `landlord_online_login_username` (`buyer_online_login_username` ASC) VISIBLE,
  INDEX `buyer_id` (`buyer_id` ASC) VISIBLE,
  INDEX `buyer_email` (`buyer_email` ASC) VISIBLE,
  INDEX `fk_buyer_buyer_created_by` (`buyer_created_by` ASC) VISIBLE,
  INDEX `fk_buyer_buyer_updated_by` (`buyer_updated_by` ASC) VISIBLE,
  INDEX `fk_buyer_buyer_branch` (`buyer_branch` ASC) VISIBLE,
  INDEX `fk_buyer_buyer_title` (`buyer_title` ASC) VISIBLE,
  INDEX `fk_buyer_buyer_bank_name` (`buyer_bank_name` ASC) VISIBLE,
  INDEX `fk_buyer_buyer_type_idx` (`buyer_type` ASC) VISIBLE,
  INDEX `fk_buyer_buyer_country_idx` (`buyer_country` ASC) VISIBLE,
  INDEX `fk_buyer_buyer_company_reg_office_country_idx` (`buyer_company_reg_office_country` ASC) VISIBLE,
  CONSTRAINT `fk_buyer_buyer_bank_name`
    FOREIGN KEY (`buyer_bank_name`)
    REFERENCES `atlas`.`bank` (`bank_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_buyer_buyer_branch`
    FOREIGN KEY (`buyer_branch`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_buyer_buyer_created_by`
    FOREIGN KEY (`buyer_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_buyer_buyer_title`
    FOREIGN KEY (`buyer_title`)
    REFERENCES `atlas`.`title` (`title_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_buyer_buyer_updated_by`
    FOREIGN KEY (`buyer_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_buyer_buyer_type`
    FOREIGN KEY (`buyer_type`)
    REFERENCES `atlas`.`body_type` (`body_type_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_buyer_buyer_country`
    FOREIGN KEY (`buyer_country`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_buyer_buyer_company_reg_office_country`
    FOREIGN KEY (`buyer_company_reg_office_country`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`calendar_event_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`calendar_event_status` (
  `calendar_event_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `calendar_event_status_name` VARCHAR(15) NULL DEFAULT NULL,
  `calendar_event_status_display_name` VARCHAR(15) NULL DEFAULT NULL,
  PRIMARY KEY (`calendar_event_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`calendar_event_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`calendar_event_type` (
  `calendar_event_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `calendar_event_type_name` VARCHAR(35) NULL DEFAULT NULL,
  `calendar_event_type_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`calendar_event_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`calendar_event_attendee_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`calendar_event_attendee_type` (
  `calendar_event_attendee_type_id` INT NOT NULL AUTO_INCREMENT,
  `calendar_event_attendee_type_name` VARCHAR(30) NULL DEFAULT NULL,
  `calendar_event_attendee_type_survey_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`calendar_event_attendee_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`valuation_appointment_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`valuation_appointment_type` (
  `valuation_appointment_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `valuation_appointment_type_name` VARCHAR(50) NULL DEFAULT NULL,
  `valuation_appointment_type_subject` VARCHAR(100) NULL DEFAULT NULL,
  `valuation_appointment_type_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`valuation_appointment_type_id`),
  INDEX `valuation_appointment_type_id` (`valuation_appointment_type_id` ASC, `valuation_appointment_type_sort` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`valuation_meeting_with`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`valuation_meeting_with` (
  `valuation_meeting_with_id` TINYINT NOT NULL AUTO_INCREMENT,
  `valuation_meeting_with_name` VARCHAR(30) NULL DEFAULT NULL,
  PRIMARY KEY (`valuation_meeting_with_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`calendar_event_meet_at`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`calendar_event_meet_at` (
  `calendar_event_meet_at_id` TINYINT NOT NULL AUTO_INCREMENT,
  `calendar_event_meet_at_name` VARCHAR(10) NULL DEFAULT NULL,
  `calendar_event_meet_at_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`calendar_event_meet_at_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`calendar_event_recurring`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`calendar_event_recurring` (
  `calendar_event_recurring_id` INT NOT NULL AUTO_INCREMENT,
  `calendar_event_recurring_calendar_event_id` INT NULL DEFAULT NULL,
  `calendar_event_recurring_frequency` SMALLINT NULL DEFAULT NULL,
  `calendar_event_recurring_frequency_unit` TINYINT NULL DEFAULT NULL,
  `calendar_event_recurring_start_date` DATE NULL DEFAULT NULL,
  `calendar_event_recurring_next_processing_date` DATE NULL DEFAULT NULL,
  `calendar_event_recurring_suspended` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`calendar_event_recurring_id`),
  INDEX `fk_calendar_event_recurring_calendar_event_recurring_calend_idx` (`calendar_event_recurring_calendar_event_id` ASC) VISIBLE,
  INDEX `fk_calendar_event_recurring_calendar_event_recurring_freque_idx` (`calendar_event_recurring_frequency_unit` ASC) VISIBLE,
  CONSTRAINT `fk_calendar_event_recurring_calendar_event_recurring_calend`
    FOREIGN KEY (`calendar_event_recurring_calendar_event_id`)
    REFERENCES `atlas`.`calendar_event` (`calendar_event_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_recurring_calendar_event_recurring_freque`
    FOREIGN KEY (`calendar_event_recurring_frequency_unit`)
    REFERENCES `atlas`.`accounts_recurring_frequency_unit` (`recurring_frequency_unit_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`calendar_event_inspection_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`calendar_event_inspection_type` (
  `calendar_event_inspection_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `calendar_event_inspection_type_name` VARCHAR(50) NULL DEFAULT NULL,
  `calendar_event_inspection_type_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`calendar_event_inspection_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`calendar_event_survey_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`calendar_event_survey_type` (
  `calendar_event_survey_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `calendar_event_survey_type_name` VARCHAR(50) NULL DEFAULT NULL,
  `calendar_event_survey_type_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`calendar_event_survey_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`calendar_event_time_off_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`calendar_event_time_off_type` (
  `calendar_event_time_off_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `calendar_event_time_off_type_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`calendar_event_time_off_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`calendar_event_time_off_reason`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`calendar_event_time_off_reason` (
  `calendar_event_time_off_reason_id` TINYINT NOT NULL AUTO_INCREMENT,
  `calendar_event_time_off_reason_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`calendar_event_time_off_reason_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`calendar_event_time_off_pay`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`calendar_event_time_off_pay` (
  `calendar_event_time_off_pay_id` TINYINT(1) NOT NULL AUTO_INCREMENT,
  `calendar_event_time_off_pay_name` VARCHAR(10) NULL DEFAULT NULL,
  PRIMARY KEY (`calendar_event_time_off_pay_id`),
  INDEX `calendar_event_time_off_pay_id` (`calendar_event_time_off_pay_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`extra_hours_reward_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`extra_hours_reward_type` (
  `id` TINYINT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(50) NULL DEFAULT NULL,
  `sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `name` (`name` ASC) VISIBLE,
  UNIQUE INDEX `sort` (`sort` ASC) VISIBLE,
  INDEX `id` (`id` ASC) VISIBLE,
  INDEX `sort_2` (`sort` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`calendar_event`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`calendar_event` (
  `calendar_event_id` INT NOT NULL AUTO_INCREMENT,
  `calendar_event_token` VARCHAR(40) NULL DEFAULT NULL,
  `calendar_event_company_id` INT NULL DEFAULT NULL,
  `calendar_event_branch_id` INT NULL DEFAULT NULL,
  `calendar_event_subject` VARCHAR(255) NULL DEFAULT NULL,
  `calendar_event_status` TINYINT NULL DEFAULT NULL,
  `calendar_event_start` DATETIME NULL DEFAULT NULL,
  `calendar_event_end` DATETIME NULL DEFAULT NULL,
  `calendar_event_location` VARCHAR(255) NULL DEFAULT NULL,
  `calendar_event_type` TINYINT NULL DEFAULT NULL,
  `calendar_event_employee` INT NULL DEFAULT NULL,
  `calendar_event_description` TEXT NULL DEFAULT NULL,
  `calendar_event_attendee_type` INT NULL DEFAULT NULL,
  `calendar_event_property` INT NULL DEFAULT NULL,
  `calendar_event_tenancy` INT NULL DEFAULT NULL,
  `calendar_event_development` INT NULL DEFAULT NULL,
  `calendar_event_applicant` INT NULL DEFAULT NULL,
  `calendar_event_valuation` INT NULL DEFAULT NULL,
  `calendar_event_valuation_appointment_type` TINYINT NULL DEFAULT NULL,
  `calendar_event_valuation_meeting_with` TINYINT NULL DEFAULT NULL,
  `calendar_event_meet_at` TINYINT NULL DEFAULT NULL,
  `calendar_event_date_created` DATETIME NULL DEFAULT NULL,
  `calendar_event_date_updated` DATETIME NULL DEFAULT NULL,
  `calendar_event_created_by` INT NULL DEFAULT NULL,
  `calendar_event_updated_by` INT NULL DEFAULT NULL,
  `calendar_event_confirmed_landlord_vendor` TINYINT NULL DEFAULT NULL,
  `calendar_event_confirmed_applicant` TINYINT NULL DEFAULT NULL,
  `calendar_event_notes` TEXT NULL DEFAULT NULL,
  `calendar_event_private_notes` TEXT NULL DEFAULT NULL,
  `calendar_event_branch` INT NULL DEFAULT NULL,
  `calendar_event_recurring_id` INT NULL DEFAULT NULL,
  `calendar_event_cancellation_reason` TEXT NULL DEFAULT NULL,
  `calendar_event_surveyor_company_name` VARCHAR(255) NULL DEFAULT NULL,
  `calendar_event_surveyor_individual_name` VARCHAR(255) NULL DEFAULT NULL,
  `calendar_event_surveyor_phone_number` VARCHAR(20) NULL DEFAULT NULL,
  `calendar_event_surveyor_behalf_of` VARCHAR(255) NULL DEFAULT NULL,
  `calendar_event_directory` INT NULL DEFAULT NULL,
  `calendar_event_inspection_type` TINYINT(1) NULL DEFAULT NULL,
  `calendar_event_survey_type` TINYINT NULL DEFAULT NULL,
  `calendar_event_time_off_type` TINYINT NULL DEFAULT NULL,
  `calendar_event_time_off_reason` TINYINT NULL DEFAULT NULL,
  `calendar_event_time_off_pay` TINYINT NULL DEFAULT NULL,
  `calendar_event_time_off_lunch_break` TINYINT(1) NULL DEFAULT NULL,
  `calendar_event_time_off_notes` TEXT NULL DEFAULT NULL,
  `calendar_event_time_off_linked_sickness` TINYINT(1) NULL DEFAULT '2',
  `calendar_event_bulk_email` TINYINT NOT NULL DEFAULT '1',
  `calendar_event_letting_application` INT NULL DEFAULT NULL,
  `calendar_event_viewing_length_override` TINYINT NULL DEFAULT NULL,
  `calendar_event_extra_hours_reward_type` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`calendar_event_id`),
  UNIQUE INDEX `calendar_event_id` (`calendar_event_id` ASC) VISIBLE,
  UNIQUE INDEX `calendar_event_token` (`calendar_event_token` ASC) VISIBLE,
  INDEX `calendar_event_status` (`calendar_event_status` ASC) VISIBLE,
  INDEX `calendar_event_start` (`calendar_event_start` ASC) VISIBLE,
  INDEX `calendar_event_end` (`calendar_event_end` ASC) VISIBLE,
  INDEX `calendar_event_property` (`calendar_event_property` ASC) VISIBLE,
  INDEX `calendar_event_employee` (`calendar_event_employee` ASC) VISIBLE,
  INDEX `calendar_event_type` (`calendar_event_type` ASC) VISIBLE,
  INDEX `calendar_event_company_id` (`calendar_event_company_id` ASC) VISIBLE,
  INDEX `calendar_event_branch_id` (`calendar_event_branch_id` ASC) VISIBLE,
  INDEX `calendar_event_attendee_type` (`calendar_event_attendee_type` ASC) VISIBLE,
  INDEX `calendar_event_applicant` (`calendar_event_applicant` ASC) VISIBLE,
  INDEX `calendar_event_valuation` (`calendar_event_valuation` ASC) VISIBLE,
  INDEX `calendar_event_meet_at` (`calendar_event_meet_at` ASC) VISIBLE,
  INDEX `calendar_event_branch` (`calendar_event_branch` ASC) VISIBLE,
  INDEX `calendar_event_recurring_id` (`calendar_event_recurring_id` ASC) VISIBLE,
  INDEX `calendar_event_tenancy` (`calendar_event_tenancy` ASC, `calendar_event_development` ASC) VISIBLE,
  INDEX `calendar_event_inspection_type` (`calendar_event_inspection_type` ASC) VISIBLE,
  INDEX `calendar_event_letting_application` (`calendar_event_letting_application` ASC) VISIBLE,
  INDEX `calendar_event_time_off_type` (`calendar_event_time_off_type` ASC, `calendar_event_time_off_pay` ASC, `calendar_event_time_off_lunch_break` ASC, `calendar_event_viewing_length_override` ASC) VISIBLE,
  INDEX `fk_calendar_event_calendar_event_development` (`calendar_event_development` ASC) VISIBLE,
  INDEX `fk_calendar_event_calendar_event_created_by` (`calendar_event_created_by` ASC) VISIBLE,
  INDEX `fk_calendar_event_calendar_event_updated_by` (`calendar_event_updated_by` ASC) VISIBLE,
  INDEX `fk_calendar_event_calendar_event_directory` (`calendar_event_directory` ASC) VISIBLE,
  INDEX `fk_calendar_event_calendar_event_valuation_appointment_type_idx` (`calendar_event_valuation_appointment_type` ASC) VISIBLE,
  INDEX `fk_calendar_event_calendar_event_valuation_meeting_with_idx` (`calendar_event_valuation_meeting_with` ASC) VISIBLE,
  INDEX `fk_calendar_event_calendar_event_survey_type_idx` (`calendar_event_survey_type` ASC) VISIBLE,
  INDEX `fk_calendar_event_calendar_event_time_off_reason_idx` (`calendar_event_time_off_reason` ASC) VISIBLE,
  INDEX `fk_calendar_event_calendar_event_time_off_pay_idx` (`calendar_event_time_off_pay` ASC) VISIBLE,
  INDEX `fk_calendar_event_calendar_event_extra_hours_reward_type_idx` (`calendar_event_extra_hours_reward_type` ASC) VISIBLE,
  CONSTRAINT `fk_calendar_event_calendar_event_applicant`
    FOREIGN KEY (`calendar_event_applicant`)
    REFERENCES `atlas`.`applicant` (`applicant_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_branch`
    FOREIGN KEY (`calendar_event_branch`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_branch_id`
    FOREIGN KEY (`calendar_event_branch_id`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_company_id`
    FOREIGN KEY (`calendar_event_company_id`)
    REFERENCES `atlas`.`company` (`company_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_created_by`
    FOREIGN KEY (`calendar_event_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_development`
    FOREIGN KEY (`calendar_event_development`)
    REFERENCES `atlas`.`development` (`development_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_directory`
    FOREIGN KEY (`calendar_event_directory`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_employee`
    FOREIGN KEY (`calendar_event_employee`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_property`
    FOREIGN KEY (`calendar_event_property`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_tenancy`
    FOREIGN KEY (`calendar_event_tenancy`)
    REFERENCES `atlas`.`tenancy` (`tenancy_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_updated_by`
    FOREIGN KEY (`calendar_event_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_valuation`
    FOREIGN KEY (`calendar_event_valuation`)
    REFERENCES `atlas`.`valuation` (`valuation_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_status`
    FOREIGN KEY (`calendar_event_status`)
    REFERENCES `atlas`.`calendar_event_status` (`calendar_event_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_type`
    FOREIGN KEY (`calendar_event_type`)
    REFERENCES `atlas`.`calendar_event_type` (`calendar_event_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_fk_calendar_event_calendar_event_type`
    FOREIGN KEY (`calendar_event_attendee_type`)
    REFERENCES `atlas`.`calendar_event_attendee_type` (`calendar_event_attendee_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_valuation_appointment_type`
    FOREIGN KEY (`calendar_event_valuation_appointment_type`)
    REFERENCES `atlas`.`valuation_appointment_type` (`valuation_appointment_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_valuation_meeting_with`
    FOREIGN KEY (`calendar_event_valuation_meeting_with`)
    REFERENCES `atlas`.`valuation_meeting_with` (`valuation_meeting_with_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_meet_at`
    FOREIGN KEY (`calendar_event_meet_at`)
    REFERENCES `atlas`.`calendar_event_meet_at` (`calendar_event_meet_at_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_recurring_id`
    FOREIGN KEY (`calendar_event_recurring_id`)
    REFERENCES `atlas`.`calendar_event_recurring` (`calendar_event_recurring_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_inspection_type`
    FOREIGN KEY (`calendar_event_inspection_type`)
    REFERENCES `atlas`.`calendar_event_inspection_type` (`calendar_event_inspection_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_survey_type`
    FOREIGN KEY (`calendar_event_survey_type`)
    REFERENCES `atlas`.`calendar_event_survey_type` (`calendar_event_survey_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_time_off_type`
    FOREIGN KEY (`calendar_event_time_off_type`)
    REFERENCES `atlas`.`calendar_event_time_off_type` (`calendar_event_time_off_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_time_off_reason`
    FOREIGN KEY (`calendar_event_time_off_reason`)
    REFERENCES `atlas`.`calendar_event_time_off_reason` (`calendar_event_time_off_reason_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_time_off_pay`
    FOREIGN KEY (`calendar_event_time_off_pay`)
    REFERENCES `atlas`.`calendar_event_time_off_pay` (`calendar_event_time_off_pay_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_letting_application`
    FOREIGN KEY (`calendar_event_letting_application`)
    REFERENCES `atlas`.`application` (`application_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_calendar_event_extra_hours_reward_type`
    FOREIGN KEY (`calendar_event_extra_hours_reward_type`)
    REFERENCES `atlas`.`extra_hours_reward_type` (`id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`calendar_event_confidence`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`calendar_event_confidence` (
  `calendar_event_confidence_id` TINYINT NOT NULL AUTO_INCREMENT,
  `calendar_event_confidence_name` VARCHAR(15) NULL DEFAULT NULL,
  `calendar_event_confidence_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`calendar_event_confidence_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`calendar_event_inspection_cleanliness`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`calendar_event_inspection_cleanliness` (
  `calendar_event_inspection_cleanliness_id` TINYINT NOT NULL AUTO_INCREMENT,
  `calendar_event_inspection_cleanliness_name` VARCHAR(15) NULL DEFAULT NULL,
  PRIMARY KEY (`calendar_event_inspection_cleanliness_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`calendar_event_inspection`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`calendar_event_inspection` (
  `calendar_event_inspection_id` INT NOT NULL AUTO_INCREMENT,
  `calendar_event_inspection_calendar_event_id` INT NULL DEFAULT NULL,
  `calendar_event_inspection_cleanliness` TINYINT(1) NULL DEFAULT NULL,
  `calendar_event_inspection_gardens` TINYINT(1) NULL DEFAULT NULL,
  `calendar_event_inspection_pets` TINYINT(1) NULL DEFAULT NULL,
  `calendar_event_inspection_smoking` TINYINT(1) NULL DEFAULT NULL,
  `calendar_event_inspection_additional_occupants` TINYINT(1) NULL DEFAULT NULL,
  `calendar_event_inspection_mould` TINYINT(1) NULL DEFAULT NULL,
  `calendar_event_inspection_public_notes` TEXT NULL DEFAULT NULL,
  `calendar_event_inspection_private_notes` TEXT NULL DEFAULT NULL,
  `calendar_event_inspection_repair_requests` TEXT NULL DEFAULT NULL,
  PRIMARY KEY (`calendar_event_inspection_id`),
  INDEX `calendar_event_inspection_id` (`calendar_event_inspection_id` ASC, `calendar_event_inspection_calendar_event_id` ASC) VISIBLE,
  INDEX `fk_calendar_event_bulk_email_calendar_event_inspection_cale_idx` (`calendar_event_inspection_calendar_event_id` ASC) VISIBLE,
  INDEX `fk_calendar_event_inspection_calendar_event_inspection_clea_idx` (`calendar_event_inspection_cleanliness` ASC) VISIBLE,
  INDEX `fk_calendar_event_inspection_calendar_event_inspection_gard_idx` (`calendar_event_inspection_gardens` ASC) VISIBLE,
  CONSTRAINT `fk_calendar_event_bulk_email_calendar_event_inspection_cale`
    FOREIGN KEY (`calendar_event_inspection_calendar_event_id`)
    REFERENCES `atlas`.`calendar_event` (`calendar_event_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_inspection_calendar_event_inspection_clea`
    FOREIGN KEY (`calendar_event_inspection_cleanliness`)
    REFERENCES `atlas`.`calendar_event_inspection_cleanliness` (`calendar_event_inspection_cleanliness_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_inspection_calendar_event_inspection_gardens`
    FOREIGN KEY (`calendar_event_inspection_gardens`)
    REFERENCES `atlas`.`calendar_event_inspection_cleanliness` (`calendar_event_inspection_cleanliness_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`calendar_event_location`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`calendar_event_location` (
  `calendar_event_location_id` TINYINT NOT NULL AUTO_INCREMENT,
  `calendar_event_location_name` VARCHAR(100) NULL DEFAULT NULL,
  PRIMARY KEY (`calendar_event_location_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`calendar_event_updates`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`calendar_event_updates` (
  `calendar_event_updates_id` INT NOT NULL AUTO_INCREMENT,
  `calendar_event_updates_calendar_event_id` INT NULL DEFAULT NULL,
  `calendar_event_updates_private_notes` TEXT NULL DEFAULT NULL,
  `calendar_event_updates_date_created` DATETIME NULL DEFAULT NULL,
  `calendar_event_updates_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`calendar_event_updates_id`),
  INDEX `applicant_updates_id` (`calendar_event_updates_id` ASC, `calendar_event_updates_calendar_event_id` ASC, `calendar_event_updates_created_by` ASC) VISIBLE,
  INDEX `fk_calendar_event_updates_calendar_event_updates_create` (`calendar_event_updates_created_by` ASC) VISIBLE,
  INDEX `fk_calendar_event_updates_calendar_event_updates_calendar_e_idx` (`calendar_event_updates_calendar_event_id` ASC) VISIBLE,
  CONSTRAINT `fk_calendar_event_updates_calendar_event_updates_create`
    FOREIGN KEY (`calendar_event_updates_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_updates_calendar_event_updates_calendar_e`
    FOREIGN KEY (`calendar_event_updates_calendar_event_id`)
    REFERENCES `atlas`.`calendar_event` (`calendar_event_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`calendar_event_viewing_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`calendar_event_viewing_type` (
  `calendar_event_viewing_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `calendar_event_viewing_type_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`calendar_event_viewing_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`calendar_event_viewing`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`calendar_event_viewing` (
  `calendar_event_viewing_id` INT NOT NULL AUTO_INCREMENT,
  `calendar_event_viewing_calendar_event_id` INT NULL DEFAULT NULL,
  `calendar_event_viewing_pros` TEXT NULL DEFAULT NULL,
  `calendar_event_viewing_cons` TEXT NULL DEFAULT NULL,
  `calendar_event_viewing_ptp` DECIMAL(11,2) NULL DEFAULT NULL,
  `calendar_event_viewing_confidence_level` TINYINT NULL DEFAULT NULL,
  `calendar_event_viewing_public_notes` TEXT NULL DEFAULT NULL,
  `calendar_event_viewing_private_notes` TEXT NULL DEFAULT NULL,
  `calendar_event_viewing_type` TINYINT NULL DEFAULT NULL,
  `calendar_event_viewings_referral_solicitor` TINYINT NULL DEFAULT NULL,
  `calendar_event_viewings_referral_mortgage` TINYINT NULL DEFAULT NULL,
  `calendar_event_viewings_referral_valuation` TINYINT NULL DEFAULT NULL,
  `calendar_event_viewing_next_review_date` TEXT NULL DEFAULT NULL,
  `calendar_event_viewing_date_created` DATETIME NULL DEFAULT NULL,
  `calendar_event_viewing_date_updated` DATETIME NULL DEFAULT NULL,
  `calendar_event_viewing_created_by` INT NULL DEFAULT NULL,
  `calendar_event_viewing_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`calendar_event_viewing_id`),
  INDEX `calendar_event_viewing_calendar_event_id` (`calendar_event_viewing_calendar_event_id` ASC) VISIBLE,
  INDEX `calendar_event_viewing_id` (`calendar_event_viewing_id` ASC, `calendar_event_viewing_calendar_event_id` ASC) VISIBLE,
  INDEX `calendar_event_viewing_type` (`calendar_event_viewing_type` ASC) VISIBLE,
  INDEX `calendar_event_viewing_date_created` (`calendar_event_viewing_date_created` ASC, `calendar_event_viewing_date_updated` ASC, `calendar_event_viewing_created_by` ASC, `calendar_event_viewing_updated_by` ASC) VISIBLE,
  INDEX `calendar_event_viewing_confidence_level` (`calendar_event_viewing_confidence_level` ASC) VISIBLE,
  INDEX `fk_calendar_event_viewing_calendar_event_viewing_create` (`calendar_event_viewing_created_by` ASC) VISIBLE,
  INDEX `fk_calendar_event_viewing_calendar_event_viewing_update` (`calendar_event_viewing_updated_by` ASC) VISIBLE,
  CONSTRAINT `fk_calendar_event_viewing_calendar_event_viewing_create`
    FOREIGN KEY (`calendar_event_viewing_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_viewing_calendar_event_viewing_update`
    FOREIGN KEY (`calendar_event_viewing_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_viewing_calendar_event_viewing_calendar_e`
    FOREIGN KEY (`calendar_event_viewing_calendar_event_id`)
    REFERENCES `atlas`.`calendar_event` (`calendar_event_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_viewing_calendar_event_viewing_confidence`
    FOREIGN KEY (`calendar_event_viewing_confidence_level`)
    REFERENCES `atlas`.`calendar_event_confidence` (`calendar_event_confidence_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_calendar_event_viewing_calendar_event_viewing_type`
    FOREIGN KEY (`calendar_event_viewing_type`)
    REFERENCES `atlas`.`calendar_event_viewing_type` (`calendar_event_viewing_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`calendar_files`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`calendar_files` (
  `calendar_files_id` INT NOT NULL AUTO_INCREMENT,
  `calendar_event_id` INT NULL DEFAULT NULL,
  `calendar_files_filename` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `calendar_files_caption` VARCHAR(100) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `calendar_files_date_added` DATETIME NULL DEFAULT NULL,
  `calendar_files_sort` MEDIUMINT NULL DEFAULT NULL,
  PRIMARY KEY (`calendar_files_id`),
  INDEX `fk_calendar_files_calendar_event_id_idx` (`calendar_event_id` ASC) VISIBLE,
  CONSTRAINT `fk_calendar_files_calendar_event_id`
    FOREIGN KEY (`calendar_event_id`)
    REFERENCES `atlas`.`calendar_event` (`calendar_event_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`call_queue_groups`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`call_queue_groups` (
  `call_queue_groups_id` TINYINT NOT NULL AUTO_INCREMENT,
  `call_queue_groups_name` VARCHAR(75) NULL DEFAULT NULL,
  `call_queue_groups_extension` TINYINT NULL DEFAULT NULL,
  `call_queue_groups_description` TEXT NOT NULL,
  PRIMARY KEY (`call_queue_groups_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`certificate`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`certificate` (
  `certificate_id` INT NOT NULL AUTO_INCREMENT,
  `certificate_property` INT NULL DEFAULT NULL,
  `certificate_type` TINYINT NULL DEFAULT NULL,
  `certificate_reference` VARCHAR(255) NULL DEFAULT NULL,
  `certificate_link` VARCHAR(255) NULL DEFAULT NULL,
  `certificate_rating` VARCHAR(4) NULL DEFAULT NULL,
  `certificate_start_date` DATE NULL DEFAULT NULL,
  `certificate_expiry_date` DATE NULL DEFAULT NULL,
  `certificate_notes` TEXT NULL DEFAULT NULL,
  `certificate_notes_private` TEXT NULL DEFAULT NULL,
  `certificate_renewal_contractor` INT NULL DEFAULT NULL,
  `certificate_renewal_instructed` TINYINT(1) NULL DEFAULT NULL,
  `certificate_renewal_last_instructed` DATETIME NULL DEFAULT NULL,
  `certificate_renewal_instructed_by` INT NULL DEFAULT NULL,
  `certificate_date_created` DATETIME NULL DEFAULT NULL,
  `certificate_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`certificate_id`),
  INDEX `certificate_rating` (`certificate_rating` ASC) VISIBLE,
  INDEX `certificate_property` (`certificate_property` ASC, `certificate_type` ASC, `certificate_renewal_contractor` ASC, `certificate_renewal_instructed` ASC, `certificate_created_by` ASC) VISIBLE,
  INDEX `certificate_renewal_instructed_by` (`certificate_renewal_instructed_by` ASC) VISIBLE,
  INDEX `fk_certificate_certificate_created_by` (`certificate_created_by` ASC) VISIBLE,
  INDEX `fk_certificate_certificate_type_idx` (`certificate_type` ASC) VISIBLE,
  INDEX `fk_certificate_certificate_renewal_contractor_idx` (`certificate_renewal_contractor` ASC) VISIBLE,
  CONSTRAINT `fk_certificate_certificate_created_by`
    FOREIGN KEY (`certificate_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_certificate_certificate_property`
    FOREIGN KEY (`certificate_property`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_certificate_certificate_type`
    FOREIGN KEY (`certificate_type`)
    REFERENCES `atlas`.`calendar_event_type` (`calendar_event_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_certificate_certificate_renewal_contractor`
    FOREIGN KEY (`certificate_renewal_contractor`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`certificate_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`certificate_type` (
  `certificate_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `certificate_type_name` VARCHAR(100) NULL DEFAULT NULL,
  `certificate_type_property_field` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`certificate_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`certificate_development`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`certificate_development` (
  `certificate_id` INT NOT NULL AUTO_INCREMENT,
  `certificate_development` INT NULL DEFAULT NULL,
  `certificate_type` TINYINT NULL DEFAULT NULL,
  `certificate_reference` VARCHAR(255) NULL DEFAULT NULL,
  `certificate_rating` VARCHAR(4) NULL DEFAULT NULL,
  `certificate_start_date` DATE NULL DEFAULT NULL,
  `certificate_expiry_date` DATE NULL DEFAULT NULL,
  `certificate_notes` TEXT NULL DEFAULT NULL,
  `certificate_notes_private` TEXT NULL DEFAULT NULL,
  `certificate_renewal_contractor` INT NULL DEFAULT NULL,
  `certificate_renewal_instructed` TINYINT NULL DEFAULT NULL,
  `certificate_renewal_last_instructed` DATETIME NULL DEFAULT NULL,
  `certificate_date_created` DATETIME NULL DEFAULT NULL,
  `certificate_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`certificate_id`),
  INDEX `fk_certificate_development_certificate_development` (`certificate_development` ASC) VISIBLE,
  INDEX `fk_certificate_development_certificate_created_by` (`certificate_created_by` ASC) VISIBLE,
  INDEX `fk_certificate_development_certificate_type_idx` (`certificate_type` ASC) VISIBLE,
  INDEX `fk_certificate_development_certificate_renewal_contractor_idx` (`certificate_renewal_contractor` ASC) VISIBLE,
  CONSTRAINT `fk_certificate_development_certificate_created_by`
    FOREIGN KEY (`certificate_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_certificate_development_certificate_development`
    FOREIGN KEY (`certificate_development`)
    REFERENCES `atlas`.`development` (`development_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_certificate_development_certificate_type`
    FOREIGN KEY (`certificate_type`)
    REFERENCES `atlas`.`certificate_type` (`certificate_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_certificate_development_certificate_renewal_contractor`
    FOREIGN KEY (`certificate_renewal_contractor`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`certificate_development_files`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`certificate_development_files` (
  `file_id` INT NOT NULL AUTO_INCREMENT,
  `certificate_id` INT NOT NULL,
  `filename` VARCHAR(100) CHARACTER SET 'utf8mb3' NOT NULL,
  `date_added` DATETIME NULL DEFAULT NULL,
  `sort` TINYINT NULL DEFAULT NULL,
  `caption` VARCHAR(250) NULL DEFAULT NULL,
  PRIMARY KEY (`file_id`),
  INDEX `fk_certificate_development_files_certificate_id_idx` (`certificate_id` ASC) VISIBLE,
  CONSTRAINT `fk_certificate_development_files_certificate_id`
    FOREIGN KEY (`certificate_id`)
    REFERENCES `atlas`.`certificate_development` (`certificate_development`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`certificate_files`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`certificate_files` (
  `file_id` INT NOT NULL AUTO_INCREMENT,
  `certificate_id` INT NOT NULL,
  `filename` VARCHAR(100) CHARACTER SET 'utf8mb3' NOT NULL,
  `date_added` DATETIME NULL DEFAULT NULL,
  `sort` TINYINT NULL DEFAULT NULL,
  `caption` VARCHAR(250) NULL DEFAULT NULL,
  PRIMARY KEY (`file_id`),
  INDEX `fk_certificate_files_certificate_id_idx` (`certificate_id` ASC) VISIBLE,
  CONSTRAINT `fk_certificate_files_certificate_id`
    FOREIGN KEY (`certificate_id`)
    REFERENCES `atlas`.`certificate` (`certificate_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`certificate_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`certificate_status` (
  `certificate_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `certificate_status_name` VARCHAR(50) NULL DEFAULT NULL,
  `certificate_status_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`certificate_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`certificate_updates`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`certificate_updates` (
  `certificate_updates_id` INT NOT NULL AUTO_INCREMENT,
  `certificate_updates_certificate_id` INT NULL DEFAULT NULL,
  `certificate_updates_public_notes` TEXT NULL DEFAULT NULL,
  `certificate_updates_private_notes` TEXT NULL DEFAULT NULL,
  `certificate_updates_notify_landlord` TINYINT NULL DEFAULT NULL,
  `certificate_updates_notify_contractor` TINYINT NULL DEFAULT NULL,
  `certificate_updates_date_created` DATETIME NULL DEFAULT NULL,
  `certificate_updates_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`certificate_updates_id`),
  INDEX `fk_certificate_updates_certificate_updates_created_by` (`certificate_updates_created_by` ASC) VISIBLE,
  INDEX `fk_certificate_updates_certificate_updates_certificate_id_idx` (`certificate_updates_certificate_id` ASC) VISIBLE,
  CONSTRAINT `fk_certificate_updates_certificate_updates_created_by`
    FOREIGN KEY (`certificate_updates_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_certificate_updates_certificate_updates_certificate_id`
    FOREIGN KEY (`certificate_updates_certificate_id`)
    REFERENCES `atlas`.`certificate` (`certificate_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`certificate_updates_development`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`certificate_updates_development` (
  `certificate_updates_id` INT NOT NULL AUTO_INCREMENT,
  `certificate_updates_certificate_id` INT NULL DEFAULT NULL,
  `certificate_updates_private_notes` TEXT NULL DEFAULT NULL,
  `certificate_updates_date_created` DATETIME NULL DEFAULT NULL,
  `certificate_updates_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`certificate_updates_id`),
  INDEX `fk_certificate_updates_development_certificate_updates_` (`certificate_updates_created_by` ASC) VISIBLE,
  INDEX `fk_certificate_updates_development_certificate_updates_cert_idx` (`certificate_updates_certificate_id` ASC) VISIBLE,
  CONSTRAINT `fk_certificate_updates_development_certificate_updates_`
    FOREIGN KEY (`certificate_updates_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_certificate_updates_development_certificate_updates_cert`
    FOREIGN KEY (`certificate_updates_certificate_id`)
    REFERENCES `atlas`.`certificate_development` (`certificate_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`client_source`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`client_source` (
  `client_source_id` TINYINT NOT NULL AUTO_INCREMENT,
  `client_source_name` VARCHAR(30) NULL DEFAULT NULL,
  PRIMARY KEY (`client_source_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`comparison_period`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`comparison_period` (
  `comparison_period_id` TINYINT NOT NULL AUTO_INCREMENT,
  `comparison_period_name` VARCHAR(50) NULL DEFAULT NULL,
  `comparison_period_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`comparison_period_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`date_range`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`date_range` (
  `date_range_id` TINYINT NOT NULL AUTO_INCREMENT,
  `date_range_name` VARCHAR(50) NULL DEFAULT NULL,
  `date_range_sort` TINYINT NULL DEFAULT NULL,
  `date_range_period` TEXT NULL DEFAULT NULL,
  `date_range_date_format` VARCHAR(20) NULL DEFAULT NULL,
  `date_range_group` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`date_range_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`development_updates`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`development_updates` (
  `development_updates_id` INT NOT NULL AUTO_INCREMENT,
  `development_updates_development_id` INT NULL DEFAULT NULL,
  `development_updates_notes` TEXT NULL DEFAULT NULL,
  `development_updates_date_created` DATETIME NULL DEFAULT NULL,
  `development_updates_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`development_updates_id`),
  INDEX `fk_development_updates_development_updates_development_` (`development_updates_development_id` ASC) VISIBLE,
  INDEX `fk_development_updates_development_updates_created_by` (`development_updates_created_by` ASC) VISIBLE,
  CONSTRAINT `fk_development_updates_development_updates_created_by`
    FOREIGN KEY (`development_updates_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_development_updates_development_updates_development_`
    FOREIGN KEY (`development_updates_development_id`)
    REFERENCES `atlas`.`development` (`development_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`directory_trades`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`directory_trades` (
  `directory_trades_id` INT NOT NULL AUTO_INCREMENT,
  `directory_trades_name` VARCHAR(100) NULL DEFAULT NULL,
  PRIMARY KEY (`directory_trades_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`directory_to_trades`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`directory_to_trades` (
  `directory_to_trades_id` INT NOT NULL AUTO_INCREMENT,
  `directory_id` INT NOT NULL,
  `directory_trades_id` INT NOT NULL,
  PRIMARY KEY (`directory_to_trades_id`),
  INDEX `fk_directory_to_trades_directory_id_idx` (`directory_id` ASC) VISIBLE,
  INDEX `fk_directory_to_trades_directory_trades_id_idx` (`directory_trades_id` ASC) VISIBLE,
  CONSTRAINT `fk_directory_to_trades_directory_id`
    FOREIGN KEY (`directory_id`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_directory_to_trades_directory_trades_id`
    FOREIGN KEY (`directory_trades_id`)
    REFERENCES `atlas`.`directory_trades` (`directory_trades_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`document_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`document_type` (
  `document_type_id` INT NOT NULL AUTO_INCREMENT,
  `document_type_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`document_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`email_template_category`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`email_template_category` (
  `email_template_category_id` TINYINT NOT NULL AUTO_INCREMENT,
  `email_template_category_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`email_template_category_id`),
  INDEX `email_template_category_id` (`email_template_category_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`email_template`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`email_template` (
  `email_template_id` INT NOT NULL AUTO_INCREMENT,
  `email_template_name` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `email_template_category` TINYINT NULL DEFAULT NULL,
  `email_template_to` TEXT NULL DEFAULT NULL,
  `email_template_cc` TEXT NULL DEFAULT NULL,
  `email_template_bcc` TEXT NULL DEFAULT NULL,
  `email_template_subject` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `email_template_body` TEXT NULL DEFAULT NULL,
  `email_template_date_created` DATETIME NULL DEFAULT NULL,
  `email_template_date_updated` DATETIME NULL DEFAULT NULL,
  `email_template_created_by` INT NULL DEFAULT NULL,
  `email_template_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`email_template_id`),
  INDEX `email_template_category` (`email_template_category` ASC) VISIBLE,
  INDEX `email_template_id` (`email_template_id` ASC) VISIBLE,
  INDEX `email_template_created_by` (`email_template_created_by` ASC, `email_template_updated_by` ASC) VISIBLE,
  INDEX `fk_email_template_email_template_updated_by` (`email_template_updated_by` ASC) VISIBLE,
  CONSTRAINT `fk_email_template_email_template_created_by`
    FOREIGN KEY (`email_template_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_email_template_email_template_updated_by`
    FOREIGN KEY (`email_template_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_email_template_email_template_category`
    FOREIGN KEY (`email_template_category`)
    REFERENCES `atlas`.`email_template_category` (`email_template_category_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`employee_department`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`employee_department` (
  `employee_department_id` TINYINT NOT NULL AUTO_INCREMENT,
  `employee_department_name` VARCHAR(50) NULL DEFAULT NULL,
  `employee_department_name2` VARCHAR(75) NULL DEFAULT NULL,
  PRIMARY KEY (`employee_department_id`),
  INDEX `employee_department_id` (`employee_department_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`employee_group_delete`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`employee_group_delete` (
  `employee_group_id` INT NOT NULL AUTO_INCREMENT,
  `employee_group_name` VARCHAR(20) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`employee_group_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`employee_login_log`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`employee_login_log` (
  `employee_login_log_id` INT NOT NULL AUTO_INCREMENT,
  `employee_login_log_employee_id` INT NULL DEFAULT NULL,
  `employee_login_log_start_date_time` DATETIME NULL DEFAULT NULL,
  `employee_login_log_date_time` DATETIME NULL DEFAULT NULL,
  `employee_login_log_minutes_late` SMALLINT NULL DEFAULT NULL,
  `employee_login_log_ip_address` VARCHAR(45) NULL DEFAULT NULL,
  `employee_login_log_notes` TEXT NULL DEFAULT NULL,
  `employee_login_log_active` TINYINT NOT NULL DEFAULT '1',
  `employee_login_log_date_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `employee_login_log_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`employee_login_log_id`),
  INDEX `employee_login_log_employee_id` (`employee_login_log_employee_id` ASC) VISIBLE,
  INDEX `employee_login_log_active` (`employee_login_log_active` ASC) VISIBLE,
  INDEX `employee_login_log_id` (`employee_login_log_id` ASC) VISIBLE,
  INDEX `employee_login_log_date_time` (`employee_login_log_date_time` ASC) VISIBLE,
  INDEX `fk_employee_login_log_employee_login_log_updated_by` (`employee_login_log_updated_by` ASC) VISIBLE,
  CONSTRAINT `fk_employee_login_log_employee_login_log_employee_id`
    FOREIGN KEY (`employee_login_log_employee_id`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_employee_login_log_employee_login_log_updated_by`
    FOREIGN KEY (`employee_login_log_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`employee_mileage`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`employee_mileage` (
  `employee_mileage_id` INT NOT NULL AUTO_INCREMENT,
  `employee_mileage_employee_id` INT NULL DEFAULT NULL,
  `employee_mileage_vehicle_id` INT NULL DEFAULT NULL,
  `employee_mileage_journey_date` DATE NULL DEFAULT NULL,
  `employee_mileage_start_postcode` VARCHAR(8) NULL DEFAULT NULL,
  `employee_mileage_end_postcode` VARCHAR(8) NULL DEFAULT NULL,
  `employee_mileage_mileage` DECIMAL(6,2) NULL DEFAULT NULL,
  `employee_mileage_notes` VARCHAR(255) NULL DEFAULT NULL,
  `employee_mileage_date_created` DATETIME NULL DEFAULT NULL,
  `employee_mileage_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`employee_mileage_id`),
  INDEX `employee_mileage_employee_id` (`employee_mileage_employee_id` ASC, `employee_mileage_vehicle_id` ASC, `employee_mileage_journey_date` ASC, `employee_mileage_date_created` ASC, `employee_mileage_created_by` ASC) VISIBLE,
  INDEX `fk_employee_mileage_employee_mileage_created_by` (`employee_mileage_created_by` ASC) VISIBLE,
  INDEX `fk_employee_mileage_employee_mileage_vehicle_id` (`employee_mileage_vehicle_id` ASC) VISIBLE,
  CONSTRAINT `fk_employee_mileage_employee_mileage_created_by`
    FOREIGN KEY (`employee_mileage_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_employee_mileage_employee_mileage_employee_id`
    FOREIGN KEY (`employee_mileage_employee_id`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_employee_mileage_employee_mileage_vehicle_id`
    FOREIGN KEY (`employee_mileage_vehicle_id`)
    REFERENCES `atlas`.`vehicle` (`vehicle_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`employee_permissions_category`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`employee_permissions_category` (
  `employee_permissions_category_id` TINYINT NOT NULL AUTO_INCREMENT,
  `employee_permissions_category_name` VARCHAR(50) NULL DEFAULT NULL,
  `employee_permissions_category_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`employee_permissions_category_id`),
  INDEX `employee_permissions_category_id` (`employee_permissions_category_id` ASC, `employee_permissions_category_sort` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`employee_permissions`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`employee_permissions` (
  `employee_permissions_id` TINYINT NOT NULL AUTO_INCREMENT,
  `employee_permissions_name` VARCHAR(150) NULL DEFAULT NULL,
  `employee_permissions_category` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`employee_permissions_id`),
  INDEX `employee_permissions_id` (`employee_permissions_id` ASC, `employee_permissions_category` ASC) VISIBLE,
  INDEX `fk_employee_permissions_employee_permissions_category_idx` (`employee_permissions_category` ASC) VISIBLE,
  CONSTRAINT `fk_employee_permissions_employee_permissions_category`
    FOREIGN KEY (`employee_permissions_category`)
    REFERENCES `atlas`.`employee_permissions_category` (`employee_permissions_category_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`employee_role`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`employee_role` (
  `employee_role_id` INT NOT NULL AUTO_INCREMENT,
  `employee_role_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`employee_role_id`),
  INDEX `employee_role_id` (`employee_role_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`employee_to_department`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`employee_to_department` (
  `employee_to_department_id` INT NOT NULL AUTO_INCREMENT,
  `employee_id` INT NULL DEFAULT NULL,
  `employee_department_id` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`employee_to_department_id`),
  INDEX `fk_employee_to_department_employee_id_idx` (`employee_id` ASC) VISIBLE,
  INDEX `fk_employee_to_department_employee_department_id_idx` (`employee_department_id` ASC) VISIBLE,
  CONSTRAINT `fk_employee_to_department_employee_id`
    FOREIGN KEY (`employee_id`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_employee_to_department_employee_department_id`
    FOREIGN KEY (`employee_department_id`)
    REFERENCES `atlas`.`employee_department` (`employee_department_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`employee_to_permissions`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`employee_to_permissions` (
  `employee_to_permissions_id` INT NOT NULL AUTO_INCREMENT,
  `employee_id` INT NULL DEFAULT NULL,
  `employee_permissions_id` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`employee_to_permissions_id`),
  INDEX `employee_to_permissions_id` (`employee_to_permissions_id` ASC, `employee_id` ASC, `employee_permissions_id` ASC) VISIBLE,
  INDEX `fk_employee_to_permissions_employee_id _idx` (`employee_id` ASC) VISIBLE,
  INDEX `fk_employee_to_permissions_employee_permissions_id_idx` (`employee_permissions_id` ASC) VISIBLE,
  CONSTRAINT `fk_employee_to_permissions_employee_id `
    FOREIGN KEY (`employee_id`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_employee_to_permissions_employee_permissions_id`
    FOREIGN KEY (`employee_permissions_id`)
    REFERENCES `atlas`.`employee_permissions` (`employee_permissions_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`employee_to_role`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`employee_to_role` (
  `employee_to_role_id` INT NOT NULL AUTO_INCREMENT,
  `employee_id` INT NULL DEFAULT NULL,
  `employee_role_id` INT NULL DEFAULT NULL,
  PRIMARY KEY (`employee_to_role_id`),
  INDEX `employee_to_role_id` (`employee_to_role_id` ASC, `employee_id` ASC, `employee_role_id` ASC) VISIBLE,
  INDEX `fk_employee_to_role_employee_id_idx` (`employee_id` ASC, `employee_role_id` ASC) VISIBLE,
  INDEX `fk_employee_to_role_employee_role_id_idx` (`employee_role_id` ASC) VISIBLE,
  CONSTRAINT `fk_employee_to_role_employee`
    FOREIGN KEY (`employee_id`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_employee_to_role_role`
    FOREIGN KEY (`employee_role_id`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_employee_to_role_employee_role_id`
    FOREIGN KEY (`employee_role_id`)
    REFERENCES `atlas`.`employee_role` (`employee_role_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`export_date_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`export_date_type` (
  `export_date_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `export_date_type_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`export_date_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`export_data`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`export_data` (
  `export_data_id` INT NOT NULL AUTO_INCREMENT,
  `export_data_type` TINYINT NULL DEFAULT NULL,
  `export_data_date_exported` DATETIME NULL DEFAULT NULL,
  `export_data_last_invoice_posted_date` DATETIME NULL DEFAULT NULL,
  `export_data_last_invoice_credit_posted_date` DATETIME NULL DEFAULT NULL,
  `export_data_last_bacs_file_entry_date` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`export_data_id`),
  INDEX `fk_export_data_export_data_type_idx` (`export_data_type` ASC) VISIBLE,
  CONSTRAINT `fk_export_data_export_data_type`
    FOREIGN KEY (`export_data_type`)
    REFERENCES `atlas`.`export_date_type` (`export_date_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`guarantor`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`guarantor` (
  `guarantor_id` INT NOT NULL AUTO_INCREMENT,
  `guarantor_title` TINYINT NULL DEFAULT NULL,
  `guarantor_first_name` VARCHAR(30) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `guarantor_surname` VARCHAR(30) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `guarantor_phone_home` VARCHAR(255) NULL DEFAULT NULL,
  `guarantor_phone_work` VARCHAR(255) NULL DEFAULT NULL,
  `guarantor_phone_mobile` VARCHAR(255) NULL DEFAULT NULL,
  `guarantor_fax` VARCHAR(20) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `guarantor_email` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `guarantor_property_number_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `guarantor_apartment_number_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `guarantor_address_line_1` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `guarantor_address_line_2` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `guarantor_suburb` VARCHAR(255) NULL DEFAULT NULL,
  `guarantor_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `guarantor_postcode` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `guarantor_country` INT NULL DEFAULT NULL,
  `guarantor_dob` DATE NULL DEFAULT NULL,
  `guarantor_passport_number` VARCHAR(10) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `guarantor_notes` TEXT CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `guarantor_bank_name` TINYINT NULL DEFAULT NULL,
  `guarantor_bank_sort_code` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `guarantor_bank_account_number` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `guarantor_bank_account_name` VARCHAR(100) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `guarantor_date_created` DATETIME NULL DEFAULT NULL,
  `guarantor_date_updated` DATETIME NULL DEFAULT NULL,
  `guarantor_created_by` INT NULL DEFAULT NULL,
  `guarantor_updated_by` INT NULL DEFAULT NULL,
  `guarantor_online_login_username` VARCHAR(255) NULL DEFAULT NULL,
  `guarantor_online_login_password` VARCHAR(255) NULL DEFAULT NULL,
  `guarantor_nino` VARCHAR(13) NULL DEFAULT NULL,
  `guarantor_employment_status` TINYINT NULL DEFAULT NULL,
  `guarantor_employer_name` VARCHAR(255) NULL DEFAULT NULL,
  `guarantor_driving_licence_number` VARCHAR(20) NULL DEFAULT NULL,
  `guarantor_income` DECIMAL(9,2) NULL DEFAULT NULL,
  `guarantor_income_frequency` TINYINT NULL DEFAULT NULL,
  `guarantor_income_notes` TEXT NULL DEFAULT NULL,
  `guarantor_online_account` TINYINT NULL DEFAULT NULL,
  `guarantor_referencing_provider` INT NULL DEFAULT NULL,
  `guarantor_referencing_provider_reference` VARCHAR(20) NULL DEFAULT NULL,
  `guarantor_branch` INT NULL DEFAULT NULL,
  PRIMARY KEY (`guarantor_id`),
  UNIQUE INDEX `landlord_online_login_username` (`guarantor_online_login_username` ASC) VISIBLE,
  INDEX `fk_guarantor_guarantor_created_by` (`guarantor_created_by` ASC) VISIBLE,
  INDEX `fk_guarantor_guarantor_updated_by` (`guarantor_updated_by` ASC) VISIBLE,
  INDEX `fk_guarantor_guarantor_branch` (`guarantor_branch` ASC) VISIBLE,
  INDEX `fk_guarantor_guarantor_title` (`guarantor_title` ASC) VISIBLE,
  INDEX `fk_guarantor_guarantor_bank_name` (`guarantor_bank_name` ASC) VISIBLE,
  INDEX `fk_guarantor_guarantor_country_idx` (`guarantor_country` ASC) VISIBLE,
  INDEX `fk_guarantor_guarantor_employment_status_idx` (`guarantor_employment_status` ASC) VISIBLE,
  INDEX `fk_guarantor_guarantor_referencing_provider_idx` (`guarantor_referencing_provider` ASC) VISIBLE,
  CONSTRAINT `fk_guarantor_guarantor_bank_name`
    FOREIGN KEY (`guarantor_bank_name`)
    REFERENCES `atlas`.`bank` (`bank_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_guarantor_guarantor_branch`
    FOREIGN KEY (`guarantor_branch`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_guarantor_guarantor_created_by`
    FOREIGN KEY (`guarantor_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_guarantor_guarantor_title`
    FOREIGN KEY (`guarantor_title`)
    REFERENCES `atlas`.`title` (`title_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_guarantor_guarantor_updated_by`
    FOREIGN KEY (`guarantor_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_guarantor_guarantor_country`
    FOREIGN KEY (`guarantor_country`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_guarantor_guarantor_employment_status`
    FOREIGN KEY (`guarantor_employment_status`)
    REFERENCES `atlas`.`employment_status` (`employment_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_guarantor_guarantor_referencing_provider`
    FOREIGN KEY (`guarantor_referencing_provider`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`income_frequency`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`income_frequency` (
  `income_frequency_id` TINYINT NOT NULL AUTO_INCREMENT,
  `income_frequency_name` VARCHAR(15) NULL DEFAULT NULL,
  `income_frequency_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`income_frequency_id`),
  UNIQUE INDEX `income_frequency_sort` (`income_frequency_sort` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`guarantor_income`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`guarantor_income` (
  `guarantor_income_id` INT NOT NULL AUTO_INCREMENT,
  `guarantor_income_guarantor_id` INT NULL DEFAULT NULL,
  `guarantor_income_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `guarantor_income_frequency` TINYINT NULL DEFAULT NULL,
  `guarantor_income_source` VARCHAR(255) NULL DEFAULT NULL,
  PRIMARY KEY (`guarantor_income_id`),
  INDEX `fk_guarantor_income_guarantor_income_guarantor_id` (`guarantor_income_guarantor_id` ASC) VISIBLE,
  INDEX `fk_guarantor_income_guarantor_income_frequency_idx` (`guarantor_income_frequency` ASC) VISIBLE,
  CONSTRAINT `fk_guarantor_income_guarantor_income_guarantor_id`
    FOREIGN KEY (`guarantor_income_guarantor_id`)
    REFERENCES `atlas`.`guarantor` (`guarantor_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_guarantor_income_guarantor_income_frequency`
    FOREIGN KEY (`guarantor_income_frequency`)
    REFERENCES `atlas`.`income_frequency` (`income_frequency_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`interested_applicant`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`interested_applicant` (
  `interested_applicant_id` INT NOT NULL AUTO_INCREMENT,
  `interested_applicant_applicant_id` INT NULL DEFAULT NULL,
  `interested_applicant_property` INT NULL DEFAULT NULL,
  `interested_applicant_notes` TEXT NULL DEFAULT NULL,
  `interested_applicant_status` TINYINT(1) NOT NULL DEFAULT '2',
  `interested_applicant_status_reason` TEXT NULL DEFAULT NULL,
  `interested_applicant_date_created` DATETIME NULL DEFAULT NULL,
  `interested_applicant_date_updated` DATETIME NULL DEFAULT NULL,
  `interested_applicant_created_by` INT NULL DEFAULT NULL,
  `interested_applicant_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`interested_applicant_id`),
  UNIQUE INDEX `unique_applicants` (`interested_applicant_applicant_id` ASC, `interested_applicant_property` ASC) VISIBLE,
  INDEX `interested_applicant_date_created` (`interested_applicant_date_created` ASC) VISIBLE,
  INDEX `fk_interested_applicant_interested_applicant_property` (`interested_applicant_property` ASC) VISIBLE,
  INDEX `fk_interested_applicant_interested_applicant_created_by` (`interested_applicant_created_by` ASC) VISIBLE,
  INDEX `fk_interested_applicant_interested_applicant_updated_by` (`interested_applicant_updated_by` ASC) VISIBLE,
  CONSTRAINT `fk_interested_applicant_interested_applicant_applicant_`
    FOREIGN KEY (`interested_applicant_applicant_id`)
    REFERENCES `atlas`.`applicant` (`applicant_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_interested_applicant_interested_applicant_created_by`
    FOREIGN KEY (`interested_applicant_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_interested_applicant_interested_applicant_id`
    FOREIGN KEY (`interested_applicant_id`)
    REFERENCES `atlas`.`applicant` (`applicant_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_interested_applicant_interested_applicant_property`
    FOREIGN KEY (`interested_applicant_property`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_interested_applicant_interested_applicant_updated_by`
    FOREIGN KEY (`interested_applicant_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`interested_applicant_updates`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`interested_applicant_updates` (
  `interested_applicant_updates_id` INT NOT NULL AUTO_INCREMENT,
  `interested_applicant_updates_interested_applicant_id` INT NULL DEFAULT NULL,
  `interested_applicant_updates_private_notes` TEXT NULL DEFAULT NULL,
  `interested_applicant_updates_date_created` DATETIME NULL DEFAULT NULL,
  `interested_applicant_updates_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`interested_applicant_updates_id`),
  INDEX `applicant_updates_id` (`interested_applicant_updates_id` ASC, `interested_applicant_updates_interested_applicant_id` ASC, `interested_applicant_updates_created_by` ASC) VISIBLE,
  INDEX `fk_interested_applicant_updates_interested_applicant_up` (`interested_applicant_updates_interested_applicant_id` ASC) VISIBLE,
  INDEX `fk_interested_applicant_updates_interested_applicant_up_1` (`interested_applicant_updates_created_by` ASC) VISIBLE,
  CONSTRAINT `fk_interested_applicant_updates_interested_applicant_up`
    FOREIGN KEY (`interested_applicant_updates_interested_applicant_id`)
    REFERENCES `atlas`.`applicant` (`applicant_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_interested_applicant_updates_interested_applicant_up_1`
    FOREIGN KEY (`interested_applicant_updates_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`invoice_updates`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`invoice_updates` (
  `invoice_updates_id` INT NOT NULL AUTO_INCREMENT,
  `invoice_updates_invoice_id` INT NULL DEFAULT NULL,
  `invoice_updates_private_notes` TEXT NULL DEFAULT NULL,
  `invoice_updates_date_created` DATETIME NULL DEFAULT NULL,
  `invoice_updates_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`invoice_updates_id`),
  INDEX `applicant_updates_id` (`invoice_updates_id` ASC, `invoice_updates_invoice_id` ASC, `invoice_updates_created_by` ASC) VISIBLE,
  INDEX `fk_invoice_updates_invoice_updates_invoice_id` (`invoice_updates_invoice_id` ASC) VISIBLE,
  INDEX `fk_invoice_updates_invoice_updates_created_by` (`invoice_updates_created_by` ASC) VISIBLE,
  CONSTRAINT `fk_invoice_updates_invoice_updates_created_by`
    FOREIGN KEY (`invoice_updates_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_invoice_updates_invoice_updates_invoice_id`
    FOREIGN KEY (`invoice_updates_invoice_id`)
    REFERENCES `atlas`.`accounts_invoice` (`invoice_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`key_safe_location`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`key_safe_location` (
  `key_safe_location_id` TINYINT NOT NULL AUTO_INCREMENT,
  `key_safe_location_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`key_safe_location_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`key_safe`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`key_safe` (
  `key_safe_id` INT NOT NULL AUTO_INCREMENT,
  `key_safe_property` INT NULL DEFAULT NULL,
  `key_safe_development` INT NULL DEFAULT NULL,
  `key_safe_code` VARCHAR(10) NULL DEFAULT NULL,
  `key_safe_location` TINYINT NULL DEFAULT NULL,
  `key_safe_contains` TEXT NULL DEFAULT NULL,
  `key_safe_notes` TEXT NULL DEFAULT NULL,
  `key_safe_date_added` DATE NULL DEFAULT NULL,
  `key_safe_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`key_safe_id`),
  INDEX `fk_key_safe_key_safe_property` (`key_safe_property` ASC) VISIBLE,
  INDEX `fk_key_safe_key_safe_development` (`key_safe_development` ASC) VISIBLE,
  INDEX `fk_key_safe_key_safe_created_by` (`key_safe_created_by` ASC) VISIBLE,
  INDEX `fk_key_safe_key_safe_location_idx` (`key_safe_location` ASC) VISIBLE,
  CONSTRAINT `fk_key_safe_key_safe_created_by`
    FOREIGN KEY (`key_safe_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_key_safe_key_safe_development`
    FOREIGN KEY (`key_safe_development`)
    REFERENCES `atlas`.`development` (`development_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_key_safe_key_safe_property`
    FOREIGN KEY (`key_safe_property`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_key_safe_key_safe_location`
    FOREIGN KEY (`key_safe_location`)
    REFERENCES `atlas`.`key_safe_location` (`key_safe_location_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`keys_add_from`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`keys_add_from` (
  `keys_add_from_id` TINYINT NOT NULL AUTO_INCREMENT,
  `keys_add_from_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`keys_add_from_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`keys_add`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`keys_add` (
  `keys_add_id` INT NOT NULL AUTO_INCREMENT,
  `keys_add_property` INT NULL DEFAULT NULL,
  `keys_add_from` TINYINT NULL DEFAULT NULL,
  `keys_add_quantity` TINYINT NULL DEFAULT NULL,
  `keys_add_notes` TEXT NULL DEFAULT NULL,
  `keys_add_date_created` DATETIME NULL DEFAULT NULL,
  `keys_add_date_updated` DATETIME NULL DEFAULT NULL,
  `keys_add_created_by` INT NULL DEFAULT NULL,
  `keys_add_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`keys_add_id`),
  INDEX `fk_keys_add_keys_add_property` (`keys_add_property` ASC) VISIBLE,
  INDEX `fk_keys_add_keys_add_created_by` (`keys_add_created_by` ASC) VISIBLE,
  INDEX `fk_keys_add_keys_add_updated_by` (`keys_add_updated_by` ASC) VISIBLE,
  INDEX `fk_keys_add_keys_add_from_idx` (`keys_add_from` ASC) VISIBLE,
  CONSTRAINT `fk_keys_add_keys_add_created_by`
    FOREIGN KEY (`keys_add_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_keys_add_keys_add_property`
    FOREIGN KEY (`keys_add_property`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_keys_add_keys_add_updated_by`
    FOREIGN KEY (`keys_add_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_keys_add_keys_add_from`
    FOREIGN KEY (`keys_add_from`)
    REFERENCES `atlas`.`keys_add_from` (`keys_add_from_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1;


-- -----------------------------------------------------
-- Table `atlas`.`keys_transaction`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`keys_transaction` (
  `keys_transaction_id` INT NOT NULL AUTO_INCREMENT,
  `keys_transaction_set_id` INT NULL DEFAULT NULL,
  `keys_transaction_property` INT NULL DEFAULT NULL,
  `keys_transaction_client_type` INT NULL DEFAULT NULL,
  `keys_transaction_client` INT NULL DEFAULT NULL,
  `keys_transaction_quantity` TINYINT NULL DEFAULT NULL,
  `keys_transaction_out` DATETIME NULL DEFAULT NULL,
  `keys_transaction_employee` INT NULL DEFAULT NULL,
  `keys_transaction_notes` TEXT NULL DEFAULT NULL,
  `keys_transaction_notes_private` TEXT NULL DEFAULT NULL,
  `keys_transaction_in` DATETIME NULL DEFAULT NULL,
  `keys_transaction_in_employee` INT NULL DEFAULT NULL,
  `keys_transaction_email_reminders` TINYINT NULL DEFAULT '1',
  `keys_transaction_due_back` TINYINT NULL DEFAULT NULL,
  `keys_transaction_date_created` DATETIME NULL DEFAULT NULL,
  `keys_transaction_date_updated` DATETIME NULL DEFAULT NULL,
  `keys_transaction_created_by` INT NULL DEFAULT NULL,
  `keys_transaction_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`keys_transaction_id`),
  INDEX `keys_transaction_property` (`keys_transaction_property` ASC) VISIBLE,
  INDEX `keys_transaction_client_type` (`keys_transaction_client_type` ASC, `keys_transaction_client` ASC) VISIBLE,
  INDEX `keys_transaction_employee` (`keys_transaction_employee` ASC, `keys_transaction_in_employee` ASC, `keys_transaction_due_back` ASC) VISIBLE,
  INDEX `keys_transaction_set_id` (`keys_transaction_set_id` ASC) VISIBLE,
  INDEX `fk_keys_transaction_keys_transaction_in_employee` (`keys_transaction_in_employee` ASC) VISIBLE,
  INDEX `fk_keys_transaction_keys_transaction_created_by` (`keys_transaction_created_by` ASC) VISIBLE,
  INDEX `fk_keys_transaction_keys_transaction_updated_by` (`keys_transaction_updated_by` ASC) VISIBLE,
  CONSTRAINT `fk_keys_transaction_keys_transaction_client_type`
    FOREIGN KEY (`keys_transaction_client_type`)
    REFERENCES `atlas`.`customer_type` (`customer_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_keys_transaction_keys_transaction_created_by`
    FOREIGN KEY (`keys_transaction_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_keys_transaction_keys_transaction_employee`
    FOREIGN KEY (`keys_transaction_employee`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_keys_transaction_keys_transaction_in_employee`
    FOREIGN KEY (`keys_transaction_in_employee`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_keys_transaction_keys_transaction_property`
    FOREIGN KEY (`keys_transaction_property`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_keys_transaction_keys_transaction_updated_by`
    FOREIGN KEY (`keys_transaction_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_keys_transaction_keys_transaction_set_id`
    FOREIGN KEY (`keys_transaction_set_id`)
    REFERENCES `atlas`.`keys_add` (`keys_add_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1;


-- -----------------------------------------------------
-- Table `atlas`.`key_transaction_updates`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`key_transaction_updates` (
  `key_transaction_updates_id` INT NOT NULL AUTO_INCREMENT,
  `key_transaction_updates_keys_transaction_id` INT NULL DEFAULT NULL,
  `key_transaction_updates_private_notes` TEXT NULL DEFAULT NULL,
  `key_transaction_updates_date_created` DATETIME NULL DEFAULT NULL,
  `key_transaction_updates_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`key_transaction_updates_id`),
  INDEX `fk_key_transaction_updates_key_transaction_updates_crea` (`key_transaction_updates_created_by` ASC) VISIBLE,
  INDEX `fk_key_transaction_updates_key_transaction_updates_keys_tra_idx` (`key_transaction_updates_keys_transaction_id` ASC) VISIBLE,
  CONSTRAINT `fk_key_transaction_updates_key_transaction_updates_crea`
    FOREIGN KEY (`key_transaction_updates_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_key_transaction_updates_key_transaction_updates_keys_tra`
    FOREIGN KEY (`key_transaction_updates_keys_transaction_id`)
    REFERENCES `atlas`.`keys_transaction` (`keys_transaction_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`keys_log_location`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`keys_log_location` (
  `keys_log_location_id` INT NOT NULL AUTO_INCREMENT,
  `property_id` INT NULL DEFAULT NULL,
  `keys_location` INT NULL DEFAULT NULL,
  `keys_log_location_updated_by` INT NULL DEFAULT NULL,
  `keys_log_location_date_updated` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`keys_log_location_id`),
  INDEX `fk_keys_log_location_keys_log_location_updated_by` (`keys_log_location_updated_by` ASC) VISIBLE,
  INDEX `fk_keys_log_location_property_id_idx` (`property_id` ASC) VISIBLE,
  INDEX `fk_keys_log_location_keys_location_idx` (`keys_location` ASC) VISIBLE,
  CONSTRAINT `fk_keys_log_location_keys_log_location_updated_by`
    FOREIGN KEY (`keys_log_location_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_keys_log_location_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_keys_log_location_keys_location`
    FOREIGN KEY (`keys_location`)
    REFERENCES `atlas`.`keys_location` (`keys_location_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`keys_transaction_delet`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`keys_transaction_delet` (
  `keys_transaction_id` INT NOT NULL AUTO_INCREMENT,
  `keys_transaction_property` INT NULL DEFAULT NULL,
  `keys_transaction_quantity` TINYINT NULL DEFAULT NULL,
  `keys_transaction_to_person` VARCHAR(100) NULL DEFAULT NULL,
  `keys_transaction_to` INT NULL DEFAULT NULL,
  `keys_transaction_out` DATETIME NULL DEFAULT NULL,
  `keys_transaction_due_in` DATETIME NULL DEFAULT NULL,
  `keys_transaction_in` DATETIME NULL DEFAULT NULL,
  `keys_transaction_notes` TEXT NULL DEFAULT NULL,
  `keys_transaction_status` TINYINT NULL DEFAULT NULL,
  `keys_transaction_date_created` DATETIME NULL DEFAULT NULL,
  `keys_transaction_date_updated` DATETIME NULL DEFAULT NULL,
  `keys_transaction_created_by` INT NULL DEFAULT NULL,
  `keys_transaction_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`keys_transaction_id`),
  INDEX `fk_keys_transaction_delet_keys_transaction_property` (`keys_transaction_property` ASC) VISIBLE,
  INDEX `fk_keys_transaction_delet_keys_transaction_created_by` (`keys_transaction_created_by` ASC) VISIBLE,
  INDEX `fk_keys_transaction_delet_keys_transaction_updated_by` (`keys_transaction_updated_by` ASC) VISIBLE,
  CONSTRAINT `fk_keys_transaction_delet_keys_transaction_created_by`
    FOREIGN KEY (`keys_transaction_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_keys_transaction_delet_keys_transaction_property`
    FOREIGN KEY (`keys_transaction_property`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_keys_transaction_delet_keys_transaction_updated_by`
    FOREIGN KEY (`keys_transaction_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1;


-- -----------------------------------------------------
-- Table `atlas`.`keys_transaction_status_delet`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`keys_transaction_status_delet` (
  `keys_transaction_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `keys_transaction_status_name` VARCHAR(15) NULL DEFAULT NULL,
  `keys_transaction_status_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`keys_transaction_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`landlord_attachments`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`landlord_attachments` (
  `landlord_attachments_id` INT NOT NULL AUTO_INCREMENT,
  `landlord_id` INT NULL DEFAULT NULL,
  `landlord_attachments_file_name` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `landlord_attachments_file_size` INT UNSIGNED NULL DEFAULT NULL,
  `landlord_attachments_caption` VARCHAR(100) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `landlord_attachments_sort` TINYINT NULL DEFAULT NULL,
  `landlord_attachments_date_created` DATETIME NULL DEFAULT NULL,
  `landlord_attachments_created_by` INT NULL DEFAULT NULL,
  `landlord_attachments_document_type_id` INT NULL DEFAULT NULL,
  PRIMARY KEY (`landlord_attachments_id`),
  INDEX `landlord_id` (`landlord_id` ASC) VISIBLE,
  INDEX `fk_landlord_attachments_landlord_attachments_created_by` (`landlord_attachments_created_by` ASC) VISIBLE,
  INDEX `fk_landlord_attachments_landlord_attachments_document_type__idx` (`landlord_attachments_document_type_id` ASC) VISIBLE,
  CONSTRAINT `fk_landlord_attachments_landlord_attachments_created_by`
    FOREIGN KEY (`landlord_attachments_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_landlord_attachments_landlord_id`
    FOREIGN KEY (`landlord_id`)
    REFERENCES `atlas`.`landlord` (`landlord_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_landlord_attachments_landlord_attachments_document_type_id`
    FOREIGN KEY (`landlord_attachments_document_type_id`)
    REFERENCES `atlas`.`document_type` (`document_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`lead_source`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`lead_source` (
  `lead_source_id` INT NOT NULL AUTO_INCREMENT,
  `lead_source_name` VARCHAR(40) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`lead_source_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`lease_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`lease_type` (
  `lease_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `lease_type_name` VARCHAR(30) NULL DEFAULT NULL,
  PRIMARY KEY (`lease_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`led_pocket_action`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`led_pocket_action` (
  `led_pocket_action_id` TINYINT NOT NULL AUTO_INCREMENT,
  `led_pocket_action_name` VARCHAR(50) NULL DEFAULT NULL,
  `led_pocket_action_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`led_pocket_action_id`),
  UNIQUE INDEX `led_pocket_action_name` (`led_pocket_action_name` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`letting_task`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`letting_task` (
  `letting_task_id` SMALLINT NOT NULL AUTO_INCREMENT,
  `tenancy_id` INT NULL DEFAULT NULL,
  `letting_task_stage` TINYINT NULL DEFAULT NULL,
  `letting_task_name` VARCHAR(100) NULL DEFAULT NULL,
  `letting_task_status` TINYINT NULL DEFAULT NULL,
  `letting_task_notes` TEXT NULL DEFAULT NULL,
  `letting_task_date_completed` DATE NULL DEFAULT NULL,
  `letting_task_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`letting_task_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`letting_task_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`letting_task_status` (
  `letting_task_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `letting_task_status_name` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`letting_task_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`letting_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`letting_type` (
  `letting_type_id` INT NOT NULL AUTO_INCREMENT,
  `letting_type_name` VARCHAR(10) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`letting_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`local_authority_branch_reference`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`local_authority_branch_reference` (
  `local_authority_branch_reference_id` INT NOT NULL AUTO_INCREMENT,
  `local_authority_id` INT NULL DEFAULT NULL,
  `branch_id` INT NULL DEFAULT NULL,
  `local_authority_branch_reference` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`local_authority_branch_reference_id`),
  INDEX `fk_local_authority_branch_reference_local_authority_id_idx` (`local_authority_id` ASC) VISIBLE,
  INDEX `fk_local_authority_branch_reference_branch_id_idx` (`branch_id` ASC) VISIBLE,
  CONSTRAINT `fk_local_authority_branch_reference_local_authority_id`
    FOREIGN KEY (`local_authority_id`)
    REFERENCES `atlas`.`local_authority` (`local_authority_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_local_authority_branch_reference_branch_id`
    FOREIGN KEY (`branch_id`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`media_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`media_type` (
  `media_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `media_type_name` VARCHAR(50) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  PRIMARY KEY (`media_type_id`),
  INDEX `media_type_id` (`media_type_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`motivational_quotes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`motivational_quotes` (
  `motivational_quotes_id` SMALLINT NOT NULL AUTO_INCREMENT,
  `motivational_quotes_text` TEXT NULL DEFAULT NULL,
  PRIMARY KEY (`motivational_quotes_id`),
  UNIQUE INDEX `motivational_quotes_text` (`motivational_quotes_text`(255) ASC) VISIBLE,
  INDEX `motivational_quotes_id` (`motivational_quotes_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`policy_expiry_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`policy_expiry_status` (
  `policy_expiry_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `policy_expiry_status_name` VARCHAR(50) NULL DEFAULT NULL,
  `policy_expiry_status_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`policy_expiry_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`premium_listing_lettings`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`premium_listing_lettings` (
  `premium_listing_id` TINYINT NOT NULL AUTO_INCREMENT,
  `premium_listing_name` VARCHAR(100) NULL DEFAULT NULL,
  `premium_listing_archive` TINYINT NOT NULL DEFAULT '2',
  PRIMARY KEY (`premium_listing_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`programming_task_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`programming_task_status` (
  `programming_task_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `programming_task_status_name` VARCHAR(50) NULL DEFAULT NULL,
  `programming_task_status_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`programming_task_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`programming_task`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`programming_task` (
  `programming_task_id` INT NOT NULL AUTO_INCREMENT,
  `programming_task_description` TEXT CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `programming_task_severity` TINYINT NULL DEFAULT NULL,
  `programming_task_sort` INT NULL DEFAULT NULL,
  `programming_task_status` TINYINT NULL DEFAULT NULL,
  `programming_task_date_created` DATETIME NULL DEFAULT NULL,
  `programming_task_date_updated` DATETIME NULL DEFAULT NULL,
  `programming_task_created_by` INT NULL DEFAULT NULL,
  `programming_task_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`programming_task_id`),
  INDEX `fk_programming_task_programming_task_created_by` (`programming_task_created_by` ASC) VISIBLE,
  INDEX `fk_programming_task_programming_task_updated_by` (`programming_task_updated_by` ASC) VISIBLE,
  INDEX `fk_programming_task_programming_task_status_idx` (`programming_task_status` ASC) VISIBLE,
  CONSTRAINT `fk_programming_task_programming_task_created_by`
    FOREIGN KEY (`programming_task_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_programming_task_programming_task_updated_by`
    FOREIGN KEY (`programming_task_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_programming_task_programming_task_status`
    FOREIGN KEY (`programming_task_status`)
    REFERENCES `atlas`.`programming_task_status` (`programming_task_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_accessibility`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_accessibility` (
  `property_accessibility_id` INT NOT NULL DEFAULT '0',
  `property_accessibility_name` VARCHAR(40) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`property_accessibility_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_appliances`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_appliances` (
  `property_appliances_id` INT NOT NULL AUTO_INCREMENT,
  `property_appliances_name` VARCHAR(60) NULL DEFAULT NULL,
  `property_appliances_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`property_appliances_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_entrance_floor`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_entrance_floor` (
  `property_entrance_floor_id` INT NOT NULL,
  `property_entrance_floor_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `property_entrance_floor_sort` TINYINT(1) NULL DEFAULT NULL,
  PRIMARY KEY (`property_entrance_floor_id`),
  UNIQUE INDEX `property_entrance_floor_sort` (`property_entrance_floor_sort` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_features`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_features` (
  `property_features_id` INT NOT NULL AUTO_INCREMENT,
  `property_features_name` VARCHAR(200) NULL DEFAULT NULL,
  PRIMARY KEY (`property_features_id`),
  INDEX `property_features_name` (`property_features_name` ASC) VISIBLE,
  INDEX `property_features_name_2` (`property_features_name` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_files`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_files` (
  `file_id` INT NOT NULL AUTO_INCREMENT,
  `property_id` INT NOT NULL,
  `filename` VARCHAR(100) CHARACTER SET 'utf8mb3' NOT NULL,
  `caption` VARCHAR(100) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `date_added` DATETIME NULL DEFAULT NULL,
  `sort` MEDIUMINT NULL DEFAULT NULL,
  PRIMARY KEY (`file_id`),
  INDEX `fk_property_files_property_id_idx` (`property_id` ASC) VISIBLE,
  CONSTRAINT `fk_property_files_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_heating`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_heating` (
  `property_heating_id` INT NOT NULL DEFAULT '0',
  `property_heating_name` VARCHAR(30) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`property_heating_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_images`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_images` (
  `image_id` INT NOT NULL AUTO_INCREMENT,
  `property_id` INT NOT NULL,
  `filename` VARCHAR(100) CHARACTER SET 'latin1' NOT NULL,
  `caption` VARCHAR(100) NULL DEFAULT '',
  `filesize` INT UNSIGNED NULL DEFAULT '0',
  `date_added` DATETIME NULL DEFAULT NULL,
  `sort` MEDIUMINT NULL DEFAULT NULL,
  `sort_highlights` MEDIUMINT NULL DEFAULT '127',
  `floor_plan` TINYINT NULL DEFAULT '0',
  PRIMARY KEY (`image_id`),
  INDEX `property_images_property_id_idx` (`property_id` ASC) VISIBLE,
  CONSTRAINT `property_images_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_landlord`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_landlord` (
  `property_landlord_id` INT NOT NULL AUTO_INCREMENT,
  `property_id` INT NULL DEFAULT NULL,
  `landlord_id` INT NULL DEFAULT NULL,
  `landlord_lead` TINYINT(1) NULL DEFAULT NULL,
  `landlord_official` TINYINT NOT NULL DEFAULT '1',
  `landlord_invoicing` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`property_landlord_id`),
  INDEX `property_landlord_id` (`property_landlord_id` ASC, `property_id` ASC, `landlord_id` ASC, `landlord_lead` ASC, `landlord_official` ASC) VISIBLE,
  INDEX `fk_property_landlord_property_id_idx` (`property_id` ASC) VISIBLE,
  CONSTRAINT `fk_property_landlord_property_landlord_id`
    FOREIGN KEY (`property_landlord_id`)
    REFERENCES `atlas`.`landlord` (`landlord_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_landlord_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_log_price`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_log_price` (
  `property_log_price_id` INT NOT NULL AUTO_INCREMENT,
  `property_id` INT NULL DEFAULT NULL,
  `property_price_old` DECIMAL(11,2) NULL DEFAULT NULL,
  `property_price_new` DECIMAL(11,2) NULL DEFAULT NULL,
  `property_published` TINYINT(1) NULL DEFAULT NULL,
  `property_updated_by` INT NULL DEFAULT NULL,
  `property_date_updated` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`property_log_price_id`),
  INDEX `fk_property_log_price_property_updated_by` (`property_updated_by` ASC) VISIBLE,
  INDEX `fk_property_log_price_property_id_idx` (`property_id` ASC) VISIBLE,
  CONSTRAINT `fk_property_log_price_property_updated_by`
    FOREIGN KEY (`property_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_log_price_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_log_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_log_status` (
  `property_log_status_id` INT NOT NULL AUTO_INCREMENT,
  `property_id` INT NULL DEFAULT NULL,
  `property_status_old` INT NULL DEFAULT NULL,
  `property_status_new` INT NULL DEFAULT NULL,
  `property_status_notes` TEXT NULL DEFAULT NULL,
  `property_published` TINYINT(1) NULL DEFAULT NULL,
  `property_updated_by` INT NULL DEFAULT NULL,
  `property_date_updated` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`property_log_status_id`),
  INDEX `property_id` (`property_id` ASC, `property_status_old` ASC, `property_status_new` ASC, `property_updated_by` ASC) VISIBLE,
  INDEX `fk_property_log_status_property_updated_by` (`property_updated_by` ASC) VISIBLE,
  CONSTRAINT `fk_property_log_status_property_updated_by`
    FOREIGN KEY (`property_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_log_status_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_media`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_media` (
  `property_media_id` INT NOT NULL AUTO_INCREMENT,
  `property_media_property_id` INT NULL DEFAULT NULL,
  `property_media_link` TEXT CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `property_media_type` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`property_media_id`),
  INDEX `property_media_id` (`property_media_id` ASC, `property_media_property_id` ASC, `property_media_type` ASC) VISIBLE,
  INDEX `fk_property_media_property_media_property_id` (`property_media_property_id` ASC) VISIBLE,
  CONSTRAINT `fk_property_media_property_media_property_id`
    FOREIGN KEY (`property_media_property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`survey_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`survey_status` (
  `survey_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `survey_status_name` VARCHAR(20) NULL DEFAULT NULL,
  `survey_status_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`survey_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_offer_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_offer_status` (
  `property_offer_status_id` INT NOT NULL AUTO_INCREMENT,
  `property_offer_status_name` VARCHAR(35) NOT NULL,
  `property_offer_status_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`property_offer_status_id`),
  INDEX `property_offer_status_id` (`property_offer_status_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_offer_sale`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_offer_sale` (
  `property_offer_sale_id` INT NOT NULL AUTO_INCREMENT,
  `property_offer_sale_property` INT NULL DEFAULT NULL,
  `property_offer_sale_price` DECIMAL(10,2) NULL DEFAULT NULL,
  `property_offer_sale_finance` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_mortgage_deposit` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_type` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_survey` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_htb` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_htb_approved` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_chain` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_status` INT NULL DEFAULT NULL,
  `property_offer_sale_status_reason` TEXT NULL DEFAULT NULL,
  `property_offer_sale_notes` TEXT NULL DEFAULT NULL,
  `property_offer_sale_notes_private` TEXT NULL DEFAULT NULL,
  `property_offer_sale_employee` INT NULL DEFAULT NULL,
  `property_offer_sale_referral_solicitor` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_referral_solicitor_notes` TEXT NULL DEFAULT NULL,
  `property_offer_sale_referral_surveyor` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_referral_surveyor_notes` TEXT NULL DEFAULT NULL,
  `property_offer_sale_referral_mortgage` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_referral_mortgage_notes` TEXT NULL DEFAULT NULL,
  `property_offer_sale_referral_valuation` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_referral_valuation_notes` TEXT NULL DEFAULT NULL,
  `property_offer_sale_viewings` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_revised_offer_id` INT NULL DEFAULT NULL,
  `property_offer_sale_date_created` DATETIME NULL DEFAULT NULL,
  `property_offer_sale_date_updated` DATETIME NULL DEFAULT NULL,
  `property_offer_sale_created_by` INT NULL DEFAULT NULL,
  `property_offer_sale_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`property_offer_sale_id`),
  INDEX `property_offer_sale_property` (`property_offer_sale_property` ASC) VISIBLE,
  INDEX `property_offer_sale_id` (`property_offer_sale_id` ASC) VISIBLE,
  INDEX `property_offer_sale_status` (`property_offer_sale_status` ASC) VISIBLE,
  INDEX `property_offer_sale_employee` (`property_offer_sale_employee` ASC) VISIBLE,
  INDEX `property_offer_sale_property_2` (`property_offer_sale_property` ASC, `property_offer_sale_finance` ASC, `property_offer_sale_type` ASC, `property_offer_sale_survey` ASC, `property_offer_sale_htb` ASC, `property_offer_sale_htb_approved` ASC, `property_offer_sale_chain` ASC) VISIBLE,
  INDEX `property_offer_sale_revised_offer_id` (`property_offer_sale_revised_offer_id` ASC) VISIBLE,
  INDEX `fk_property_offer_sale_property_offer_sale_created_by` (`property_offer_sale_created_by` ASC) VISIBLE,
  INDEX `fk_property_offer_sale_property_offer_sale_updated_by` (`property_offer_sale_updated_by` ASC) VISIBLE,
  INDEX `fk_property_offer_sale_property_offer_sale_finance_idx` (`property_offer_sale_finance` ASC) VISIBLE,
  INDEX `fk_property_offer_sale_property_offer_sale_type_idx` (`property_offer_sale_type` ASC) VISIBLE,
  INDEX `fk_property_offer_sale_property_offer_sale_survey_idx` (`property_offer_sale_survey` ASC) VISIBLE,
  CONSTRAINT `fk_property_offer_sale_property_offer_sale_created_by`
    FOREIGN KEY (`property_offer_sale_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_offer_sale_property_offer_sale_employee`
    FOREIGN KEY (`property_offer_sale_employee`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_offer_sale_property_offer_sale_property`
    FOREIGN KEY (`property_offer_sale_property`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_offer_sale_property_offer_sale_updated_by`
    FOREIGN KEY (`property_offer_sale_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_offer_sale_property_offer_sale_finance`
    FOREIGN KEY (`property_offer_sale_finance`)
    REFERENCES `atlas`.`sale_finance` (`sale_finance_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_offer_sale_property_offer_sale_type`
    FOREIGN KEY (`property_offer_sale_type`)
    REFERENCES `atlas`.`property_offer_sale_type` (`property_offer_sale_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_offer_sale_property_offer_sale_survey`
    FOREIGN KEY (`property_offer_sale_survey`)
    REFERENCES `atlas`.`survey_status` (`survey_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_offer_sale_property_offer_sale_status`
    FOREIGN KEY (`property_offer_sale_status`)
    REFERENCES `atlas`.`property_offer_status` (`property_offer_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_offer_sale_property_offer_sale_revised_offer_id`
    FOREIGN KEY (`property_offer_sale_revised_offer_id`)
    REFERENCES `atlas`.`property_offer_sale` (`property_offer_sale_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_offer_sale_applicants`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_offer_sale_applicants` (
  `property_offer_sale_applicants_id` INT NOT NULL AUTO_INCREMENT,
  `property_offer_sale_id` INT NULL DEFAULT NULL,
  `applicant_id` INT NULL DEFAULT NULL,
  PRIMARY KEY (`property_offer_sale_applicants_id`),
  INDEX `property_offer_sale_applicants_id` (`property_offer_sale_applicants_id` ASC, `property_offer_sale_id` ASC, `applicant_id` ASC) VISIBLE,
  INDEX `fk_property_offer_sale_applicants_property_offer_sale_id_idx` (`property_offer_sale_id` ASC) VISIBLE,
  INDEX `fk_property_offer_sale_applicants_applicant_id_idx` (`applicant_id` ASC) VISIBLE,
  CONSTRAINT `fk_property_offer_sale_applicants_property_offer_sale_id`
    FOREIGN KEY (`property_offer_sale_id`)
    REFERENCES `atlas`.`property_offer_sale` (`property_offer_sale_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_offer_sale_applicants_applicant_id`
    FOREIGN KEY (`applicant_id`)
    REFERENCES `atlas`.`applicant` (`applicant_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_offer_sale_attachments`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_offer_sale_attachments` (
  `property_offer_sale_attachments_id` INT NOT NULL AUTO_INCREMENT,
  `property_offer_sale_id` INT NULL DEFAULT NULL,
  `property_offer_sale_attachments_filename` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `property_offer_sale_attachments_caption` VARCHAR(100) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `property_offer_sale_attachments_sort` MEDIUMINT NULL DEFAULT NULL,
  `property_offer_sale_attachments_date_created` DATETIME NULL DEFAULT NULL,
  `property_offer_sale_attachments_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`property_offer_sale_attachments_id`),
  INDEX `fk_property_offer_sale_attachments_property_offer_sale_` (`property_offer_sale_attachments_created_by` ASC) VISIBLE,
  INDEX `fk_property_offer_sale_attachments_property_offer_sale_id_idx` (`property_offer_sale_id` ASC) VISIBLE,
  CONSTRAINT `fk_property_offer_sale_attachments_property_offer_sale_`
    FOREIGN KEY (`property_offer_sale_attachments_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_offer_sale_attachments_property_offer_sale_id`
    FOREIGN KEY (`property_offer_sale_id`)
    REFERENCES `atlas`.`property_offer_sale` (`property_offer_sale_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_offer_sale_chain_position`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_offer_sale_chain_position` (
  `property_offer_sale_chain_position_id` TINYINT NOT NULL AUTO_INCREMENT,
  `property_offer_sale_chain_position_name` VARCHAR(50) NULL DEFAULT NULL,
  `property_offer_sale_chain_position_name2` VARCHAR(50) NULL DEFAULT NULL,
  `property_offer_sale_chain_position_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`property_offer_sale_chain_position_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_offer_sale_chain_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_offer_sale_chain_status` (
  `property_offer_sale_chain_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `property_offer_sale_chain_status_name` VARCHAR(30) NULL DEFAULT NULL,
  `property_offer_sale_chain_status_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`property_offer_sale_chain_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_offer_sale_chain`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_offer_sale_chain` (
  `property_offer_sale_chain_id` INT NOT NULL AUTO_INCREMENT,
  `property_offer_sale_chain_sort` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_id` INT NULL DEFAULT NULL,
  `property_offer_sale_chain_name` VARCHAR(255) NULL DEFAULT NULL,
  `property_offer_sale_chain_property_address` VARCHAR(255) NULL DEFAULT NULL,
  `property_offer_vendor_property_id` INT NULL DEFAULT NULL,
  `property_offer_sale_chain_buyers_name` VARCHAR(255) NULL DEFAULT NULL,
  `property_offer_buyer_property_id` INT NULL DEFAULT NULL,
  `property_offer_sale_chain_sale_price` DECIMAL(11,2) NULL DEFAULT NULL,
  `property_offer_sale_chain_selling` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_chain_estate_agent_details` TEXT NULL DEFAULT NULL,
  `property_offer_sale_chain_position` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_chain_status` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_chain_mortgage` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_chain_survey` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_chain_checked` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_chain_notes` TEXT NULL DEFAULT NULL,
  `property_offer_sale_chain_date_created` DATETIME NULL DEFAULT NULL,
  `property_offer_sale_chain_date_updated` DATETIME NULL DEFAULT NULL,
  `property_offer_sale_chain_created_by` INT NULL DEFAULT NULL,
  `property_offer_sale_chain_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`property_offer_sale_chain_id`),
  INDEX `property_offer_sale_chain_checked` (`property_offer_sale_chain_checked` ASC) VISIBLE,
  INDEX `fk_property_offer_sale_chain_property_offer_vendor_prop` (`property_offer_vendor_property_id` ASC, `property_offer_buyer_property_id` ASC) VISIBLE,
  INDEX `fk_property_offer_sale_chain_property_offer_buyer_prope` (`property_offer_buyer_property_id` ASC) VISIBLE,
  INDEX `fk_property_offer_sale_chain_property_offer_sale_chain_` (`property_offer_sale_chain_created_by` ASC) VISIBLE,
  INDEX `fk_property_offer_sale_chain_property_offer_sale_chain__1` (`property_offer_sale_chain_updated_by` ASC) VISIBLE,
  INDEX `fk_property_offer_sale_chain_property_offer_sale_id_idx` (`property_offer_sale_id` ASC) VISIBLE,
  INDEX `fk_property_offer_sale_chain_property_offer_sale_chain_posi_idx` (`property_offer_sale_chain_position` ASC) VISIBLE,
  INDEX `fk_property_offer_sale_chain_property_offer_sale_chain_stat_idx` (`property_offer_sale_chain_status` ASC) VISIBLE,
  CONSTRAINT `fk_property_offer_sale_chain_property_offer_buyer_prope`
    FOREIGN KEY (`property_offer_buyer_property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_offer_sale_chain_property_offer_sale_chain_`
    FOREIGN KEY (`property_offer_sale_chain_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_offer_sale_chain_property_offer_sale_chain__1`
    FOREIGN KEY (`property_offer_sale_chain_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_offer_vendor_property`
    FOREIGN KEY (`property_offer_vendor_property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_property_offer_buyer_property`
    FOREIGN KEY (`property_offer_buyer_property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_offer_sale_chain_property_offer_sale_id`
    FOREIGN KEY (`property_offer_sale_id`)
    REFERENCES `atlas`.`property_offer_sale` (`property_offer_sale_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_offer_sale_chain_property_offer_sale_chain_position`
    FOREIGN KEY (`property_offer_sale_chain_position`)
    REFERENCES `atlas`.`property_offer_sale_chain_position` (`property_offer_sale_chain_position_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_offer_sale_chain_property_offer_sale_chain_status`
    FOREIGN KEY (`property_offer_sale_chain_status`)
    REFERENCES `atlas`.`property_offer_sale_chain_status` (`property_offer_sale_chain_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_offer_sale_log_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_offer_sale_log_status` (
  `property_offer_sale_log_status_id` INT NOT NULL AUTO_INCREMENT,
  `property_offer_sale_id` INT NULL DEFAULT NULL,
  `property_offer_sale_status_old` INT NULL DEFAULT NULL,
  `property_offer_sale_status_new` INT NULL DEFAULT NULL,
  `property_offer_sale_updated_by` INT NULL DEFAULT NULL,
  `property_offer_sale_date_updated` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`property_offer_sale_log_status_id`),
  INDEX `fk_property_offer_sale_log_status_property_offer_sale_u` (`property_offer_sale_updated_by` ASC) VISIBLE,
  INDEX `fk_property_offer_sale_log_status_property_offer_sale_id_idx` (`property_offer_sale_id` ASC) VISIBLE,
  INDEX `fk_property_offer_sale_log_status_status_idx` (`property_offer_sale_status_old` ASC, `property_offer_sale_status_new` ASC) VISIBLE,
  CONSTRAINT `fk_property_offer_sale_log_status_property_offer_sale_u`
    FOREIGN KEY (`property_offer_sale_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_offer_sale_log_status_property_offer_sale_id`
    FOREIGN KEY (`property_offer_sale_id`)
    REFERENCES `atlas`.`property_offer_sale` (`property_offer_sale_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_offer_sale_status_old`
    FOREIGN KEY (`property_offer_sale_status_old`)
    REFERENCES `atlas`.`property_offer_status` (`property_offer_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_property_offer_sale_status_new`
    FOREIGN KEY (`property_offer_sale_status_new`)
    REFERENCES `atlas`.`property_offer_status` (`property_offer_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_offer_sale_updates`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_offer_sale_updates` (
  `property_offer_sale_updates_id` INT NOT NULL AUTO_INCREMENT,
  `property_offer_sale_updates_property_offer_sale_id` INT NULL DEFAULT NULL,
  `property_offer_sale_updates_public_notes` TEXT NULL DEFAULT NULL,
  `property_offer_sale_updates_private_notes` TEXT NULL DEFAULT NULL,
  `property_offer_sale_updates_notify_vendors` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_updates_notify_applicants` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_updates_notify_sales_negotiation` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_updates_notify_sales_progression` TINYINT NULL DEFAULT NULL,
  `property_offer_sale_updates_date_created` DATETIME NULL DEFAULT NULL,
  `property_offer_sale_updates_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`property_offer_sale_updates_id`),
  INDEX `fk_property_offer_sale_updates_property_offer_sale_upda` (`property_offer_sale_updates_created_by` ASC) VISIBLE,
  INDEX `fk_property_offer_sale_updates_property_offer_sale_updates__idx` (`property_offer_sale_updates_property_offer_sale_id` ASC) VISIBLE,
  CONSTRAINT `fk_property_offer_sale_updates_property_offer_sale_upda`
    FOREIGN KEY (`property_offer_sale_updates_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_prop_offer_sale_updates_prop_offer_sale_updates_prop_off`
    FOREIGN KEY (`property_offer_sale_updates_property_offer_sale_id`)
    REFERENCES `atlas`.`property_offer_sale` (`property_offer_sale_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_outside_space`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_outside_space` (
  `property_outside_space_id` INT NOT NULL AUTO_INCREMENT,
  `property_outside_space_name` VARCHAR(20) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`property_outside_space_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_parking`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_parking` (
  `property_parking_id` INT NOT NULL AUTO_INCREMENT,
  `property_parking_name` VARCHAR(75) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`property_parking_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_rightmove_performance_statistics`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_rightmove_performance_statistics` (
  `prps_id` INT NOT NULL AUTO_INCREMENT,
  `prps_date` DATE NULL DEFAULT NULL,
  `prps_property_id` INT NULL DEFAULT NULL,
  `prps_property_availability` TINYINT NULL DEFAULT NULL,
  `prps_property_status` INT NULL DEFAULT NULL,
  `prps_featured_property` TINYINT(1) NULL DEFAULT NULL,
  `prps_premium_listing` TINYINT(1) NULL DEFAULT NULL,
  `prps_total_summary_views` INT NULL DEFAULT NULL,
  `prps_total_detail_views` INT NULL DEFAULT NULL,
  `prps_click_through_rate` DECIMAL(4,1) NULL DEFAULT NULL,
  PRIMARY KEY (`prps_id`),
  UNIQUE INDEX `prps_date` (`prps_date` ASC, `prps_property_id` ASC) VISIBLE,
  INDEX `prps_id` (`prps_id` ASC, `prps_property_id` ASC, `prps_featured_property` ASC, `prps_premium_listing` ASC) VISIBLE,
  INDEX `fk_property_rightmove_performance_statistics_prps_prope` (`prps_property_id` ASC) VISIBLE,
  INDEX `fk_property_rightmove_performance_statistics_prps_property_avai` (`prps_property_availability` ASC) VISIBLE,
  INDEX `fk_property_rightmove_performance_statistics_prps_property__idx` (`prps_property_status` ASC) VISIBLE,
  CONSTRAINT `fk_property_rightmove_performance_statistics_prps_prope`
    FOREIGN KEY (`prps_property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_rightmove_performance_statistics_prps_property_avai`
    FOREIGN KEY (`prps_property_availability`)
    REFERENCES `atlas`.`property_availability` (`property_availability_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_prop_rightmove_performance_statistics_prps_prop_status`
    FOREIGN KEY (`prps_property_status`)
    REFERENCES `atlas`.`property_status` (`property_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_room_dimension`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_room_dimension` (
  `property_room_dimension_id` TINYINT NOT NULL DEFAULT '0',
  `property_room_dimension_name` VARCHAR(30) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`property_room_dimension_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_room`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_room` (
  `property_room_id` INT NOT NULL AUTO_INCREMENT,
  `property_id` INT NULL DEFAULT NULL,
  `property_room_name` VARCHAR(120) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `property_room_description` TEXT CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `property_room_length` DECIMAL(6,2) NULL DEFAULT NULL,
  `property_room_width` DECIMAL(6,2) NULL DEFAULT NULL,
  `property_room_dimension_unit` TINYINT NULL DEFAULT NULL,
  `property_room_dimension_text` VARCHAR(120) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `property_room_images_url` TEXT CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `property_room_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`property_room_id`),
  INDEX `fk_property_room_property_id_idx` (`property_id` ASC) VISIBLE,
  INDEX `fk_property_room_dimension_unit_idx` (`property_room_dimension_unit` ASC) VISIBLE,
  CONSTRAINT `fk_property_room_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_room_dimension_unit`
    FOREIGN KEY (`property_room_dimension_unit`)
    REFERENCES `atlas`.`property_room_dimension` (`property_room_dimension_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_security`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_security` (
  `property_security_id` TINYINT NOT NULL AUTO_INCREMENT,
  `property_security_name` VARCHAR(75) NULL DEFAULT NULL,
  PRIMARY KEY (`property_security_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_tenancy`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_tenancy` (
  `property_tenancy_id` INT NOT NULL AUTO_INCREMENT,
  `property_id` INT NULL DEFAULT NULL,
  `property_tenancy_description` VARCHAR(255) NULL DEFAULT NULL,
  `property_tenancy_tenant` VARCHAR(255) NULL DEFAULT NULL,
  `property_tenancy_bedrooms` TINYINT NULL DEFAULT NULL,
  `property_tenancy_size` DECIMAL(8,2) NULL DEFAULT NULL,
  `property_tenancy_size_unit` TINYINT NULL DEFAULT NULL,
  `property_tenancy_rent` DECIMAL(11,2) NULL DEFAULT NULL,
  `property_tenancy_rent_frequency` TINYINT NULL DEFAULT NULL,
  `property_tenancy_erv` DECIMAL(11,2) NULL DEFAULT NULL,
  `property_tenancy_erv_frequency` TINYINT NULL DEFAULT NULL,
  `property_tenancy_lease_type` TINYINT NULL DEFAULT NULL,
  `property_tenancy_lease_start_date` DATE NULL DEFAULT NULL,
  `property_tenancy_lease_expiry_date` DATE NULL DEFAULT NULL,
  `property_tenancy_public_notes` TEXT NULL DEFAULT NULL,
  `property_tenancy_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`property_tenancy_id`),
  INDEX `fk_property_tenancy_property_id_idx` (`property_id` ASC) VISIBLE,
  INDEX `fk_property_tenancy_property_tenancy_size_unit_idx` (`property_tenancy_size_unit` ASC) VISIBLE,
  INDEX `fk_property_tenancy_property_tenancy_rent_frequency_idx` (`property_tenancy_rent_frequency` ASC, `property_tenancy_erv_frequency` ASC) VISIBLE,
  INDEX `fk_property_tenancy_property_tenancy_lease_type_idx` (`property_tenancy_lease_type` ASC) VISIBLE,
  CONSTRAINT `fk_property_tenancy_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_tenancy_property_tenancy_size_unit`
    FOREIGN KEY (`property_tenancy_size_unit`)
    REFERENCES `atlas`.`property_area_unit` (`property_area_unit_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_tenancy_rent_frequency`
    FOREIGN KEY (`property_tenancy_rent_frequency`)
    REFERENCES `atlas`.`tenancy_rent_frequency` (`tenancy_rent_frequency_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_property_tenancy_erv_frequency`
    FOREIGN KEY (`property_tenancy_erv_frequency`)
    REFERENCES `atlas`.`tenancy_rent_frequency` (`tenancy_rent_frequency_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_tenancy_property_tenancy_lease_type`
    FOREIGN KEY (`property_tenancy_lease_type`)
    REFERENCES `atlas`.`lease_type` (`lease_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_to_accessibility`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_to_accessibility` (
  `property_to_accessibility_id` INT NOT NULL AUTO_INCREMENT,
  `property_id` INT NOT NULL,
  `property_accessibility_id` INT NOT NULL,
  PRIMARY KEY (`property_to_accessibility_id`),
  INDEX `fk_property_to_accessibility_property_id_idx` (`property_id` ASC) VISIBLE,
  INDEX `fk_property_to_accessibility_property_accessibility_id_idx` (`property_accessibility_id` ASC) VISIBLE,
  CONSTRAINT `fk_property_to_accessibility_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_to_accessibility_property_accessibility_id`
    FOREIGN KEY (`property_accessibility_id`)
    REFERENCES `atlas`.`property_accessibility` (`property_accessibility_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_to_appliances`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_to_appliances` (
  `property_to_appliances_id` INT NOT NULL AUTO_INCREMENT,
  `property_id` INT NOT NULL,
  `property_appliances_id` INT NOT NULL,
  PRIMARY KEY (`property_to_appliances_id`),
  INDEX `fk_property_to_appliances_property_id_idx` (`property_id` ASC) VISIBLE,
  INDEX `fk_property_to_appliances_property_appliances_id_idx` (`property_appliances_id` ASC) VISIBLE,
  CONSTRAINT `fk_property_to_appliances_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_to_appliances_property_appliances_id`
    FOREIGN KEY (`property_appliances_id`)
    REFERENCES `atlas`.`property_appliances` (`property_appliances_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_to_features_custom`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_to_features_custom` (
  `property_to_features_custom_id` INT NOT NULL AUTO_INCREMENT,
  `property_id` INT NOT NULL,
  `property_feature` VARCHAR(200) NOT NULL,
  PRIMARY KEY (`property_to_features_custom_id`),
  INDEX `fk_property_to_features_custom_property_id_idx` (`property_id` ASC) VISIBLE,
  CONSTRAINT `fk_property_to_features_custom_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_to_heating`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_to_heating` (
  `property_to_heating_id` INT NOT NULL AUTO_INCREMENT,
  `property_id` INT NOT NULL,
  `property_heating_id` INT NOT NULL,
  PRIMARY KEY (`property_to_heating_id`),
  INDEX `fk_property_to_heating_property_id_idx` (`property_id` ASC) VISIBLE,
  INDEX `fk_property_to_heating_property_heating_id_idx` (`property_heating_id` ASC) VISIBLE,
  CONSTRAINT `fk_property_to_heating_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_to_heating_property_heating_id`
    FOREIGN KEY (`property_heating_id`)
    REFERENCES `atlas`.`property_heating` (`property_heating_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_to_outside_space`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_to_outside_space` (
  `property_to_outside_space_id` INT NOT NULL AUTO_INCREMENT,
  `property_id` INT NOT NULL,
  `property_outside_space_id` INT NOT NULL,
  PRIMARY KEY (`property_to_outside_space_id`),
  INDEX `fk_property_to_outside_space_property_id_idx` (`property_id` ASC) VISIBLE,
  INDEX `fk_property_to_outside_space_property_outside_space_id_idx` (`property_outside_space_id` ASC) VISIBLE,
  CONSTRAINT `fk_property_to_outside_space_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_to_outside_space_property_outside_space_id`
    FOREIGN KEY (`property_outside_space_id`)
    REFERENCES `atlas`.`property_outside_space` (`property_outside_space_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_to_parking`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_to_parking` (
  `property_to_parking_id` INT NOT NULL AUTO_INCREMENT,
  `property_id` INT NOT NULL,
  `property_parking_id` INT NOT NULL,
  PRIMARY KEY (`property_to_parking_id`),
  INDEX `fk_property_to_parking_property_id_idx` (`property_id` ASC) VISIBLE,
  INDEX `fk_property_to_parking_property_parking_id_idx` (`property_parking_id` ASC) VISIBLE,
  CONSTRAINT `fk_property_to_parking_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_to_parking_property_parking_id`
    FOREIGN KEY (`property_parking_id`)
    REFERENCES `atlas`.`property_parking` (`property_parking_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_to_security`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_to_security` (
  `property_to_security_id` INT NOT NULL AUTO_INCREMENT,
  `property_id` INT NOT NULL,
  `property_security_id` TINYINT NOT NULL,
  PRIMARY KEY (`property_to_security_id`),
  INDEX `fk_property_to_security_property_id_idx` (`property_id` ASC) VISIBLE,
  INDEX `fk_property_to_security_property_security_id_idx` (`property_security_id` ASC) VISIBLE,
  CONSTRAINT `fk_property_to_security_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_to_security_property_security_id`
    FOREIGN KEY (`property_security_id`)
    REFERENCES `atlas`.`property_security` (`property_security_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_use_class`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_use_class` (
  `property_use_class_id` INT NOT NULL DEFAULT '0',
  `property_use_class_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`property_use_class_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_to_use_class`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_to_use_class` (
  `property_to_use_class_id` INT NOT NULL AUTO_INCREMENT,
  `property_id` INT NOT NULL,
  `property_use_class_id` INT NOT NULL,
  PRIMARY KEY (`property_to_use_class_id`),
  INDEX `fk_property_to_use_class_property_id_idx` (`property_id` ASC) VISIBLE,
  INDEX `fk_property_to_use_class_property_use_class_id_idx` (`property_use_class_id` ASC) VISIBLE,
  CONSTRAINT `fk_property_to_use_class_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_to_use_class_property_use_class_id`
    FOREIGN KEY (`property_use_class_id`)
    REFERENCES `atlas`.`property_use_class` (`property_use_class_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`property_updates`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_updates` (
  `property_updates_id` INT NOT NULL AUTO_INCREMENT,
  `property_updates_property_id` INT NULL DEFAULT NULL,
  `property_updates_notes_public` TEXT NULL DEFAULT NULL,
  `property_updates_notes_private` TEXT NULL DEFAULT NULL,
  `property_updates_property_next_review_date` DATE NULL DEFAULT NULL,
  `property_updates_property_next_review_notes` TEXT NULL DEFAULT NULL,
  `property_updates_notify_landlord_vendor` TINYINT NULL DEFAULT NULL,
  `property_updates_date_created` DATETIME NULL DEFAULT NULL,
  `property_updates_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`property_updates_id`),
  INDEX `fk_property_updates_property_updates_property_id` (`property_updates_property_id` ASC) VISIBLE,
  INDEX `fk_property_updates_property_updates_created_by` (`property_updates_created_by` ASC) VISIBLE,
  CONSTRAINT `fk_property_updates_property_updates_created_by`
    FOREIGN KEY (`property_updates_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_updates_property_updates_property_id`
    FOREIGN KEY (`property_updates_property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`property_vendor`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`property_vendor` (
  `property_vendor_id` INT NOT NULL AUTO_INCREMENT,
  `property_id` INT NULL DEFAULT NULL,
  `vendor_id` INT NULL DEFAULT NULL,
  `vendor_lead` TINYINT(1) NULL DEFAULT NULL,
  `vendor_official` TINYINT NOT NULL DEFAULT '1',
  PRIMARY KEY (`property_vendor_id`),
  INDEX `fk_property_vendor_property_id_idx` (`property_id` ASC) VISIBLE,
  CONSTRAINT `fk_property_vendor_property_vendor_id`
    FOREIGN KEY (`property_vendor_id`)
    REFERENCES `atlas`.`vendor` (`vendor_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_property_vendor_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`referral_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`referral_type` (
  `referral_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `referral_type_name` VARCHAR(30) NULL DEFAULT NULL,
  PRIMARY KEY (`referral_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`referral_sale_purchase`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`referral_sale_purchase` (
  `referral_sale_purchase_id` TINYINT(1) NOT NULL AUTO_INCREMENT,
  `referral_sale_purchase_name` VARCHAR(30) NULL DEFAULT NULL,
  `referral_sale_purchase_sort` TINYINT(1) NULL DEFAULT NULL,
  PRIMARY KEY (`referral_sale_purchase_id`),
  INDEX `referral_sale_purchase_id` (`referral_sale_purchase_id` ASC) VISIBLE,
  INDEX `referral_sale_purchase_sort` (`referral_sale_purchase_sort` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`referral_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`referral_status` (
  `referral_status_id` INT NOT NULL AUTO_INCREMENT,
  `referral_status_name` VARCHAR(30) NULL DEFAULT NULL,
  `referral_status_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`referral_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`referral`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`referral` (
  `referral_id` INT NOT NULL AUTO_INCREMENT,
  `referral_type` TINYINT NULL DEFAULT NULL,
  `referral_sale_purchase` TINYINT(1) NULL DEFAULT NULL,
  `referral_customer_type` INT NULL DEFAULT NULL,
  `referral_customer` INT NULL DEFAULT NULL,
  `referral_customer_email` VARCHAR(255) NULL DEFAULT NULL,
  `referral_directory_company` INT NULL DEFAULT NULL,
  `referral_property` INT NULL DEFAULT NULL,
  `referral_valuation` INT NULL DEFAULT NULL,
  `referral_notes` TEXT NULL DEFAULT NULL,
  `referral_notes_private` TEXT NULL DEFAULT NULL,
  `referral_notes_directory_company` TEXT NULL DEFAULT NULL,
  `referral_employee` INT NULL DEFAULT NULL,
  `referral_status` INT NULL DEFAULT NULL,
  `referral_commission_our_invoice_ref` VARCHAR(50) NULL DEFAULT NULL,
  `referral_commission_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `referral_commission_date_paid` DATE NULL DEFAULT NULL,
  `referral_total_amount_paid` DECIMAL(10,2) NOT NULL DEFAULT '0.00',
  `referral_total_number_of_payments` TINYINT NOT NULL DEFAULT '0',
  `referral_total_amount_paid_employee` DECIMAL(10,2) NOT NULL DEFAULT '0.00',
  `referral_total_number_of_payments_employee` TINYINT NOT NULL DEFAULT '0',
  `referral_date_created` DATETIME NULL DEFAULT NULL,
  `referral_date_updated` DATETIME NULL DEFAULT NULL,
  `referral_created_by` INT NULL DEFAULT NULL,
  `referral_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`referral_id`),
  INDEX `referral_type` (`referral_type` ASC, `referral_directory_company` ASC, `referral_property` ASC, `referral_employee` ASC, `referral_status` ASC, `referral_created_by` ASC, `referral_updated_by` ASC) VISIBLE,
  INDEX `referral_customer_type` (`referral_customer_type` ASC, `referral_customer` ASC) VISIBLE,
  INDEX `referral_customer_email` (`referral_customer_email` ASC) VISIBLE,
  INDEX `fk_referral_referral_property` (`referral_property` ASC) VISIBLE,
  INDEX `fk_referral_referral_valuation` (`referral_valuation` ASC) VISIBLE,
  INDEX `fk_referral_referral_employee` (`referral_employee` ASC) VISIBLE,
  INDEX `fk_referral_referral_created_by` (`referral_created_by` ASC) VISIBLE,
  INDEX `fk_referral_referral_updated_by` (`referral_updated_by` ASC) VISIBLE,
  INDEX `fk_referral_referral_sale_purchase_idx` (`referral_sale_purchase` ASC) VISIBLE,
  INDEX `fk_referral_referral_directory_company_idx` (`referral_directory_company` ASC) VISIBLE,
  INDEX `fk_referral_referral_status_idx` (`referral_status` ASC) VISIBLE,
  CONSTRAINT `fk_referral_referral_created_by`
    FOREIGN KEY (`referral_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_referral_referral_employee`
    FOREIGN KEY (`referral_employee`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_referral_referral_property`
    FOREIGN KEY (`referral_property`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_referral_referral_updated_by`
    FOREIGN KEY (`referral_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_referral_referral_valuation`
    FOREIGN KEY (`referral_valuation`)
    REFERENCES `atlas`.`valuation` (`valuation_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_referral_referral_type`
    FOREIGN KEY (`referral_type`)
    REFERENCES `atlas`.`referral_type` (`referral_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_referral_referral_sale_purchase`
    FOREIGN KEY (`referral_sale_purchase`)
    REFERENCES `atlas`.`referral_sale_purchase` (`referral_sale_purchase_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_referral_referral_customer_type`
    FOREIGN KEY (`referral_customer_type`)
    REFERENCES `atlas`.`customer_type` (`customer_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_referral_referral_directory_company`
    FOREIGN KEY (`referral_directory_company`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_referral_referral_status`
    FOREIGN KEY (`referral_status`)
    REFERENCES `atlas`.`referral_status` (`referral_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`referral_payment_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`referral_payment_type` (
  `referral_payment_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `referral_payment_type_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`referral_payment_type_id`),
  INDEX `referral_payment_type_id` (`referral_payment_type_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`referral_payments`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`referral_payments` (
  `referral_payments_id` INT NOT NULL AUTO_INCREMENT,
  `referral_payments_referral_id` INT NULL DEFAULT NULL,
  `referral_payments_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `referral_payments_date_paid` DATE NULL DEFAULT NULL,
  `referral_payments_date_created` DATETIME NULL DEFAULT NULL,
  `referral_payments_date_updated` DATETIME NULL DEFAULT NULL,
  `referral_payments_created_by` INT NULL DEFAULT NULL,
  `referral_payments_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`referral_payments_id`),
  INDEX `referral_payments_id` (`referral_payments_id` ASC, `referral_payments_referral_id` ASC, `referral_payments_created_by` ASC, `referral_payments_updated_by` ASC) VISIBLE,
  INDEX `fk_referral_payments_referral_payments_referral_id` (`referral_payments_referral_id` ASC) VISIBLE,
  INDEX `fk_referral_payments_referral_payments_created_by` (`referral_payments_created_by` ASC) VISIBLE,
  INDEX `fk_referral_payments_referral_payments_updated_by` (`referral_payments_updated_by` ASC) VISIBLE,
  CONSTRAINT `fk_referral_payments_referral_payments_created_by`
    FOREIGN KEY (`referral_payments_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_referral_payments_referral_payments_referral_id`
    FOREIGN KEY (`referral_payments_referral_id`)
    REFERENCES `atlas`.`referral` (`referral_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_referral_payments_referral_payments_updated_by`
    FOREIGN KEY (`referral_payments_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`referral_payments_employee`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`referral_payments_employee` (
  `referral_payments_employee_id` INT NOT NULL AUTO_INCREMENT,
  `referral_payments_employee_referral_id` INT NULL DEFAULT NULL,
  `referral_payments_employee_payment_type` TINYINT NULL DEFAULT NULL,
  `referral_payments_employee_employee_id` INT NULL DEFAULT NULL,
  `referral_payments_employee_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `referral_payments_employee_date_paid` DATE NULL DEFAULT NULL,
  `referral_payments_employee_date_created` DATETIME NULL DEFAULT NULL,
  `referral_payments_employee_date_updated` DATETIME NULL DEFAULT NULL,
  `referral_payments_employee_created_by` INT NULL DEFAULT NULL,
  `referral_payments_employee_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`referral_payments_employee_id`),
  INDEX `referral_payments_id` (`referral_payments_employee_id` ASC, `referral_payments_employee_referral_id` ASC, `referral_payments_employee_created_by` ASC, `referral_payments_employee_updated_by` ASC) VISIBLE,
  INDEX `fk_referral_payments_employee_referral_payments_employe_1` (`referral_payments_employee_referral_id` ASC) VISIBLE,
  INDEX `fk_referral_payments_employee_referral_payments_employe_2` (`referral_payments_employee_employee_id` ASC) VISIBLE,
  INDEX `fk_referral_payments_employee_referral_payments_employe_3` (`referral_payments_employee_created_by` ASC) VISIBLE,
  INDEX `fk_referral_payments_employee_referral_payments_employe_4` (`referral_payments_employee_updated_by` ASC) VISIBLE,
  CONSTRAINT `fk_referral_payments_employee_referral_payments_employe`
    FOREIGN KEY (`referral_payments_employee_id`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_referral_payments_employee_referral_payments_employe_1`
    FOREIGN KEY (`referral_payments_employee_referral_id`)
    REFERENCES `atlas`.`referral` (`referral_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_referral_payments_employee_referral_payments_employe_2`
    FOREIGN KEY (`referral_payments_employee_employee_id`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_referral_payments_employee_referral_payments_employe_3`
    FOREIGN KEY (`referral_payments_employee_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_referral_payments_employee_referral_payments_employe_4`
    FOREIGN KEY (`referral_payments_employee_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`referral_updates`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`referral_updates` (
  `referral_updates_id` INT NOT NULL AUTO_INCREMENT,
  `referral_updates_referral_id` INT NULL DEFAULT NULL,
  `referral_updates_public_notes` TEXT NULL DEFAULT NULL,
  `referral_updates_private_notes` TEXT NULL DEFAULT NULL,
  `referral_updates_notify_directory_company` TINYINT NULL DEFAULT NULL,
  `referral_updates_notify_client` TINYINT NULL DEFAULT NULL,
  `referral_updates_date_created` DATETIME NULL DEFAULT NULL,
  `referral_updates_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`referral_updates_id`),
  INDEX `referral_updates_referral_id` (`referral_updates_referral_id` ASC) VISIBLE,
  INDEX `referral_updates_notify_directory_company` (`referral_updates_notify_directory_company` ASC, `referral_updates_created_by` ASC) VISIBLE,
  INDEX `referral_updates_notify_applicants` (`referral_updates_notify_client` ASC) VISIBLE,
  INDEX `fk_referral_updates_referral_updates_created_by` (`referral_updates_created_by` ASC) VISIBLE,
  CONSTRAINT `fk_referral_updates_referral_updates_created_by`
    FOREIGN KEY (`referral_updates_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_referral_updates_referral_updates_referral_id`
    FOREIGN KEY (`referral_updates_referral_id`)
    REFERENCES `atlas`.`referral` (`referral_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`rent_legal_expenses_insurance_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`rent_legal_expenses_insurance_status` (
  `rleis_id` TINYINT NOT NULL AUTO_INCREMENT,
  `rleis_name` VARCHAR(75) NULL DEFAULT NULL,
  `rleis_sort` TINYINT NOT NULL,
  PRIMARY KEY (`rleis_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`rent_legal_expenses_insurance_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`rent_legal_expenses_insurance_type` (
  `rleit_id` TINYINT NOT NULL AUTO_INCREMENT,
  `rleit_name` VARCHAR(15) NULL DEFAULT NULL,
  PRIMARY KEY (`rleit_id`),
  INDEX `rleit_id` (`rleit_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`rent_legal_expenses_insurance`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`rent_legal_expenses_insurance` (
  `rlei_id` INT NOT NULL AUTO_INCREMENT,
  `rlei_policy_type` TINYINT NULL DEFAULT NULL,
  `rlei_tenancy_id` INT NULL DEFAULT NULL,
  `rlei_property_id` INT NULL DEFAULT NULL,
  `rlei_room_id` INT NULL DEFAULT NULL,
  `rlei_policy_ref` VARCHAR(50) NULL DEFAULT NULL,
  `rlei_policy_start_date` DATE NULL DEFAULT NULL,
  `rlei_policy_end_date` DATE NULL DEFAULT NULL,
  `rlei_term` SMALLINT NULL DEFAULT NULL,
  `rlei_term_unit` TINYINT NULL DEFAULT NULL,
  `rlei_notes` TEXT NULL DEFAULT NULL,
  `rlei_status` TINYINT NULL DEFAULT NULL,
  `rlei_date_created` DATETIME NULL DEFAULT NULL,
  `rlei_date_updated` DATETIME NULL DEFAULT NULL,
  `rlei_created_by` INT NULL DEFAULT NULL,
  `rlei_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`rlei_id`),
  INDEX `rlei_id` (`rlei_id` ASC, `rlei_policy_type` ASC, `rlei_tenancy_id` ASC, `rlei_status` ASC) VISIBLE,
  INDEX `rlei_property_id` (`rlei_property_id` ASC) VISIBLE,
  INDEX `fk_rent_legal_expenses_insurance_rlei_tenancy_id` (`rlei_tenancy_id` ASC) VISIBLE,
  INDEX `fk_rent_legal_expenses_insurance_rlei_created_by` (`rlei_created_by` ASC) VISIBLE,
  INDEX `fk_rent_legal_expenses_insurance_rlei_updated_by` (`rlei_updated_by` ASC) VISIBLE,
  INDEX `fk_rent_legal_expenses_insurance_rlei_room_id_idx` (`rlei_room_id` ASC) VISIBLE,
  INDEX `fk_rent_legal_expenses_insurance_rlei_term_unit_idx` (`rlei_term_unit` ASC) VISIBLE,
  INDEX `fk_rent_legal_expenses_insurance_rlei_status_idx` (`rlei_status` ASC) VISIBLE,
  INDEX `fk_rent_legal_expenses_insurance_rlei_policy_type_idx` (`rlei_policy_type` ASC) VISIBLE,
  CONSTRAINT `fk_rent_legal_expenses_insurance_rlei_created_by`
    FOREIGN KEY (`rlei_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_rent_legal_expenses_insurance_rlei_property_id`
    FOREIGN KEY (`rlei_property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_rent_legal_expenses_insurance_rlei_tenancy_id`
    FOREIGN KEY (`rlei_tenancy_id`)
    REFERENCES `atlas`.`tenancy` (`tenancy_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_rent_legal_expenses_insurance_rlei_updated_by`
    FOREIGN KEY (`rlei_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_rent_legal_expenses_insurance_rlei_room_id`
    FOREIGN KEY (`rlei_room_id`)
    REFERENCES `atlas`.`property_room_letting` (`property_room_letting_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_rent_legal_expenses_insurance_rlei_term_unit`
    FOREIGN KEY (`rlei_term_unit`)
    REFERENCES `atlas`.`tenancy_fixed_term_unit` (`tenancy_fixed_term_unit_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_rent_legal_expenses_insurance_rlei_status`
    FOREIGN KEY (`rlei_status`)
    REFERENCES `atlas`.`rent_legal_expenses_insurance_status` (`rleis_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_rent_legal_expenses_insurance_rlei_policy_type`
    FOREIGN KEY (`rlei_policy_type`)
    REFERENCES `atlas`.`rent_legal_expenses_insurance_type` (`rleit_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`sale_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`sale_status` (
  `sale_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `sale_status_name` VARCHAR(30) NULL DEFAULT NULL,
  `sale_status_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`sale_status_id`),
  INDEX `sale_status_id` (`sale_status_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`sale_collapsed_reason`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`sale_collapsed_reason` (
  `sale_collapsed_reason_id` TINYINT NOT NULL AUTO_INCREMENT,
  `sale_collapsed_reason_name` VARCHAR(255) NULL DEFAULT NULL,
  PRIMARY KEY (`sale_collapsed_reason_id`),
  INDEX `sale_collapsed_reason_id` (`sale_collapsed_reason_id` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`sale`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`sale` (
  `sale_id` INT NOT NULL AUTO_INCREMENT,
  `sale_offer_id` INT NULL DEFAULT NULL,
  `sale_property` INT NULL DEFAULT NULL,
  `sale_agreed_date` DATE NULL DEFAULT NULL,
  `sale_agreed_price` DECIMAL(10,2) NULL DEFAULT NULL,
  `sale_purchase_finance` TINYINT NULL DEFAULT NULL,
  `sale_notes` TEXT NULL DEFAULT NULL,
  `sale_vendor_solicitor_company_intermediary` INT NULL DEFAULT NULL,
  `sale_vendor_solicitor_company` INT NULL DEFAULT NULL,
  `sale_vendor_solicitor_company_individual` INT NULL DEFAULT NULL,
  `sale_vendor_mortgage_advisor` INT NULL DEFAULT NULL,
  `sale_vendor_mortgage_advisor_individual` INT NULL DEFAULT NULL,
  `sale_buyer_solicitor_company_intermediary` INT NULL DEFAULT NULL,
  `sale_buyer_solicitor_company` INT NULL DEFAULT NULL,
  `sale_buyer_solicitor_company_individual` INT NULL DEFAULT NULL,
  `sale_buyer_mortgage_advisor` INT NULL DEFAULT NULL,
  `sale_buyer_mortgage_advisor_individual` INT NULL DEFAULT NULL,
  `sale_status` TINYINT NULL DEFAULT NULL,
  `sale_target_exchange_date` DATE NULL DEFAULT NULL,
  `sale_target_completion_date` DATE NULL DEFAULT NULL,
  `sale_collapsed_reason` TEXT NULL DEFAULT NULL,
  `sale_collapsed_reason_id` TINYINT NULL DEFAULT NULL,
  `sale_viewings_status` TINYINT NULL DEFAULT '1',
  `sale_employee_responsible` INT NULL DEFAULT NULL,
  `sale_next_review_date` DATE NULL DEFAULT NULL,
  `sale_next_review_notes` TEXT NULL DEFAULT NULL,
  `sale_media_utilities` TINYINT(1) NULL DEFAULT '1',
  `sale_commission_completion_payment` DECIMAL(6,2) NULL DEFAULT NULL,
  `sale_commission_completion_payment_type` TINYINT NULL DEFAULT NULL,
  `sale_commission_completion_date_paid` DATE NULL DEFAULT NULL,
  `sale_completion_date` DATE NULL DEFAULT NULL,
  `sale_invoice_check_override` TINYINT NOT NULL DEFAULT '2',
  `sale_auto_progression_chase_vendor` TINYINT NOT NULL DEFAULT '1',
  `sale_auto_progression_chase_buyer` TINYINT NOT NULL DEFAULT '1',
  `sale_last_update` DATETIME NULL DEFAULT NULL,
  `sale_created_by` INT NULL DEFAULT NULL,
  `sale_updated_by` INT NULL DEFAULT NULL,
  `sale_date_created` DATETIME NULL DEFAULT NULL,
  `sale_date_updated` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`sale_id`),
  INDEX `sale_id` (`sale_id` ASC) VISIBLE,
  INDEX `sale_property` (`sale_property` ASC) VISIBLE,
  INDEX `sale_status` (`sale_status` ASC) VISIBLE,
  INDEX `sale_completion_date` (`sale_completion_date` ASC) VISIBLE,
  INDEX `sale_offer_id` (`sale_offer_id` ASC) VISIBLE,
  INDEX `sale_target_exchange_date` (`sale_target_exchange_date` ASC, `sale_target_completion_date` ASC) VISIBLE,
  INDEX `sale_last_update` (`sale_last_update` ASC) VISIBLE,
  INDEX `sale_employee_responsible` (`sale_employee_responsible` ASC) VISIBLE,
  INDEX `fk_sale_sale_created_by` (`sale_created_by` ASC, `sale_employee_responsible` ASC) VISIBLE,
  INDEX `fk_sale_sale_updated_by` (`sale_updated_by` ASC) VISIBLE,
  INDEX `fk_sale_sale_purchase_finance_idx` (`sale_purchase_finance` ASC) VISIBLE,
  INDEX `fk_sale_directory_idx` (`sale_vendor_solicitor_company_intermediary` ASC, `sale_vendor_solicitor_company` ASC, `sale_vendor_mortgage_advisor` ASC, `sale_buyer_solicitor_company_intermediary` ASC, `sale_buyer_solicitor_company` ASC, `sale_buyer_mortgage_advisor` ASC) VISIBLE,
  INDEX `fk_sale_directory_individual_idx` (`sale_vendor_solicitor_company_individual` ASC, `sale_vendor_mortgage_advisor_individual` ASC, `sale_buyer_solicitor_company_individual` ASC, `sale_buyer_mortgage_advisor_individual` ASC) VISIBLE,
  INDEX `fk_sale_sale_collapsed_reason_id_idx` (`sale_collapsed_reason_id` ASC) VISIBLE,
  INDEX `fk_sale_sale_commission_completion_payment_type_idx` (`sale_commission_completion_payment_type` ASC) VISIBLE,
  CONSTRAINT `fk_sale_created_by`
    FOREIGN KEY (`sale_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_sale_employee_responsible`
    FOREIGN KEY (`sale_employee_responsible`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_sale_sale_property`
    FOREIGN KEY (`sale_property`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_sale_sale_updated_by`
    FOREIGN KEY (`sale_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_sale_sale_offer_id`
    FOREIGN KEY (`sale_offer_id`)
    REFERENCES `atlas`.`property_offer_sale` (`property_offer_sale_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_sale_sale_purchase_finance`
    FOREIGN KEY (`sale_purchase_finance`)
    REFERENCES `atlas`.`sale_finance` (`sale_finance_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_sale_vendor_solicitor_company_intermediary`
    FOREIGN KEY (`sale_vendor_solicitor_company_intermediary`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_sale_vendor_solicitor_company`
    FOREIGN KEY (`sale_vendor_solicitor_company`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_sale_vendor_mortgage_advisor`
    FOREIGN KEY (`sale_vendor_mortgage_advisor`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_sale_buyer_solicitor_company_intermediary`
    FOREIGN KEY (`sale_buyer_solicitor_company_intermediary`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_sale_buyer_solicitor_company`
    FOREIGN KEY (`sale_buyer_solicitor_company`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_sale_buyer_mortgage_advisor`
    FOREIGN KEY (`sale_buyer_mortgage_advisor`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_sale_vendor_solicitor_company_individual`
    FOREIGN KEY (`sale_vendor_solicitor_company_individual`)
    REFERENCES `atlas`.`directory_individual` (`directory_individual_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_sale_vendor_mortgage_advisor_individual`
    FOREIGN KEY (`sale_vendor_mortgage_advisor_individual`)
    REFERENCES `atlas`.`directory_individual` (`directory_individual_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_sale_buyer_solicitor_company_individual`
    FOREIGN KEY (`sale_buyer_solicitor_company_individual`)
    REFERENCES `atlas`.`directory_individual` (`directory_individual_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_sale_buyer_mortgage_advisor_individual`
    FOREIGN KEY (`sale_buyer_mortgage_advisor_individual`)
    REFERENCES `atlas`.`directory_individual` (`directory_individual_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_sale_sale_status`
    FOREIGN KEY (`sale_status`)
    REFERENCES `atlas`.`sale_status` (`sale_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_sale_sale_collapsed_reason_id`
    FOREIGN KEY (`sale_collapsed_reason_id`)
    REFERENCES `atlas`.`sale_collapsed_reason` (`sale_collapsed_reason_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_sale_sale_commission_completion_payment_type`
    FOREIGN KEY (`sale_commission_completion_payment_type`)
    REFERENCES `atlas`.`commission_type` (`commission_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`sale_buyers`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`sale_buyers` (
  `sale_buyers_id` INT NOT NULL AUTO_INCREMENT,
  `buyer_id` INT NULL DEFAULT NULL,
  `sale_id` INT NULL DEFAULT NULL,
  PRIMARY KEY (`sale_buyers_id`),
  INDEX `sale_buyers_id` (`sale_buyers_id` ASC, `buyer_id` ASC, `sale_id` ASC) VISIBLE,
  INDEX `fk_sale_buyers_buyer_id_idx` (`buyer_id` ASC) VISIBLE,
  INDEX `fk_sale_buyers_sale_id_idx` (`sale_id` ASC) VISIBLE,
  CONSTRAINT `fk_sale_buyers_buyer_id`
    FOREIGN KEY (`buyer_id`)
    REFERENCES `atlas`.`buyer` (`buyer_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_sale_buyers_sale_id`
    FOREIGN KEY (`sale_id`)
    REFERENCES `atlas`.`sale` (`sale_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`sale_log_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`sale_log_status` (
  `sale_log_status_id` INT NOT NULL AUTO_INCREMENT,
  `sale_id` INT NULL DEFAULT NULL,
  `sale_status_old` TINYINT(1) NULL DEFAULT NULL,
  `sale_status_new` TINYINT(1) NULL DEFAULT NULL,
  `sale_updated_by` INT NULL DEFAULT NULL,
  `sale_date_updated` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`sale_log_status_id`),
  INDEX `fk_sale_log_status_sale_updated_by` (`sale_updated_by` ASC) VISIBLE,
  INDEX `fk_sale_log_status_sale_id_idx` (`sale_id` ASC) VISIBLE,
  INDEX `fk_sale_log_status_sale_status_idx` (`sale_status_old` ASC, `sale_status_new` ASC) VISIBLE,
  CONSTRAINT `fk_sale_log_status_sale_updated_by`
    FOREIGN KEY (`sale_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_sale_log_status_sale_id`
    FOREIGN KEY (`sale_id`)
    REFERENCES `atlas`.`sale` (`sale_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_sale_status_old`
    FOREIGN KEY (`sale_status_old`)
    REFERENCES `atlas`.`sale_status` (`sale_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_sale_status_new`
    FOREIGN KEY (`sale_status_new`)
    REFERENCES `atlas`.`sale_status` (`sale_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`sale_task_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`sale_task_type` (
  `sale_task_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `sale_task_type_name` VARCHAR(10) NULL DEFAULT NULL,
  PRIMARY KEY (`sale_task_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`sale_task_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`sale_task_status` (
  `sale_task_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `sale_task_status_name` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`sale_task_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`sale_task`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`sale_task` (
  `sale_task_id` INT NOT NULL AUTO_INCREMENT,
  `sale_id` INT NULL DEFAULT NULL,
  `sale_task_type` TINYINT NULL DEFAULT NULL,
  `sale_task_name` VARCHAR(255) NULL DEFAULT NULL,
  `sale_task_status` TINYINT NULL DEFAULT NULL,
  `sale_task_target_date` DATE NULL DEFAULT NULL,
  `sale_task_completed_date` DATE NULL DEFAULT NULL,
  `sale_task_notes` TEXT NULL DEFAULT NULL,
  `sale_task_notes_private` TEXT NULL DEFAULT NULL,
  `sale_task_sort` TINYINT NULL DEFAULT NULL,
  `sale_task_vendor_notified` TINYINT NULL DEFAULT NULL,
  `sale_task_buyer_notified` TINYINT NULL DEFAULT NULL,
  `sale_task_date_updated` DATETIME NULL DEFAULT NULL,
  `sale_task_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`sale_task_id`),
  INDEX `sale_id` (`sale_id` ASC, `sale_task_type` ASC, `sale_task_status` ASC, `sale_task_sort` ASC, `sale_task_vendor_notified` ASC, `sale_task_buyer_notified` ASC, `sale_task_date_updated` ASC, `sale_task_updated_by` ASC) VISIBLE,
  INDEX `fk_sale_task_sale_task_updated_by` (`sale_task_updated_by` ASC) VISIBLE,
  INDEX `fk_sale_task_sale_task_type_idx` (`sale_task_type` ASC) VISIBLE,
  INDEX `fk_sale_task_sale_task_status_idx` (`sale_task_status` ASC) VISIBLE,
  CONSTRAINT `fk_sale_task_sale_task_updated_by`
    FOREIGN KEY (`sale_task_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_sale_task_sale_id`
    FOREIGN KEY (`sale_id`)
    REFERENCES `atlas`.`sale` (`sale_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_sale_task_sale_task_type`
    FOREIGN KEY (`sale_task_type`)
    REFERENCES `atlas`.`sale_task_type` (`sale_task_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_sale_task_sale_task_status`
    FOREIGN KEY (`sale_task_status`)
    REFERENCES `atlas`.`sale_task_status` (`sale_task_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`sale_task_defaults`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`sale_task_defaults` (
  `sale_task_defaults_id` SMALLINT NOT NULL AUTO_INCREMENT,
  `sale_task_defaults_type` TINYINT NULL DEFAULT NULL,
  `sale_task_defaults_name` VARCHAR(100) NULL DEFAULT NULL,
  `sale_task_defaults_status` TINYINT NULL DEFAULT NULL,
  `sale_task_defaults_notes` TEXT NULL DEFAULT NULL,
  `sale_task_defaults_description` TEXT NULL DEFAULT NULL,
  `sale_task_defaults_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`sale_task_defaults_id`),
  INDEX `fk_sale_task_defaults_sale_task_defaults_type_idx` (`sale_task_defaults_type` ASC) VISIBLE,
  INDEX `fk_sale_task_defaults_sale_task_defaults_status_idx` (`sale_task_defaults_status` ASC) VISIBLE,
  CONSTRAINT `fk_sale_task_defaults_sale_task_defaults_type`
    FOREIGN KEY (`sale_task_defaults_type`)
    REFERENCES `atlas`.`sale_task_type` (`sale_task_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_sale_task_defaults_sale_task_defaults_status`
    FOREIGN KEY (`sale_task_defaults_status`)
    REFERENCES `atlas`.`sale_task_status` (`sale_task_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`sale_updates`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`sale_updates` (
  `sale_updates_id` INT NOT NULL AUTO_INCREMENT,
  `sale_updates_sale_id` INT NULL DEFAULT NULL,
  `sale_updates_public_notes` TEXT NULL DEFAULT NULL,
  `sale_updates_private_notes` TEXT NULL DEFAULT NULL,
  `sale_updates_notify_vendor` TINYINT NULL DEFAULT NULL,
  `sale_updates_notify_buyer` TINYINT NULL DEFAULT NULL,
  `sale_updates_notify_vendor_solicitor_intermediary` TINYINT NULL DEFAULT NULL,
  `sale_updates_notify_buyer_solicitor_intermediary` TINYINT NULL DEFAULT NULL,
  `sale_updates_notify_vendor_solicitor` TINYINT NULL DEFAULT NULL,
  `sale_updates_notify_buyer_solicitor` TINYINT NULL DEFAULT NULL,
  `sale_updates_notify_vendor_mortgage_advisor` TINYINT NULL DEFAULT NULL,
  `sale_updates_notify_buyer_mortgage_advisor` TINYINT NULL DEFAULT NULL,
  `sale_updates_notify_sales_progression` TINYINT NULL DEFAULT NULL,
  `sale_updates_date_created` DATETIME NULL DEFAULT NULL,
  `sale_updates_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`sale_updates_id`),
  INDEX `sale_updates_sale_id` (`sale_updates_sale_id` ASC) VISIBLE,
  INDEX `sale_updates_id` (`sale_updates_id` ASC) VISIBLE,
  INDEX `fk_sale_updates_sale_updates_created_by` (`sale_updates_created_by` ASC) VISIBLE,
  CONSTRAINT `fk_sale_updates_sale_updates_created_by`
    FOREIGN KEY (`sale_updates_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_sale_updates_sale_updates_sale_id`
    FOREIGN KEY (`sale_updates_sale_id`)
    REFERENCES `atlas`.`sale` (`sale_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`selective_licencing_licence_holder`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`selective_licencing_licence_holder` (
  `selective_licencing_licence_holder_id` TINYINT NOT NULL AUTO_INCREMENT,
  `selective_licencing_licence_holder_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`selective_licencing_licence_holder_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`social_media_post`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`social_media_post` (
  `social_media_post_id` TINYINT NOT NULL AUTO_INCREMENT,
  `social_media_post_name` VARCHAR(50) NULL DEFAULT NULL,
  `social_media_post_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`social_media_post_id`),
  UNIQUE INDEX `led_pocket_action_name` (`social_media_post_name` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`solicitor_quotation_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`solicitor_quotation_type` (
  `solicitor_quotation_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `solicitor_quotation_type_name` VARCHAR(30) NULL DEFAULT NULL,
  PRIMARY KEY (`solicitor_quotation_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`standing_order_payments_frequency`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`standing_order_payments_frequency` (
  `standing_order_payments_frequency_id` INT NOT NULL AUTO_INCREMENT,
  `standing_order_payments_frequency_name` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`standing_order_payments_frequency_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`status_yes_no`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`status_yes_no` (
  `status_yes_no_id` INT NOT NULL AUTO_INCREMENT,
  `status_yes_no_name` VARCHAR(3) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `status_yes_no_backup` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`status_yes_no_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`status_yes_no_new`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`status_yes_no_new` (
  `status_yes_no_id` INT NOT NULL AUTO_INCREMENT,
  `status_yes_no_name` VARCHAR(3) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`status_yes_no_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`status_yes_no_new_tbc`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`status_yes_no_new_tbc` (
  `status_yes_no_id` INT NOT NULL AUTO_INCREMENT,
  `status_yes_no_name` VARCHAR(3) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`status_yes_no_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`task_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`task_status` (
  `task_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `task_status_name` VARCHAR(30) NULL DEFAULT NULL,
  PRIMARY KEY (`task_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1;


-- -----------------------------------------------------
-- Table `atlas`.`task`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`task` (
  `task_id` INT NOT NULL AUTO_INCREMENT,
  `task_description` TEXT CHARACTER SET 'latin1' COLLATE 'latin1_general_ci' NOT NULL,
  `task_date_tbc` DATE NULL DEFAULT NULL,
  `task_deadline` DATE NULL DEFAULT NULL,
  `task_routine` TINYINT NULL DEFAULT NULL,
  `task_status` TINYINT NULL DEFAULT NULL,
  `task_sort` SMALLINT NULL DEFAULT NULL,
  `task_date_created` DATETIME NULL DEFAULT NULL,
  `task_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`task_id`),
  INDEX `fk_task_task_created_by` (`task_created_by` ASC) VISIBLE,
  INDEX `fk_task_task_status_idx` (`task_status` ASC) VISIBLE,
  CONSTRAINT `fk_task_task_created_by`
    FOREIGN KEY (`task_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_task_task_status`
    FOREIGN KEY (`task_status`)
    REFERENCES `atlas`.`task_status` (`task_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_additional_clauses`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_additional_clauses` (
  `tenancy_additional_clauses_id` INT NOT NULL AUTO_INCREMENT,
  `tenancy_additional_clauses_description` TEXT NULL DEFAULT NULL,
  `tenancy_id` INT NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_additional_clauses_id`),
  INDEX `fk_tenancy_additional_clauses_tenancy_id_idx` (`tenancy_id` ASC) VISIBLE,
  CONSTRAINT `fk_tenancy_additional_clauses_tenancy_id`
    FOREIGN KEY (`tenancy_id`)
    REFERENCES `atlas`.`tenancy` (`tenancy_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_allowed_occupant`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_allowed_occupant` (
  `tenancy_allowed_occupant_id` INT NOT NULL AUTO_INCREMENT,
  `tenancy_id` INT NULL DEFAULT NULL,
  `tenancy_allowed_occupant_title` TINYINT NULL DEFAULT NULL,
  `tenancy_allowed_occupant_first_name` VARCHAR(255) NULL DEFAULT NULL,
  `tenancy_allowed_occupant_surname` VARCHAR(255) NULL DEFAULT NULL,
  `tenancy_allowed_occupant_phone_number` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `tenancy_allowed_occupant_email_address` VARCHAR(255) NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_allowed_occupant_id`),
  INDEX `fk_tenancy_allowed_occupant_tenancy_allowed_occupant_title` (`tenancy_allowed_occupant_title` ASC) VISIBLE,
  INDEX `fk_tenancy_allowed_occupant_tenancy_id_idx` (`tenancy_id` ASC) VISIBLE,
  CONSTRAINT `fk_tenancy_allowed_occupant_tenancy_allowed_occupant_title`
    FOREIGN KEY (`tenancy_allowed_occupant_title`)
    REFERENCES `atlas`.`title` (`title_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_allowed_occupant_tenancy_id`
    FOREIGN KEY (`tenancy_id`)
    REFERENCES `atlas`.`tenancy` (`tenancy_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_deposit_contributor`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_deposit_contributor` (
  `tenancy_deposit_contributor_id` INT NOT NULL AUTO_INCREMENT,
  `tenancy_deposit_contributor_title` TINYINT NULL DEFAULT NULL,
  `tenancy_deposit_contributor_first_name` VARCHAR(255) NOT NULL,
  `tenancy_deposit_contributor_surname` VARCHAR(255) NULL DEFAULT NULL,
  `tenancy_deposit_contributor_amount` DECIMAL(8,2) NULL DEFAULT NULL,
  `tenancy_id` INT NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_deposit_contributor_id`),
  INDEX `fk_tenancy_deposit_contributor_tenancy_deposit_contributor_titl` (`tenancy_deposit_contributor_title` ASC) VISIBLE,
  INDEX `fk_tenancy_deposit_contributor_tenancy_id_idx` (`tenancy_id` ASC) VISIBLE,
  CONSTRAINT `fk_tenancy_deposit_contributor_tenancy_deposit_contributor_titl`
    FOREIGN KEY (`tenancy_deposit_contributor_title`)
    REFERENCES `atlas`.`title` (`title_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_deposit_contributor_tenancy_id`
    FOREIGN KEY (`tenancy_id`)
    REFERENCES `atlas`.`tenancy` (`tenancy_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_deposit_protection_responsible`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_deposit_protection_responsible` (
  `tenancy_deposit_protection_responsible_id` TINYINT NOT NULL AUTO_INCREMENT,
  `tenancy_deposit_protection_responsible_name` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_deposit_protection_responsible_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_deposit_protection_scheme`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_deposit_protection_scheme` (
  `tenancy_deposit_protection_scheme_id` INT NOT NULL AUTO_INCREMENT,
  `tenancy_deposit_protection_scheme_name` VARCHAR(30) NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_deposit_protection_scheme_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_expiry_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_expiry_status` (
  `tenancy_expiry_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `tenancy_expiry_status_name` VARCHAR(60) NULL DEFAULT NULL,
  `tenancy_expiry_status_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_expiry_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_guarantors`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_guarantors` (
  `tenancy_guarantors_id` INT NOT NULL AUTO_INCREMENT,
  `guarantor_id` INT NULL DEFAULT NULL,
  `tenancy_id` INT NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_guarantors_id`),
  INDEX `fk_tenancy_guarantors_guarantor_id_idx` (`guarantor_id` ASC) VISIBLE,
  INDEX `fk_tenancy_guarantors_tenancy_id_idx` (`tenancy_id` ASC) VISIBLE,
  CONSTRAINT `fk_tenancy_guarantors_guarantor_id`
    FOREIGN KEY (`guarantor_id`)
    REFERENCES `atlas`.`guarantor` (`guarantor_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_guarantors_tenancy_id`
    FOREIGN KEY (`tenancy_id`)
    REFERENCES `atlas`.`tenancy` (`tenancy_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_inspection_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_inspection_status` (
  `tenancy_inspection_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `tenancy_inspection_status_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_inspection_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_log_rent`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_log_rent` (
  `tenancy_log_rent_id` INT NOT NULL AUTO_INCREMENT,
  `tenancy_log_rent_tenancy_id` INT NULL DEFAULT NULL,
  `tenancy_rent_old` DECIMAL(11,2) NULL DEFAULT NULL,
  `tenancy_rent_new` DECIMAL(11,2) NULL DEFAULT NULL,
  `tenancy_log_rent_notes` TEXT NULL DEFAULT NULL,
  `tenancy_log_rent_date_updated` DATE NULL DEFAULT NULL,
  `tenancy_log_rent_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_log_rent_id`),
  UNIQUE INDEX `tenancy_log_rent_id_2` (`tenancy_log_rent_id` ASC) VISIBLE,
  INDEX `tenancy_log_rent_tenancy_id` (`tenancy_log_rent_tenancy_id` ASC) VISIBLE,
  INDEX `tenancy_log_rent_id` (`tenancy_log_rent_id` ASC) VISIBLE,
  INDEX `tenancy_log_rent_date_updated` (`tenancy_log_rent_date_updated` ASC) VISIBLE,
  INDEX `fk_tenancy_log_rent_tenancy_log_rent_updated_by` (`tenancy_log_rent_updated_by` ASC) VISIBLE,
  CONSTRAINT `fk_tenancy_log_rent_tenancy_log_rent_tenancy_id`
    FOREIGN KEY (`tenancy_log_rent_tenancy_id`)
    REFERENCES `atlas`.`tenancy` (`tenancy_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_log_rent_tenancy_log_rent_updated_by`
    FOREIGN KEY (`tenancy_log_rent_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_renewal_updates`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_renewal_updates` (
  `tenancy_renewal_updates_id` INT NOT NULL AUTO_INCREMENT,
  `tenancy_renewal_updates_tenancy_id` INT NULL DEFAULT NULL,
  `tenancy_renewal_updates_public_notes` TEXT NULL DEFAULT NULL,
  `tenancy_renewal_updates_private_notes` TEXT NULL DEFAULT NULL,
  `tenancy_renewal_updates_notify_landlord` TINYINT NULL DEFAULT NULL,
  `tenancy_renewal_updates_notify_tenants` TINYINT NULL DEFAULT NULL,
  `tenancy_renewal_updates_notify_accounts` TINYINT NULL DEFAULT NULL,
  `tenancy_renewal_updates_date_created` DATETIME NULL DEFAULT NULL,
  `tenancy_renewal_updates_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_renewal_updates_id`),
  INDEX `fk_tenancy_renewal_updates_tenancy_renewal_updates_tena` (`tenancy_renewal_updates_tenancy_id` ASC) VISIBLE,
  INDEX `fk_tenancy_renewal_updates_tenancy_renewal_updates_crea` (`tenancy_renewal_updates_created_by` ASC) VISIBLE,
  CONSTRAINT `fk_tenancy_renewal_updates_tenancy_renewal_updates_crea`
    FOREIGN KEY (`tenancy_renewal_updates_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_renewal_updates_tenancy_renewal_updates_tena`
    FOREIGN KEY (`tenancy_renewal_updates_tenancy_id`)
    REFERENCES `atlas`.`tenancy` (`tenancy_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_responsible`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_responsible` (
  `tenancy_responsible_id` INT NOT NULL AUTO_INCREMENT,
  `tenancy_responsible_name` VARCHAR(35) NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_responsible_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_soc_grade`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_soc_grade` (
  `tenancy_soc_grade_id` TINYINT NOT NULL AUTO_INCREMENT,
  `tenancy_soc_grade_name` VARCHAR(25) NULL DEFAULT NULL,
  `tenancy_soc_grade_description` TEXT NULL DEFAULT NULL,
  `tenancy_soc_grade_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_soc_grade_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenant`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenant` (
  `tenant_id` INT NOT NULL AUTO_INCREMENT,
  `tenant_token` VARCHAR(40) NULL DEFAULT NULL,
  `tenant_type` TINYINT NULL DEFAULT NULL,
  `tenant_title` TINYINT NULL DEFAULT NULL,
  `tenant_first_name` VARCHAR(30) NULL DEFAULT NULL,
  `tenant_surname` VARCHAR(30) NULL DEFAULT NULL,
  `tenant_company_name` VARCHAR(255) NULL DEFAULT NULL,
  `tenant_company_trading_name` VARCHAR(255) NULL DEFAULT NULL,
  `tenant_company_contact_name` VARCHAR(255) NULL DEFAULT NULL,
  `tenant_company_registration_number` VARCHAR(10) NULL DEFAULT NULL,
  `tenant_company_vat_registration_number` VARCHAR(20) NULL DEFAULT NULL,
  `tenant_phone_home` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `tenant_phone_work` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `tenant_phone_mobile` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `tenant_fax` VARCHAR(20) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `tenant_email` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `tenant_email_accounts` VARCHAR(255) NULL DEFAULT NULL,
  `tenant_email_works` VARCHAR(255) NULL DEFAULT NULL,
  `tenant_property_number_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `tenant_apartment_number_name` VARCHAR(50) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `tenant_address_line_1` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `tenant_address_line_2` VARCHAR(255) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `tenant_suburb` VARCHAR(255) NULL DEFAULT NULL,
  `tenant_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `tenant_postcode` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `tenant_country` INT NULL DEFAULT NULL,
  `tenant_forwarding_property_number_name` VARCHAR(50) NULL DEFAULT NULL,
  `tenant_forwarding_apartment_number_name` VARCHAR(50) NULL DEFAULT NULL,
  `tenant_forwarding_address_line_1` VARCHAR(255) NULL DEFAULT NULL,
  `tenant_forwarding_address_line_2` VARCHAR(255) NULL DEFAULT NULL,
  `tenant_forwarding_suburb` VARCHAR(255) NULL DEFAULT NULL,
  `tenant_forwarding_town_city` VARCHAR(255) NULL DEFAULT NULL,
  `tenant_forwarding_postcode` VARCHAR(8) NULL DEFAULT NULL,
  `tenant_forwarding_country` INT NULL DEFAULT NULL,
  `tenant_dob` DATE NULL DEFAULT NULL,
  `tenant_passport_number` VARCHAR(10) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `tenant_notes` TEXT CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `tenant_bank_name` TINYINT NULL DEFAULT NULL,
  `tenant_bank_sort_code` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `tenant_bank_account_number` VARCHAR(8) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `tenant_bank_account_name` VARCHAR(100) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  `tenant_date_created` DATETIME NULL DEFAULT NULL,
  `tenant_date_updated` DATETIME NULL DEFAULT NULL,
  `tenant_created_by` INT NULL DEFAULT NULL,
  `tenant_updated_by` INT NULL DEFAULT NULL,
  `tenant_online_account` TINYINT NULL DEFAULT NULL,
  `tenant_online_login_username` VARCHAR(255) NULL DEFAULT NULL,
  `tenant_online_login_password` VARCHAR(255) NULL DEFAULT NULL,
  `tenant_online_account_password_reset_token` VARCHAR(40) NULL DEFAULT NULL,
  `tenant_nino` VARCHAR(13) NULL DEFAULT NULL,
  `tenant_employment_status` TINYINT NULL DEFAULT NULL,
  `tenant_employer_name` VARCHAR(255) NULL DEFAULT NULL,
  `tenant_income` DECIMAL(9,2) NULL DEFAULT NULL,
  `tenant_income_frequency` TINYINT NULL DEFAULT NULL,
  `tenant_driving_licence_number` VARCHAR(20) NULL DEFAULT NULL,
  `tenant_employment_income_notes` TEXT NULL DEFAULT NULL,
  `tenant_referencing_provider` INT NULL DEFAULT NULL,
  `tenant_referencing_provider_reference` VARCHAR(20) NULL DEFAULT NULL,
  `tenant_branch` INT NULL DEFAULT NULL,
  `tenant_right_to_rent_review_date` DATE NULL DEFAULT NULL,
  PRIMARY KEY (`tenant_id`),
  UNIQUE INDEX `landlord_online_login_username` (`tenant_online_login_username` ASC) VISIBLE,
  INDEX `tenant_right_to_rent_review_date` (`tenant_right_to_rent_review_date` ASC) VISIBLE,
  INDEX `tenant_first_name` (`tenant_first_name` ASC) VISIBLE,
  INDEX `tenant_surname` (`tenant_surname` ASC) VISIBLE,
  INDEX `tenant_company_name` (`tenant_company_name` ASC) VISIBLE,
  INDEX `tenant_company_trading_name` (`tenant_company_trading_name` ASC) VISIBLE,
  INDEX `tenant_company_contact_name` (`tenant_company_contact_name` ASC) VISIBLE,
  INDEX `tenant_email` (`tenant_email` ASC) VISIBLE,
  INDEX `tenant_email_accounts` (`tenant_email_accounts` ASC) VISIBLE,
  INDEX `tenant_email_works` (`tenant_email_works` ASC) VISIBLE,
  INDEX `tenant_title` (`tenant_title` ASC) VISIBLE,
  INDEX `tenant_type` (`tenant_type` ASC) VISIBLE,
  INDEX `fk_tenant_tenant_created_by` (`tenant_created_by` ASC) VISIBLE,
  INDEX `fk_tenant_tenant_updated_by` (`tenant_updated_by` ASC) VISIBLE,
  INDEX `fk_tenant_tenant_branch` (`tenant_branch` ASC) VISIBLE,
  INDEX `fk_tenant_tenant_bank_name` (`tenant_bank_name` ASC) VISIBLE,
  INDEX `fk_tenant_tenant_country_idx` (`tenant_country` ASC, `tenant_forwarding_country` ASC) VISIBLE,
  INDEX `fk_tenant_tenant_employment_status_idx` (`tenant_employment_status` ASC) VISIBLE,
  INDEX `fk_tenant_tenant_income_frequency_idx` (`tenant_income_frequency` ASC) VISIBLE,
  INDEX `fk_tenant_tenant_referencing_provider_idx` (`tenant_referencing_provider` ASC) VISIBLE,
  CONSTRAINT `fk_tenant_tenant_bank_name`
    FOREIGN KEY (`tenant_bank_name`)
    REFERENCES `atlas`.`bank` (`bank_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenant_tenant_branch`
    FOREIGN KEY (`tenant_branch`)
    REFERENCES `atlas`.`branch` (`branch_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenant_tenant_created_by`
    FOREIGN KEY (`tenant_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenant_tenant_title`
    FOREIGN KEY (`tenant_title`)
    REFERENCES `atlas`.`title` (`title_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenant_tenant_updated_by`
    FOREIGN KEY (`tenant_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenant_tenant_type`
    FOREIGN KEY (`tenant_type`)
    REFERENCES `atlas`.`body_type` (`body_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenant_country`
    FOREIGN KEY (`tenant_country`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_tenant_forwarding_country`
    FOREIGN KEY (`tenant_forwarding_country`)
    REFERENCES `atlas`.`country` (`country_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenant_tenant_employment_status`
    FOREIGN KEY (`tenant_employment_status`)
    REFERENCES `atlas`.`employment_status` (`employment_status_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tenant_tenant_income_frequency`
    FOREIGN KEY (`tenant_income_frequency`)
    REFERENCES `atlas`.`income_frequency` (`income_frequency_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tenant_tenant_referencing_provider`
    FOREIGN KEY (`tenant_referencing_provider`)
    REFERENCES `atlas`.`directory` (`directory_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_tenants`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_tenants` (
  `tenancy_tenants_id` INT NOT NULL AUTO_INCREMENT,
  `tenant_id` INT NULL DEFAULT NULL,
  `tenancy_id` INT NULL DEFAULT NULL,
  `tenant_lead` TINYINT NULL DEFAULT NULL,
  `property_id` INT NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_tenants_id`),
  INDEX `tenant_id` (`tenant_id` ASC, `tenancy_id` ASC, `tenant_lead` ASC) VISIBLE,
  INDEX `property_id` (`property_id` ASC) VISIBLE,
  INDEX `fk_tenancy_tenants_tenancy_id_idx` (`tenancy_id` ASC) VISIBLE,
  CONSTRAINT `fk_tenancy_tenants_tenant_id`
    FOREIGN KEY (`tenant_id`)
    REFERENCES `atlas`.`tenant` (`tenant_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenants_tenancy_id`
    FOREIGN KEY (`tenancy_id`)
    REFERENCES `atlas`.`tenancy` (`tenancy_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_tenants_property_id`
    FOREIGN KEY (`property_id`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_term_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_term_status` (
  `tenancy_term_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `tenancy_term_status_name` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_term_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenancy_updates`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenancy_updates` (
  `tenancy_updates_id` INT NOT NULL AUTO_INCREMENT,
  `tenancy_updates_tenancy_id` INT NULL DEFAULT NULL,
  `tenancy_updates_public_notes` TEXT NULL DEFAULT NULL,
  `tenancy_updates_private_notes` TEXT NULL DEFAULT NULL,
  `tenancy_updates_notify_tenants` TINYINT NULL DEFAULT NULL,
  `tenancy_updates_notify_landlord` TINYINT NULL DEFAULT NULL,
  `tenancy_updates_notify_accounts` TINYINT NULL DEFAULT NULL,
  `tenancy_updates_date_created` DATETIME NULL DEFAULT NULL,
  `tenancy_updates_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`tenancy_updates_id`),
  INDEX `fk_tenancy_updates_tenancy_updates_tenancy_id` (`tenancy_updates_tenancy_id` ASC) VISIBLE,
  INDEX `fk_tenancy_updates_tenancy_updates_created_by` (`tenancy_updates_created_by` ASC) VISIBLE,
  CONSTRAINT `fk_tenancy_updates_tenancy_updates_created_by`
    FOREIGN KEY (`tenancy_updates_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenancy_updates_tenancy_updates_tenancy_id`
    FOREIGN KEY (`tenancy_updates_tenancy_id`)
    REFERENCES `atlas`.`tenancy` (`tenancy_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`tenant_income`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`tenant_income` (
  `tenant_income_id` INT NOT NULL AUTO_INCREMENT,
  `tenant_income_tenant_id` INT NULL DEFAULT NULL,
  `tenant_income_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `tenant_income_frequency` TINYINT NULL DEFAULT NULL,
  `tenant_income_source` VARCHAR(255) NULL DEFAULT NULL,
  PRIMARY KEY (`tenant_income_id`),
  INDEX `fk_tenant_income_tenant_income_tenant_id` (`tenant_income_tenant_id` ASC) VISIBLE,
  INDEX `fk_tenant_income_tenant_income_frequency_idx` (`tenant_income_frequency` ASC) VISIBLE,
  CONSTRAINT `fk_tenant_income_tenant_income_tenant_id`
    FOREIGN KEY (`tenant_income_tenant_id`)
    REFERENCES `atlas`.`tenant` (`tenant_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tenant_income_tenant_income_frequency`
    FOREIGN KEY (`tenant_income_frequency`)
    REFERENCES `atlas`.`income_frequency` (`income_frequency_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`test`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`test` (
  `test_field` VARCHAR(255) NULL DEFAULT NULL)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`timescale`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`timescale` (
  `timescale_id` TINYINT NOT NULL AUTO_INCREMENT,
  `timescale_name` VARCHAR(30) NULL DEFAULT NULL,
  `timescale_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`timescale_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`town_city_delete`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`town_city_delete` (
  `town_city_id` INT NOT NULL AUTO_INCREMENT,
  `town_city_name` VARCHAR(60) CHARACTER SET 'latin1' NULL DEFAULT NULL,
  PRIMARY KEY (`town_city_id`),
  UNIQUE INDEX `town_city_name` (`town_city_name` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`utility`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`utility` (
  `utility_id` TINYINT NOT NULL AUTO_INCREMENT,
  `utility_name` VARCHAR(15) NULL DEFAULT NULL,
  PRIMARY KEY (`utility_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`utility_meter_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`utility_meter_type` (
  `utility_meter_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `utility_meter_type_name` VARCHAR(25) NULL DEFAULT NULL,
  PRIMARY KEY (`utility_meter_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`utility_meter_location`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`utility_meter_location` (
  `utility_meter_location_id` TINYINT NOT NULL AUTO_INCREMENT,
  `utility_meter_location_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`utility_meter_location_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`utility_provider`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`utility_provider` (
  `utility_provider_id` INT NOT NULL AUTO_INCREMENT,
  `utility_provider_name` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`utility_provider_id`),
  UNIQUE INDEX `utility_provider_name` (`utility_provider_name` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`utility_meter`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`utility_meter` (
  `utility_meter_id` INT NOT NULL AUTO_INCREMENT,
  `utility_meter_property` INT NULL DEFAULT NULL,
  `utility_meter_utility` TINYINT NULL DEFAULT NULL,
  `utility_meter_type` TINYINT NULL DEFAULT NULL,
  `utility_meter_location` TINYINT NULL DEFAULT NULL,
  `utility_meter_notes` VARCHAR(255) NULL DEFAULT NULL,
  `utility_meter_provider` INT NULL DEFAULT NULL,
  PRIMARY KEY (`utility_meter_id`),
  INDEX `fk_utility_meter_utility_meter_property` (`utility_meter_property` ASC) VISIBLE,
  INDEX `fk_utility_meter_utility_meter_utility_idx` (`utility_meter_utility` ASC) VISIBLE,
  INDEX `fk_utility_meter_utility_meter_type_idx` (`utility_meter_type` ASC) VISIBLE,
  INDEX `fk_utility_meter_utility_meter_location_idx` (`utility_meter_location` ASC) VISIBLE,
  INDEX `fk_utility_meter_utility_meter_provider_idx` (`utility_meter_provider` ASC) VISIBLE,
  CONSTRAINT `fk_utility_meter_utility_meter_property`
    FOREIGN KEY (`utility_meter_property`)
    REFERENCES `atlas`.`property` (`property_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_utility_meter_utility_meter_utility`
    FOREIGN KEY (`utility_meter_utility`)
    REFERENCES `atlas`.`utility` (`utility_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_utility_meter_utility_meter_type`
    FOREIGN KEY (`utility_meter_type`)
    REFERENCES `atlas`.`utility_meter_type` (`utility_meter_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_utility_meter_utility_meter_location`
    FOREIGN KEY (`utility_meter_location`)
    REFERENCES `atlas`.`utility_meter_location` (`utility_meter_location_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_utility_meter_utility_meter_provider`
    FOREIGN KEY (`utility_meter_provider`)
    REFERENCES `atlas`.`utility_provider` (`utility_provider_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`valuation_log_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`valuation_log_status` (
  `valuation_log_status_id` INT NOT NULL AUTO_INCREMENT,
  `valuation_id` INT NULL DEFAULT NULL,
  `valuation_status_old` TINYINT(1) NULL DEFAULT NULL,
  `valuation_status_new` TINYINT(1) NULL DEFAULT NULL,
  `valuation_updated_by` INT NULL DEFAULT NULL,
  `valuation_date_updated` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`valuation_log_status_id`),
  INDEX `fk_valuation_log_status_valuation_updated_by` (`valuation_updated_by` ASC) VISIBLE,
  INDEX `fk_valuation_log_status_valuation_id_idx` (`valuation_id` ASC) VISIBLE,
  INDEX `fk_valuation_log_status_valuation_status_idx` (`valuation_status_old` ASC, `valuation_status_new` ASC) VISIBLE,
  CONSTRAINT `fk_valuation_log_status_valuation_updated_by`
    FOREIGN KEY (`valuation_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_log_status_valuation_id`
    FOREIGN KEY (`valuation_id`)
    REFERENCES `atlas`.`valuation` (`valuation_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_status_old`
    FOREIGN KEY (`valuation_status_old`)
    REFERENCES `atlas`.`valuation_status` (`valuation_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_valuation_status_new`
    FOREIGN KEY (`valuation_status_new`)
    REFERENCES `atlas`.`valuation_status` (`valuation_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`valuation_payments_employee`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`valuation_payments_employee` (
  `valuation_payments_employee_id` INT NOT NULL AUTO_INCREMENT,
  `valuation_payments_employee_valuation_id` INT NULL DEFAULT NULL,
  `valuation_payments_employee_payment_type` TINYINT NULL DEFAULT NULL,
  `valuation_payments_employee_employee_id` INT NULL DEFAULT NULL,
  `valuation_payments_employee_amount` DECIMAL(10,2) NULL DEFAULT NULL,
  `valuation_payments_employee_date_paid` DATE NULL DEFAULT NULL,
  `valuation_payments_employee_date_created` DATETIME NULL DEFAULT NULL,
  `valuation_payments_employee_date_updated` DATETIME NULL DEFAULT NULL,
  `valuation_payments_employee_created_by` INT NULL DEFAULT NULL,
  `valuation_payments_employee_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`valuation_payments_employee_id`),
  INDEX `referral_payments_id` (`valuation_payments_employee_id` ASC, `valuation_payments_employee_valuation_id` ASC, `valuation_payments_employee_created_by` ASC, `valuation_payments_employee_updated_by` ASC) VISIBLE,
  INDEX `fk_valuation_payments_employee_valuation_payments_emplo_1` (`valuation_payments_employee_valuation_id` ASC) VISIBLE,
  INDEX `fk_valuation_payments_employee_valuation_payments_emplo_2` (`valuation_payments_employee_employee_id` ASC) VISIBLE,
  INDEX `fk_valuation_payments_employee_valuation_payments_emplo_3` (`valuation_payments_employee_created_by` ASC) VISIBLE,
  INDEX `fk_valuation_payments_employee_valuation_payments_emplo_4` (`valuation_payments_employee_updated_by` ASC) VISIBLE,
  INDEX `fk_valuation_payments_employee_valuation_payments_employee__idx` (`valuation_payments_employee_payment_type` ASC) VISIBLE,
  CONSTRAINT `fk_valuation_payments_employee_valuation_payments_emplo_1`
    FOREIGN KEY (`valuation_payments_employee_valuation_id`)
    REFERENCES `atlas`.`valuation` (`valuation_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_payments_employee_valuation_payments_emplo_2`
    FOREIGN KEY (`valuation_payments_employee_employee_id`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_payments_employee_valuation_payments_emplo_3`
    FOREIGN KEY (`valuation_payments_employee_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_payments_employee_valuation_payments_emplo_4`
    FOREIGN KEY (`valuation_payments_employee_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_val_payments_employee_val_payments_employee_payment_type`
    FOREIGN KEY (`valuation_payments_employee_payment_type`)
    REFERENCES `atlas`.`referral_payment_type` (`referral_payment_type_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`valuation_task_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`valuation_task_status` (
  `valuation_task_status_id` TINYINT NOT NULL AUTO_INCREMENT,
  `valuation_task_status_name` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`valuation_task_status_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`valuation_task`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`valuation_task` (
  `valuation_task_id` INT NOT NULL AUTO_INCREMENT,
  `valuation_id` INT NULL DEFAULT NULL,
  `valuation_task_name` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `valuation_task_status` TINYINT NULL DEFAULT NULL,
  `valuation_task_completed_date` DATE NULL DEFAULT NULL,
  `valuation_task_notes_private` TEXT NULL DEFAULT NULL,
  `valuation_task_sort` TINYINT NULL DEFAULT NULL,
  `valuation_task_date_updated` DATETIME NULL DEFAULT NULL,
  `valuation_task_updated_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`valuation_task_id`),
  INDEX `valuation_task_id` (`valuation_task_id` ASC, `valuation_id` ASC, `valuation_task_status` ASC, `valuation_task_sort` ASC) VISIBLE,
  INDEX `valuation_task_name` (`valuation_task_name` ASC) VISIBLE,
  INDEX `fk_valuation_task_valuation_task_updated_by` (`valuation_task_updated_by` ASC) VISIBLE,
  INDEX `fk_valuation_task_valuation_task_status_idx` (`valuation_task_status` ASC) VISIBLE,
  INDEX `fk_valuation_task_valuation_id_idx` (`valuation_id` ASC) VISIBLE,
  CONSTRAINT `fk_valuation_task_valuation_task_updated_by`
    FOREIGN KEY (`valuation_task_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_task_valuation_task_status`
    FOREIGN KEY (`valuation_task_status`)
    REFERENCES `atlas`.`valuation_task_status` (`valuation_task_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_task_valuation_id`
    FOREIGN KEY (`valuation_id`)
    REFERENCES `atlas`.`valuation` (`valuation_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`valuation_task_defaults`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`valuation_task_defaults` (
  `valuation_task_defaults_id` SMALLINT NOT NULL AUTO_INCREMENT,
  `valuation_task_defaults_type` TINYINT NULL DEFAULT NULL,
  `valuation_task_defaults_name` VARCHAR(100) NULL DEFAULT NULL,
  `valuation_task_defaults_status` TINYINT NULL DEFAULT NULL,
  `valuation_task_defaults_notes` TEXT NULL DEFAULT NULL,
  `valuation_task_defaults_description` TEXT NULL DEFAULT NULL,
  `valuation_task_defaults_sort` TINYINT NULL DEFAULT NULL,
  PRIMARY KEY (`valuation_task_defaults_id`),
  INDEX `fk_valuation_task_defaults_valuation_task_defaults_status_idx` (`valuation_task_defaults_status` ASC) VISIBLE,
  CONSTRAINT `fk_valuation_task_defaults_valuation_task_defaults_status`
    FOREIGN KEY (`valuation_task_defaults_status`)
    REFERENCES `atlas`.`valuation_task_status` (`valuation_task_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`valuation_type`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`valuation_type` (
  `valuation_type_id` TINYINT NOT NULL AUTO_INCREMENT,
  `valuation_type_name` VARCHAR(25) NULL DEFAULT NULL,
  `valuation_type_name2` TEXT NULL DEFAULT NULL,
  PRIMARY KEY (`valuation_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`valuation_updates`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`valuation_updates` (
  `valuation_updates_id` INT NOT NULL AUTO_INCREMENT,
  `valuation_updates_valuation_id` INT NULL DEFAULT NULL,
  `valuation_updates_public_notes` TEXT NULL DEFAULT NULL,
  `valuation_updates_private_notes` TEXT NULL DEFAULT NULL,
  `valuation_updates_notify_landlord_vendor` TINYINT NULL DEFAULT NULL,
  `valuation_updates_date_created` DATETIME NULL DEFAULT NULL,
  `valuation_updates_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`valuation_updates_id`),
  INDEX `fk_valuation_updates_valuation_updates_valuation_id` (`valuation_updates_valuation_id` ASC) VISIBLE,
  INDEX `fk_valuation_updates_valuation_updates_created_by` (`valuation_updates_created_by` ASC) VISIBLE,
  CONSTRAINT `fk_valuation_updates_valuation_updates_created_by`
    FOREIGN KEY (`valuation_updates_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_valuation_updates_valuation_updates_valuation_id`
    FOREIGN KEY (`valuation_updates_valuation_id`)
    REFERENCES `atlas`.`valuation` (`valuation_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`website_search`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`website_search` (
  `website_search_id` INT NOT NULL AUTO_INCREMENT,
  `website_search_locations` VARCHAR(255) NULL DEFAULT NULL,
  `website_search_date_added` DATETIME NULL DEFAULT NULL,
  `website_search_longitude` DECIMAL(11,8) NULL DEFAULT NULL,
  `website_search_latitude` DECIMAL(11,8) NULL DEFAULT NULL,
  `website_search_type` TEXT NULL DEFAULT NULL,
  PRIMARY KEY (`website_search_id`),
  UNIQUE INDEX `website_search_locations` (`website_search_locations` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`wins`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`wins` (
  `win_id` INT NOT NULL AUTO_INCREMENT,
  `win_name` TEXT NULL DEFAULT NULL,
  `win_date_created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`win_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`works_files`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`works_files` (
  `works_files_id` INT NOT NULL AUTO_INCREMENT,
  `works_id` INT NULL DEFAULT NULL,
  `works_files_filename` VARCHAR(255) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `works_files_caption` VARCHAR(100) CHARACTER SET 'utf8mb3' NULL DEFAULT NULL,
  `works_files_date_added` DATETIME NULL DEFAULT NULL,
  `works_files_sort` MEDIUMINT NULL DEFAULT NULL,
  PRIMARY KEY (`works_files_id`),
  INDEX `fk_works_files_works_id_idx` (`works_id` ASC) VISIBLE,
  CONSTRAINT `fk_works_files_works_id`
    FOREIGN KEY (`works_id`)
    REFERENCES `atlas`.`works` (`works_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


-- -----------------------------------------------------
-- Table `atlas`.`works_log_status`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`works_log_status` (
  `works_log_status_id` INT NOT NULL AUTO_INCREMENT,
  `works_id` INT NULL DEFAULT NULL,
  `works_status_old` TINYINT(1) NULL DEFAULT NULL,
  `works_status_new` TINYINT(1) NULL DEFAULT NULL,
  `works_updated_by` INT NULL DEFAULT NULL,
  `works_date_updated` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`works_log_status_id`),
  INDEX `fk_works_log_status_works_updated_by` (`works_updated_by` ASC) VISIBLE,
  INDEX `fk_works_log_status_works_id_idx` (`works_id` ASC) VISIBLE,
  INDEX `fk_works_log_status_works_status_idx` (`works_status_old` ASC, `works_status_new` ASC) VISIBLE,
  CONSTRAINT `fk_works_log_status_works_updated_by`
    FOREIGN KEY (`works_updated_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_works_log_status_works_id`
    FOREIGN KEY (`works_id`)
    REFERENCES `atlas`.`works` (`works_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_works_status_old`
    FOREIGN KEY (`works_status_old`)
    REFERENCES `atlas`.`works_status` (`works_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,

CONSTRAINT `fk_works_status_new`
    FOREIGN KEY (`works_status_new`)
    REFERENCES `atlas`.`works_status` (`works_status_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `atlas`.`works_updates`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `atlas`.`works_updates` (
  `works_updates_id` INT NOT NULL AUTO_INCREMENT,
  `works_updates_works_id` INT NULL DEFAULT NULL,
  `works_updates_public_notes` TEXT NULL DEFAULT NULL,
  `works_updates_private_notes` TEXT NULL DEFAULT NULL,
  `works_updates_notify_landlords` TINYINT NULL DEFAULT NULL,
  `works_updates_notify_tenants` TINYINT NULL DEFAULT NULL,
  `works_updates_notify_contractor` TINYINT NULL DEFAULT NULL,
  `works_updates_notify_works_dept` TINYINT NULL DEFAULT NULL,
  `works_updates_date_created` DATETIME NULL DEFAULT NULL,
  `works_updates_created_by` INT NULL DEFAULT NULL,
  PRIMARY KEY (`works_updates_id`),
  INDEX `fk_works_updates_works_updates_works_id` (`works_updates_works_id` ASC) VISIBLE,
  INDEX `fk_works_updates_works_updates_created_by` (`works_updates_created_by` ASC) VISIBLE,
  CONSTRAINT `fk_works_updates_works_updates_created_by`
    FOREIGN KEY (`works_updates_created_by`)
    REFERENCES `atlas`.`employee` (`employee_id`)
    ON DELETE RESTRICT
    ON UPDATE CASCADE,
  CONSTRAINT `fk_works_updates_works_updates_works_id`
    FOREIGN KEY (`works_updates_works_id`)
    REFERENCES `atlas`.`works` (`works_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_unicode_ci;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
